!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,(function(t){"use strict";const e=(t,e=1e4)=>(t=parseFloat(t+"")||0,Math.round((t+Number.EPSILON)*e)/e),i=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=-1!==i.indexOf("hidden"),s=-1!==i.indexOf("visible");return e&&!n&&!s},n=function(t,e=void 0){return!(!t||t===document.body||e&&t===e)&&(i(t)?t:n(t.parentElement,e))},s=function(t){var e=(new DOMParser).parseFromString(t,"text/html").body;if(e.childElementCount>1){for(var i=document.createElement("div");e.firstChild;)i.appendChild(e.firstChild);return i}return e.firstChild},o=t=>`${t||""}`.split(" ").filter((t=>!!t)),a=(t,e,i)=>{t&&o(e).forEach((e=>{t.classList.toggle(e,i||!1)}))};class r{constructor(t){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}}const l={passive:!1};class c{constructor(t,{start:e=(()=>!0),move:i=(()=>{}),end:n=(()=>{})}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=n;for(const t of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[t]=this[t].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onMove,l),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||0!==t.button)return;const e=new r(t);this.currentPointers.some((t=>t.id===e.id))||this.triggerPointerStart(e,t)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new r(e),t);window.addEventListener("blur",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i="changedTouches"in t?Array.from(t.changedTouches||[]).map((t=>new r(t))):[new r(t)],n=[];for(const t of i){const e=this.currentPointers.findIndex((e=>e.id===t.id));e<0||(n.push(t),this.currentPointers[e]=t)}n.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&0!==t.button||(this.triggerPointerEnd(t,new r(t)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new r(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex((t=>t.id===e.id));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onMove,l),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function h(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0}function d(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}const u=t=>"object"==typeof t&&null!==t&&t.constructor===Object&&"[object Object]"===Object.prototype.toString.call(t),f=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const i=e[n]||{};Object.entries(i).forEach((([e,i])=>{const n=Array.isArray(i)?[]:{};t[e]||Object.assign(t,{[e]:n}),u(i)?Object.assign(t[e],f(n,i)):Array.isArray(i)?Object.assign(t,{[e]:[...i]}):Object.assign(t,{[e]:i})}))}return t},p=function(t,e){return t.split(".").reduce(((t,e)=>"object"==typeof t?t[e]:void 0),e)};class g{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith("on")&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}setOptions(t){this.options=t?f({},this.constructor.defaults,t):{};for(const[t,e]of Object.entries(this.option("on")||{}))this.on(t,e)}option(t,...e){let i=p(t,this.options);return i&&"function"==typeof i&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...n){let s=p(e,t);var o;"string"!=typeof(o=s)||isNaN(o)||isNaN(parseFloat(o))||(s=parseFloat(s)),"true"===s&&(s=!0),"false"===s&&(s=!1),s&&"function"==typeof s&&(s=s.call(this,this,t,...n));let a=p(e,this.options);return a&&"function"==typeof a?s=a.call(this,this,t,...n,s):void 0===s&&(s=a),void 0===s?i:s}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,((t,e,i)=>{let n="";return i?n=this.option(`${e[0]+e.toLowerCase().substring(1)}.l10n.${i}`):e&&(n=this.option(`l10n.${e}`)),n||(n=t),n}));for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\{\{(.*?)\}\}/g,((t,e)=>e))}on(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach((t=>{let i=this.events.get(t);i||(this.events.set(t,[]),i=[]),i.includes(e)||i.push(e),this.events.set(t,i)}))}off(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach((t=>{const i=this.events.get(t);if(Array.isArray(i)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}))}emit(t,...e){[...this.events.get(t)||[]].forEach((t=>t(this,...e))),"*"!==t&&this.emit("*",t,...e)}}Object.defineProperty(g,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.28"}),Object.defineProperty(g,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class m extends g{constructor(t={}){super(t),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,n]of Object.entries(t)){const t=this.option(i),s=this.plugins[i];s||!1===t?s&&!1===t&&(s.detach(),delete this.plugins[i]):e.set(i,new n(this,t||{}))}for(const[t,i]of e)this.plugins[t]=i,i.attach()}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const t=this.plugins[e];t&&t.detach(),delete this.plugins[e]}return this.emit("detachPlugins"),this}}var b;!function(t){t[t.Init=0]="Init",t[t.Error=1]="Error",t[t.Ready=2]="Ready",t[t.Panning=3]="Panning",t[t.Mousemove=4]="Mousemove",t[t.Destroy=5]="Destroy"}(b||(b={}));const v=["a","b","c","d","e","f"],y={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:y},x='<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>',E=t=>t&&null!==t&&t instanceof Element&&"nodeType"in t,S=(t,e)=>{t&&o(e).forEach((e=>{t.classList.remove(e)}))},P=(t,e)=>{t&&o(e).forEach((e=>{t.classList.add(e)}))},C={a:1,b:0,c:0,d:1,e:0,f:0},T=1e5,M=1e4,O="mousemove",A="drag",L="content";let z=null,R=null;class k extends m{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===R&&(R=window.matchMedia("(hover: none)").matches),R}get isMobile(){return null===z&&(z=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),z}get panMode(){return this.options.panMode!==O||this.isTouchDevice?A:O}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return"auto"===t?this.isTouchDevice:t}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of v){const e="e"==t||"f"===t?1e-4:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var n;if(super(e),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:b.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},k.Plugins),i)),this.emit("attachPlugins"),this.emit("init");const o=this.content;if(o.addEventListener("load",this.onLoad),o.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){t.classList.add(this.cn("isLoading"));const e=s(x);!t.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(e):this.spinner=(null===(n=o.parentElement)||void 0===n?void 0:n.insertBefore(e,o))||null}this.emit("beforeLoad")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:t}=this,e=this.cn(L);let i=this.option(L)||t.querySelector(`.${e}`);if(i||(i=t.querySelector("img,picture")||t.firstElementChild,i&&P(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){const{spinner:t,container:e,state:i}=this;t&&(t.remove(),this.spinner=null),this.option("spinner")&&e.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===b.Init?this.enable():this.updateMetrics()}onError(){this.state!==b.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=b.Error,this.emit("error"))}attachObserver(){var t;const e=()=>{const{container:t,containerRect:e}=this;return Math.abs(e.width-t.getBoundingClientRect().width)>.1||Math.abs(e.height-t.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{e()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(t=this.resizeObserver)||void 0===t||t.observe(this.container)}detachObserver(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new c(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(t=this.pointerTracker)||void 0===t||t.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const t=this.friction,e=this.option("maxVelocity");for(const i of v)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop("current")}setTargetForce(){for(const t of v)"e"===t&&this.isBouncingX||"f"===t&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,n=i.e+t,s=i.f+e,o=this.getBounds(),{x:a,y:r}=o,l=a.min,c=a.max,h=r.min,d=r.max;let u=0,f=0;return l!==1/0&&n<l?u=l-n:c!==1/0&&n>c&&(u=c-n),h!==1/0&&s<h?f=h-s:d!==1/0&&s>d&&(f=d-s),Math.abs(u)<1e-4&&(u=0),Math.abs(f)<1e-4&&(f=0),Object.assign(Object.assign({},o),{xDiff:u,yDiff:f,inBounds:!u&&!f})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:n,fitHeight:s,fullWidth:o,fullHeight:a}=i;let r=o,l=a;if(this.option("zoom")||0!==this.angle){const i=!(e instanceof HTMLImageElement)&&("none"===window.getComputedStyle(e).maxWidth||"none"===window.getComputedStyle(e).maxHeight),c=i?o:n,h=i?a:s,d=this.getMatrix(t),u=new DOMPoint(0,0).matrixTransform(d),f=new DOMPoint(0+c,0).matrixTransform(d),p=new DOMPoint(0+c,0+h).matrixTransform(d),g=new DOMPoint(0,0+h).matrixTransform(d),m=Math.abs(p.x-u.x),b=Math.abs(p.y-u.y),v=Math.abs(g.x-f.x),y=Math.abs(g.y-f.y);r=Math.max(m,v),l=Math.max(b,y)}return{contentWidth:r,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:n,yDiff:s}=this.checkBounds();const o=this.option("maxVelocity");let a=this.velocity.e,r=this.velocity.f;0!==n?(this.isBouncingX=!0,n*a<=0?a+=.14*n:(a=.14*n,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==s?(this.isBouncingY=!0,s*r<=0?r+=.14*s:(r=.14*s,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),o&&(r=Math.max(Math.min(r,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=r)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const t of v)this.current[t]=this.target[t]=e[t];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=b.Ready,this.emit("ready")}onClick(t){var e;"click"===t.type&&0===t.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(e=this.pointerTracker)||void 0===e||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i.hasAttribute("disabled"))return t.preventDefault(),void t.stopPropagation();if((()=>{const t=window.getSelection();return t&&"Range"===t.type})()&&!i.closest("button"))return;const n=i.closest("[data-panzoom-action]"),s=i.closest("[data-panzoom-change]"),o=n||s,a=o&&E(o)?o.dataset:null;if(a){const e=a.panzoomChange,i=a.panzoomAction;if((e||i)&&t.preventDefault(),e){let t={};try{t=JSON.parse(e)}catch(t){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(t)}if(i)return void(this[i]&&this[i]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();if(i.closest("[data-fancybox]"))return;const r=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(r.x-l.x)>2||Math.abs(r.y-l.y)>2))return;this.dragStart.time=0;const c=e=>{this.option("zoom",t)&&e&&"string"==typeof e&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(e)&&"function"==typeof this[e]&&(t.preventDefault(),this[e]({event:t}))},h=this.option("click",t),d=this.option("dblClick",t);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit("click",t),!t.defaultPrevented&&h&&c(h)):(this.emit("dblClick",t),t.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null}),350))):(this.emit("click",t),!t.defaultPrevented&&h&&c(h))}addTrackingPoint(t){const e=this.trackingPoints.filter((t=>t.time>Date.now()-100));e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var n;if(!1===this.option("touch",t))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const s=this.content.getBoundingClientRect();if(this.dragStart={x:s.x,y:s.y,top:s.top,left:s.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;const o=t.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===t.type)["A","BUTTON"].includes(o.nodeName)||t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit("touchStart",t)),!0}onPointerMove(t,i,s){if(!1===this.option("touch",t))return;if(!this.isDragging)return;if(i.length<2&&this.panOnlyZoomed&&e(this.targetScale)<=e(this.minScale))return;if(this.emit("touchMove",t),t.defaultPrevented)return;this.addTrackingPoint(i[0]);const{content:o}=this,a=d(s[0],s[1]),r=d(i[0],i[1]);let l=0,c=0;if(i.length>1){const t=o.getBoundingClientRect();l=a.clientX-t.left-.5*t.width,c=a.clientY-t.top-.5*t.height}const u=h(s[0],s[1]),f=h(i[0],i[1]);let p=u?f/u:1,g=r.clientX-a.clientX,m=r.clientY-a.clientY;this.dragOffset.x+=g,this.dragOffset.y+=m,this.dragOffset.time=Date.now()-this.dragStart.time;let b=e(this.targetScale)===e(this.minScale)&&this.option("lockAxis");if(b&&!this.lockedAxis)if("xy"===b||"y"===b||"touchmove"===t.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void t.preventDefault();const e=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=e>45&&e<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,g=0,m=0}else this.lockedAxis=b;if(n(t.target,this.content)&&(b="x",this.dragOffset.y=0),b&&"xy"!==b&&this.lockedAxis!==b&&e(this.targetScale)===e(this.minScale))return;t.cancelable&&t.preventDefault(),this.container.classList.add(this.cn("isDragging"));const v=this.checkBounds(g,m);this.option("rubberband")?("x"!==this.isInfinite&&(v.xDiff>0&&g<0||v.xDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*v.xDiff))),"y"!==this.isInfinite&&(v.yDiff>0&&m<0||v.yDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*v.yDiff)))):(v.xDiff&&(g=0),v.yDiff&&(m=0));const y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(p=Math.max(p,w)),y>1.5*x&&(p=Math.min(p,x)),"y"===this.lockedAxis&&e(y)===e(w)&&(g=0),"x"===this.lockedAxis&&e(y)===e(w)&&(m=0),this.applyChange({originX:l,originY:c,panX:g,panY:m,scale:p,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(t,e,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),n(t.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==b.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var t;const i=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of v)this.velocity[t]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:n}=this,s=n[0],o=n[n.length-1];let a=0,r=0,l=0;o&&s&&(a=o.clientX-s.clientX,r=o.clientY-s.clientY,l=o.time-s.time);const c=(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1;1!==c&&(a*=c,r*=c);let h=0,d=0,u=0,f=0,p=this.option("decelFriction");const g=this.targetScale;if(l>0){u=Math.abs(a)>3?a/(l/30):0,f=Math.abs(r)>3?r/(l/30):0;const t=this.option("maxVelocity");t&&(u=Math.max(Math.min(u,t),-1*t),f=Math.max(Math.min(f,t),-1*t))}u&&(h=u/(1/(1-p)-1)),f&&(d=f/(1/(1-p)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&e(g)===this.minScale)&&(h=u=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&e(g)===this.minScale)&&(d=f=0);const m=this.dragOffset.x,b=this.dragOffset.y,y=this.option("dragMinThreshold")||0;Math.abs(m)<y&&Math.abs(b)<y&&(h=d=0,u=f=0),(this.option("zoom")&&(g<this.minScale-1e-5||g>this.maxScale+1e-5)||i&&!h&&!d)&&(p=.35),this.applyChange({panX:h,panY:d,friction:p}),this.emit("decel",u,f,m,b)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const i=Math.max(-1,Math.min(1,e));if(this.emit("wheel",t,i),this.panMode===O)return;if(t.defaultPrevented)return;const n=this.option("wheel");"pan"===n?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){"Escape"===t.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:t,target:i,content:n,contentRect:s}=this,o=Object.assign({},C);for(const n of v){const s="e"==n||"f"===n?M:T;o[n]=e(t[n],s),Math.abs(i[n]-t[n])<("e"==n||"f"===n?.51:.001)&&(t[n]=i[n])}let{a:a,b:r,c:l,d:c,e:h,f:d}=o,u=`matrix(${a}, ${r}, ${l}, ${c}, ${h}, ${d})`,f=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(f=f.parentElement||f),f.style.transform===u)return;f.style.transform=u;const{contentWidth:p,contentHeight:g}=this.calculateContentDim();s.width=p,s.height=g,this.emit("afterTransform")}updateMetrics(t=!1){var i;if(!this||this.state===b.Destroy)return;if(this.isContentLoading)return;const n=Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1),{container:s,content:o}=this,a=o instanceof HTMLImageElement,r=s.getBoundingClientRect(),l=getComputedStyle(this.container);let c=r.width*n,h=r.height*n;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),u=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),f=h-d;this.containerRect={width:c,height:h,innerWidth:u,innerHeight:f};let p=this.option("width")||"auto",g=this.option("height")||"auto";"auto"===p&&(p=parseFloat(o.dataset.width||"")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalWidth:t instanceof SVGElement?t.width.baseVal.value:Math.max(t.offsetWidth,t.scrollWidth),e||0})(o)),"auto"===g&&(g=parseFloat(o.dataset.height||"")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalHeight:t instanceof SVGElement?t.height.baseVal.value:Math.max(t.offsetHeight,t.scrollHeight),e||0})(o));let m=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(m=m.parentElement||m);const v=m.getAttribute("style")||"";m.style.setProperty("transform","none","important"),a&&(m.style.width="",m.style.height=""),m.offsetHeight;const y=o.getBoundingClientRect();let w=y.width*n,x=y.height*n,E=0,S=0;a&&(Math.abs(p-w)>1||Math.abs(g-x)>1)&&({width:w,height:x,top:E,left:S}=((t,e,i,n)=>{const s=i/n;return s>t/e?(i=t,n=t/s):(i=e*s,n=e),{width:i,height:n,top:.5*(e-n),left:.5*(t-i)}})(w,x,p,g)),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:y.top-r.top+E,bottom:r.bottom-y.bottom+E,left:y.left-r.left+S,right:r.right-y.right+S,fitWidth:w,fitHeight:x,width:w,height:x,fullWidth:p,fullHeight:g}),m.style.cssText=v,a&&(m.style.width=`${w}px`,m.style.height=`${x}px`),this.setTransform(),!0!==t&&this.emit("refresh"),this.ignoreBounds||(e(this.targetScale)<e(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===b.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:t,contentHeight:i}=this.calculateContentDim(this.target),{targetScale:n,lockedAxis:s}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let r=0,l=0,c=0,h=0;const d=this.option("infinite");if(!0===d||s&&d===s)r=-1/0,c=1/0,l=-1/0,h=1/0;else{let{containerRect:s,contentRect:d}=this,u=e(o*n,M),f=e(a*n,M),{innerWidth:p,innerHeight:g}=s;if(s.width===u&&(p=s.width),s.width===f&&(g=s.height),t>p){c=.5*(t-p),r=-1*c;let e=.5*(d.right-d.left);r+=e,c+=e}if(o>p&&t<p&&(r-=.5*(o-p),c-=.5*(o-p)),i>g){h=.5*(i-g),l=-1*h;let t=.5*(d.bottom-d.top);l+=t,h+=t}a>g&&i<g&&(r-=.5*(a-g),c-=.5*(a-g))}return{x:{min:r,max:c},y:{min:l,max:h}}}getBounds(){const t=this.option("bounds");return"auto"!==t?t:this.calculateBounds()}updateControls(){const t=this,i=t.container,{panMode:n,contentRect:s,fullScale:o,targetScale:r,coverScale:l,maxScale:c,minScale:h}=t;let d={toggleMax:r-h<.5*(c-h)?c:h,toggleCover:r-h<.5*(l-h)?l:h,toggleZoom:r-h<.5*(o-h)?o:h}[t.option("click")||""]||h,u=t.canZoomIn(),f=t.canZoomOut(),p=n===A&&!!this.option("touch"),g=f&&p;if(p&&(e(r)<e(h)&&!this.panOnlyZoomed&&(g=!0),(e(s.width,1)>e(s.fitWidth,1)||e(s.height,1)>e(s.fitHeight,1))&&(g=!0)),e(s.width*r,1)<e(s.fitWidth,1)&&(g=!1),n===O&&(g=!1),a(i,this.cn("isDraggable"),g),!this.option("zoom"))return;let m=u&&e(d)>e(r),b=!m&&!g&&f&&e(d)<e(r);a(i,this.cn("canZoomIn"),m),a(i,this.cn("canZoomOut"),b);for(const t of i.querySelectorAll('[data-panzoom-action="zoomIn"]'))u?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of i.querySelectorAll('[data-panzoom-action="zoomOut"]'))f?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of i.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){u||f?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));const e=t.querySelector("g");e&&(e.style.display=u?"":"none")}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:n=this.option("friction"),angle:s=0,originX:o=0,originY:a=0,flipX:r=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==b.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:s,originX:o,originY:a,friction:n,flipX:r,flipY:l,ignoreBounds:c})}applyChange({panX:t=0,panY:i=0,scale:n=1,angle:s=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:r=this.option("friction"),flipX:l=!1,flipY:c=!1,ignoreBounds:h=!1,bounce:d=this.option("bounce")}){const u=this.state;if(u===b.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=r||0,this.ignoreBounds=h;const{current:f}=this,p=f.e,g=f.f,m=this.getMatrix(this.target);let y=(new DOMMatrix).translate(p,g).translate(o,a).translate(t,i);if(this.option("zoom")){if(!h){const t=this.targetScale,e=this.minScale,i=this.maxScale;t*n<e&&(n=e/t),t*n>i&&(n=i/t)}y=y.scale(n)}y=y.translate(-o,-a).translate(-p,-g).multiply(m),s&&(y=y.rotate(s)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const t of v)"e"!==t&&"f"!==t&&(y[t]>this.minScale+1e-5||y[t]<this.minScale-1e-5)?this.target[t]=y[t]:this.target[t]=e(y[t],M);(this.targetScale<this.scale||Math.abs(n-1)>.1||this.panMode===O||!1===d)&&!h&&this.clampTargetBounds(),u===b.Init?this.animate():this.isResting||(this.state=b.Panning,this.requestTick())}stop(t=!1){if(this.state===b.Init||this.state===b.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of v)this.velocity[e]=0,"current"===t?this.current[e]=this.target[e]:"target"===t&&(this.target[e]=this.current[e]);this.setTransform(),S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1,this.state=b.Ready,e&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),P(this.container,"is-animating"),this.isScaling&&P(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(t,i=this.option("mouseMoveFriction")){if(this.pmme=t,this.panMode!==O||!t)return;if(e(this.targetScale)<=e(this.minScale))return;this.emit("mouseMove",t);const{container:n,containerRect:s,contentRect:o}=this,a=s.width,r=s.height,l=n.getBoundingClientRect(),c=(t.clientX||0)-l.left,h=(t.clientY||0)-l.top;let{contentWidth:d,contentHeight:u}=this.calculateContentDim(this.target);const f=this.option("mouseMoveFactor");f>1&&(d!==a&&(d*=f),u!==r&&(u*=f));let p=.5*(d-a)-c/a*100/100*(d-a);p+=.5*(o.right-o.left);let g=.5*(u-r)-h/r*100/100*(u-r);g+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:g-this.target.f,friction:i})}zoomWithWheel(t){if(this.state===b.Destroy||this.state===b.Init)return;const i=Date.now();if(i-this.pwt<45)return void t.preventDefault();this.pwt=i;var n=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const s=Math.max(-1,Math.min(1,n)),{targetScale:o,maxScale:a,minScale:r}=this;let l=o*(100+45*s)/100;e(l)<e(r)&&e(o)<=e(r)?(this.cwd+=Math.abs(s),l=r):e(l)>e(a)&&e(o)>=e(a)?(this.cwd+=Math.abs(s),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),r)),this.cwd>this.option("wheelLimit")||(t.preventDefault(),e(l)!==e(o)&&this.zoomTo(l,{event:t}))}canZoomIn(){return this.option("zoom")&&(e(this.contentRect.width,1)<e(this.contentRect.fitWidth,1)||e(this.targetScale)<e(this.maxScale))}canZoomOut(){return this.option("zoom")&&e(this.targetScale)>e(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo("fit",t)}zoomToCover(t){this.zoomTo("cover",t)}zoomToFull(t){this.zoomTo("full",t)}zoomToMax(t){this.zoomTo("max",t)}toggleZoom(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",t)}toggleMax(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",t)}toggleCover(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",t)}iterateZoom(t){this.zoomTo("next",t)}zoomTo(t=1,{friction:e="auto",originX:i="auto",originY:n="auto",event:s}={}){if(this.isContentLoading||this.state===b.Destroy)return;const{targetScale:o}=this;this.stop();let a=1;if(this.panMode===O&&(s=this.pmme||s),s||"auto"===i||"auto"===n){const t=this.content.getBoundingClientRect(),e=this.container.getBoundingClientRect(),o=s?s.clientX:e.left+.5*e.width,a=s?s.clientY:e.top+.5*e.height;i=o-t.left-.5*t.width,n=a-t.top-.5*t.height}const r=this.fullScale,l=this.maxScale,c=this.coverScale;if("number"==typeof t)a=t/o||1;else if("full"===t)a=r/o||1;else if("cover"===t)a=c/o||1;else if("max"===t)a=l/o||1;else if("fit"===t)a=1/o||1;else if("next"===t){let t=[1,r,l].sort(((t,e)=>t-e)),e=t.findIndex((t=>t>o+1e-5));a=t[e]/o||1/o}e="auto"===e?a>1?.15:.25:e,this.applyChange({scale:a,originX:i,originY:n,friction:e}),s&&this.panMode===O&&this.panWithMouse(s,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");t.classList.toggle(e);const n=t.classList.contains(e);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}getMatrix(t=this.current){const{a:e,b:i,c:n,d:s,e:o,f:a}=t;return new DOMMatrix([e,i,n,s,o,a])}reset(t){if(this.state!==b.Init&&this.state!==b.Destroy){this.stop("current");for(const t of v)this.target[t]=C[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===t?this.option("friction"):t,this.state=b.Panning,this.requestTick())}}destroy(){this.stop(),this.state=b.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option("classes")||{};for(const e of Object.values(i))t.classList.remove(e+"");e&&(e.removeEventListener("load",this.onLoad),e.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(k,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(k,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const I=function(t,e){let i=!0;return(...n)=>{i&&(i=!1,t(...n),setTimeout((()=>{i=!0}),e))}},D=(t,e)=>{let i=[];return t.childNodes.forEach((t=>{t.nodeType!==Node.ELEMENT_NODE||e&&!t.matches(e)||i.push(t)})),i},F={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var j;!function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Destroy=2]="Destroy"}(j||(j={}));const H=t=>{if("string"==typeof t||t instanceof HTMLElement)t={html:t};else{const e=t.thumb;void 0!==e&&("string"==typeof e&&(t.thumbSrc=e),e instanceof HTMLImageElement&&(t.thumbEl=e,t.thumbElSrc=e.src,t.thumbSrc=e.src),delete t.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},t)},B=(t={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},t);class N extends g{constructor(t,e){super(e),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}}const _={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class $ extends N{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let t=this.list;if(!t){t=document.createElement("ul"),P(t,this.cn("list")),t.setAttribute("role","tablist");const e=this.instance.container;e.appendChild(t),P(e,this.cn("hasDots")),this.list=t}return t}refresh(){var t;const e=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),s=this.option("dynamicFrom");if(e<i||e>n)return void this.cleanup();const o="number"==typeof s&&e>5&&e>=s,r=!this.list||this.isDynamic!==o||this.list.children.length!==e;r&&this.cleanup();const l=this.build();if(a(l,this.cn("isDynamic"),!!o),r)for(let t=0;t<e;t++)l.append(this.createItem(t));let c,h=0;for(const e of[...l.children]){const i=h===this.instance.page;i&&(c=e),a(e,this.cn("isCurrent"),i),null===(t=e.children[0])||void 0===t||t.setAttribute("aria-selected",i?"true":"false");for(const t of["isBeforePrev","isPrev","isNext","isAfterNext"])S(e,this.cn(t));h++}if(c=c||l.firstChild,o&&c){const t=c.previousElementSibling,e=t&&t.previousElementSibling;P(t,this.cn("isPrev")),P(e,this.cn("isBeforePrev"));const i=c.nextElementSibling,n=i&&i.nextElementSibling;P(i,this.cn("isNext")),P(n,this.cn("isAfterNext"))}this.isDynamic=o}createItem(t=0){var e;const i=document.createElement("li");i.setAttribute("role","presentation");const n=s(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(n),null===(e=i.children[0])||void 0===e||e.setAttribute("role","tab"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty($,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:_});const W="disabled",X="next",q="prev";class Y extends N{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const t=this.instance,e=t.pages.length,i=t.page;if(e<2)return void this.cleanup();this.build();let n=this.prev,s=this.next;n&&s&&(n.removeAttribute(W),s.removeAttribute(W),t.isInfinite||(i<=0&&n.setAttribute(W,""),i>=e-1&&s.setAttribute(W,"")))}addBtn(t){var e;const i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize(`{{${t.toUpperCase()}}}`)),P(n,this.cn("button")+" "+this.cn(t===X?"isNext":"isPrev"));const s=i.isRTL?t===X?q:X:t;var o;return n.innerHTML=i.localize(this.option(`${s}Tpl`)),n.dataset[`carousel${o=t,o?o.match("^[a-z]")?o.charAt(0).toUpperCase()+o.substring(1):o:""}`]="true",null===(e=this.container)||void 0===e||e.appendChild(n),n}build(){const t=this.instance.container,e=this.cn("container");let{container:i,prev:n,next:s}=this;i||(i=t.querySelector("."+e),this.isDom=!!i),i||(i=document.createElement("div"),P(i,e),t.appendChild(i)),this.container=i,s||(s=i.querySelector("[data-carousel-next]")),s||(s=this.addBtn(X)),this.next=s,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(q)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(Y,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class V extends N{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(t){this.target=this.instance,this.nav=t,this.attachEvents()}addAsNavFor(t){this.nav=this.instance,this.target=t,this.attachEvents()}attachEvents(){const{nav:t,target:e}=this;t&&e&&(t.options.initialSlide=e.options.initialPage,t.state===j.Ready?this.onNavReady(t):t.on("ready",this.onNavReady),e.state===j.Ready?this.onTargetReady(e):e.on("ready",this.onTargetReady))}onNavReady(t){t.on("createSlide",this.onNavCreateSlide),t.on("Panzoom.click",this.onNavClick),t.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(t){t.on("change",this.onTargetChange),t.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(t,e,i){this.onNavTouch(t,t.panzoom,i)}onNavTouch(t,e,i){var n,s;if(Math.abs(e.dragOffset.x)>3||Math.abs(e.dragOffset.y)>3)return;const o=i.target,{nav:a,target:r}=this;if(!a||!r||!o)return;const l=o.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),!l)return;const c=parseInt(l.dataset.index||"",10)||0,h=r.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),r.slideTo(h,{friction:(null===(s=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===s?void 0:s.Sync.option("friction"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(t,e){e.index===this.selectedIndex&&this.markSelectedSlide(e.index)}onTargetChange(){var t,e;const{target:i,nav:n}=this;if(!i||!n)return;if(n.state!==j.Ready||i.state!==j.Ready)return;const s=null===(e=null===(t=i.pages[i.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index,o=n.getPageForSlide(s);this.markSelectedSlide(s),n.slideTo(o,null===n.prevPage&&null===i.prevPage?{friction:0}:void 0)}markSelectedSlide(t){const e=this.nav;e&&e.state===j.Ready&&(this.selectedIndex=t,[...e.slides].map((e=>{e.el&&e.el.classList[e.index===t?"add":"remove"]("is-nav-selected")})))}attach(){const t=this;let e=t.options.target,i=t.options.nav;e?t.addAsNavFor(e):i&&t.addAsTargetFor(i)}detach(){const t=this,e=t.nav,i=t.target;e&&(e.off("ready",t.onNavReady),e.off("createSlide",t.onNavCreateSlide),e.off("Panzoom.click",t.onNavClick),e.off("Panzoom.touchEnd",t.onNavTouch)),t.nav=null,i&&(i.off("ready",t.onTargetReady),i.off("refresh",t.onTargetChange),i.off("change",t.onTargetChange)),t.target=null}}Object.defineProperty(V,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Z={Navigation:Y,Dots:$,Sync:V},U="animationend",G="isSelected",K="slide";class J extends m{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===j.Ready}get isInfinite(){let t=!1;const{contentDim:e,viewportDim:i,pages:n,slides:s}=this,o=s[0];return n.length>=2&&o&&e+o.dim>=i&&(t=this.option("infinite")),t}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(t,e={},i={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:j.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof t&&(t=document.querySelector(t)),!t||!E(t))throw new Error("No Element found");this.container=t,this.slideNext=I(this.slideNext.bind(this),150),this.slidePrev=I(this.slidePrev.bind(this),150),this.userOptions=e,this.userPlugins=i,queueMicrotask((()=>{this.processOptions()}))}processOptions(){var t,e;const i=f({},J.defaults,this.userOptions);let n="";const s=i.breakpoints;if(s&&u(s))for(const[t,e]of Object.entries(s))window.matchMedia(t).matches&&u(e)&&(n+=t,f(i,e));n===this.bp&&this.state!==j.Init||(this.bp=n,this.state===j.Ready&&(i.initialSlide=(null===(e=null===(t=this.pages[this.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index)||0),this.state!==j.Init&&this.destroy(),super.setOptions(i),!1===this.option("enabled")?this.attachEvents():setTimeout((()=>{this.init()}),0))}init(){this.state=j.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},J.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=j.Ready,this.emit("ready")}initLayout(){const{container:t}=this,e=this.option("classes");P(t,this.cn("container")),a(t,e.isLTR,!this.isRTL),a(t,e.isRTL,this.isRTL),a(t,e.isVertical,!this.isHorizontal),a(t,e.isHorizontal,this.isHorizontal);let i=this.option("viewport")||t.querySelector(`.${e.viewport}`);i||(i=document.createElement("div"),P(i,e.viewport),i.append(...D(t,`.${e.slide}`)),t.prepend(i)),i.addEventListener("scroll",this.onScroll);let n=this.option("track")||t.querySelector(`.${e.track}`);n||(n=document.createElement("div"),P(n,e.track),n.append(...Array.from(i.childNodes))),n.setAttribute("aria-live","polite"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit("initLayout")}initSlides(){const{track:t}=this;if(!t)return;const e=[...this.slides],i=[];[...D(t,`.${this.cn(K)}`)].forEach((t=>{if(E(t)){const e=H({el:t,isDom:!0,index:this.slides.length});i.push(e)}}));for(let t of[...this.option("slides",[])||[],...e]){const e=H(t);i.push(e)}this.slides=i;for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of i)this.emit("beforeInitSlide",t,t.index),this.emit("initSlide",t,t.index);this.emit("initSlides")}setInitialPage(){const t=this.option("initialSlide");this.page="number"==typeof t?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:t,pages:e,isHorizontal:i}=this;if(!t||!e.length)return;let n=this.page;e[n]||(this.page=n=0);const s=(e[n].pos||0)*(this.isRTL&&i?1:-1),o=i?`${s}px`:"0",a=i?"0":`${s}px`;t.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const t=this.option("Panzoom")||{};this.panzoom=new k(this.viewport,f({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},t)),this.panzoom.on("*",((t,e,...i)=>{this.emit(`Panzoom.${e}`,t,...i)})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const t=this.container;t&&(t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let t=[];const{contentDim:e,viewportDim:i}=this;let n=this.option("slidesPerPage");n=("auto"===n||e<=i)&&!1!==this.option("fill")?1/0:parseFloat(n+"");let s=0,o=0,a=0;for(const e of this.slides)(!t.length||o+e.dim-i>.05||a>=n)&&(t.push(B()),s=t.length-1,o=0,a=0),t[s].slides.push(e),o+=e.dim+e.gap,a++;return t}processPages(){const t=this.pages,{contentDim:i,viewportDim:n,isInfinite:s}=this,o=this.option("center"),a=this.option("fill"),r=a&&o&&i>n&&!s;if(t.forEach(((t,e)=>{var s;t.index=e,t.pos=(null===(s=t.slides[0])||void 0===s?void 0:s.pos)||0,t.dim=0;for(const[e,i]of t.slides.entries())t.dim+=i.dim,e<t.slides.length-1&&(t.dim+=i.gap);r&&t.pos+.5*t.dim<.5*n?t.pos=0:r&&t.pos+.5*t.dim>=i-.5*n?t.pos=i-n:o&&(t.pos+=-.5*(n-t.dim))})),t.forEach(((t,o)=>{a&&!s&&i>n&&(t.pos=Math.max(t.pos,0),t.pos=Math.min(t.pos,i-n)),t.pos=e(t.pos,1e3),t.dim=e(t.dim,1e3),Math.abs(t.pos)<=.1&&(t.pos=0)})),s)return t;const l=[];let c;return t.forEach((t=>{const e=Object.assign({},t);c&&e.pos===c.pos?(c.dim+=e.dim,c.slides=[...c.slides,...e.slides]):(e.index=l.length,c=e,l.push(e))})),l}getPageFromIndex(t=0){const e=this.pages.length;let i;return t=parseInt((t||0).toString())||0,i=this.isInfinite?(t%e+e)%e:Math.max(Math.min(t,e-1),0),i}getSlideMetrics(t){var i,n;const s=this.isHorizontal?"width":"height";let o=0,a=0,r=t.el;const l=r&&!r.parentNode;if(r?o=parseFloat(r.dataset[s]||"")||0:(r=document.createElement("div"),r.style.visibility="hidden",(this.track||document.body).prepend(r)),P(r,this.cn(K)+" "+t.class+" "+t.customClass),o)r.style[s]=`${o}px`,r.style["width"===s?"height":"width"]="";else{l&&(this.track||document.body).prepend(r);const t=Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1);o=r.getBoundingClientRect()[s]*t}const c=getComputedStyle(r);return"content-box"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(n=r.parentElement)||void 0===n||n.removeChild(r):t.el||r.remove(),{dim:e(o,1e3),gap:e(a,1e3)}}getBounds(){const{isInfinite:t,isRTL:e,isHorizontal:i,pages:n}=this;let s={min:0,max:0};if(t)s={min:-1/0,max:1/0};else if(n.length){const t=n[0].pos,o=n[n.length-1].pos;s=e&&i?{min:t,max:o}:{min:-1*o,max:-1*t}}return{x:i?s:{min:0,max:0},y:i?{min:0,max:0}:s}}repositionSlides(){let t,{isHorizontal:i,isRTL:n,isInfinite:s,viewport:o,viewportDim:a,contentDim:r,page:l,pages:c,slides:h,panzoom:d}=this,u=0,f=0,p=0,g=0;d?g=-1*d.current[this.axis]:c[l]&&(g=c[l].pos||0),t=i?n?"right":"left":"top",n&&i&&(g*=-1);for(const i of h){const n=i.el;n?("top"===t?(n.style.right="",n.style.left=""):n.style.top="",i.index!==u?n.style[t]=0===f?"":`${e(f,1e3)}px`:n.style[t]="",p+=i.dim+i.gap,u++):f+=i.dim+i.gap}if(s&&p&&o){let n=getComputedStyle(o),s="padding",l=i?"Right":"Bottom",c=parseFloat(n[s+(i?"Left":"Top")]);g-=c,a+=c,a+=parseFloat(n[s+l]);for(const i of h)i.el&&(e(i.pos)<e(a)&&e(i.pos+i.dim+i.gap)<e(g)&&e(g)>e(r-a)&&(i.el.style[t]=`${e(f+p,1e3)}px`),e(i.pos+i.gap)>=e(r-a)&&e(i.pos)>e(g+a)&&e(g)<e(a)&&(i.el.style[t]=`-${e(p,1e3)}px`))}let m,b,v=[...this.inTransition];if(v.length>1&&(m=c[v[0]],b=c[v[1]]),m&&b){let i=0;for(const n of h)n.el?this.inTransition.has(n.index)&&m.slides.indexOf(n)<0&&(n.el.style[t]=`${e(i+(m.pos-b.pos),1e3)}px`):i+=n.dim+n.gap}}createSlideEl(t){const{track:e,slides:i}=this;if(!e||!t)return;if(t.el&&t.el.parentNode)return;const n=t.el||document.createElement("div");P(n,this.cn(K)),P(n,t.class),P(n,t.customClass);const s=t.html;s&&(s instanceof HTMLElement?n.appendChild(s):n.innerHTML=t.html+"");const o=[];i.forEach(((t,e)=>{t.el&&o.push(e)}));const a=t.index;let r=null;if(o.length){r=i[o.reduce(((t,e)=>Math.abs(e-a)<Math.abs(t-a)?e:t))]}const l=r&&r.el&&r.el.parentNode?r.index<t.index?r.el.nextSibling:r.el:null;e.insertBefore(n,e.contains(l)?l:null),t.el=n,this.emit("createSlide",t)}removeSlideEl(t,e=!1){const i=t.el;if(!i||!i.parentNode)return;const n=this.cn(G);if(i.classList.contains(n)&&(S(i,n),this.emit("unselectSlide",t)),t.isDom&&!e)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",t);const s=new CustomEvent(U);i.dispatchEvent(s),t.el&&(t.el.remove(),t.el=null)}transitionTo(t=0,e=this.option("transition")){var i,n,s,o;if(!e)return!1;const a=this.page,{pages:r,panzoom:l}=this;t=parseInt((t||0).toString())||0;const c=this.getPageFromIndex(t);if(!l||!r[c]||r.length<2||Math.abs(((null===(n=null===(i=r[a])||void 0===i?void 0:i.slides[0])||void 0===n?void 0:n.dim)||0)-this.viewportDim)>1)return!1;const h=t>a?1:-1,d=r[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const u=l.isResting;P(this.container,this.cn("inTransition"));const f=(null===(s=r[a])||void 0===s?void 0:s.slides[0])||null,p=(null===(o=r[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(p.index),this.createSlideEl(p);let g=f.el,m=p.el;u||e===K||(e="fadeFast",g=null);const b=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return g&&(this.inTransition.add(f.index),f.transition=e,g.addEventListener(U,this.onAnimationEnd),g.classList.add(`f-${e}Out`,`to-${h>0?v:b}`)),m&&(p.transition=e,m.addEventListener(U,this.onAnimationEnd),m.classList.add(`f-${e}In`,`from-${h>0?b:v}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const t=new Set,e=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const n of this.slides)i.has(n)?t.add(n):e.add(n);for(const e of this.inTransition)t.add(this.slides[e]);for(const e of t)this.createSlideEl(e),this.lazyLoadSlide(e);for(const i of e)t.has(i)||this.removeSlideEl(i);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const t="aria-hidden";let e=this.cn(G);if(e)for(const i of this.slides){const n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?n.removeAttribute(t):n.setAttribute(t,"true"):this.pages[this.page].slides.includes(i)?(n.classList.contains(e)||(P(n,e),this.emit("selectSlide",i)),n.removeAttribute(t)):(n.classList.contains(e)&&(S(n,e),this.emit("unselectSlide",i)),n.setAttribute(t,"true")))}}flipInfiniteTrack(){const t=this.panzoom;if(!t||!this.isInfinite)return;const e="x"===this.option("axis")?"e":"f",{viewportDim:i,contentDim:n}=this;let s=t.current[e],o=t.target[e]-s,a=0,r=.5*i,l=n;this.isRTL&&this.isHorizontal?(s<-r&&(a=-1,s+=l),s>l-r&&(a=1,s-=l)):(s>r&&(a=1,s-=l),s<-l+r&&(a=-1,s+=l)),a&&(t.current[e]=s,t.target[e]=s+o)}lazyLoadSlide(t){const e=this,i=t&&t.el;if(!i)return;const n=new Set,o="f-fadeIn";i.querySelectorAll("[data-lazy-srcset]").forEach((t=>{t instanceof HTMLImageElement&&n.add(t)}));let a=Array.from(i.querySelectorAll("[data-lazy-src]"));i.dataset.lazySrc&&a.push(i),a.map((t=>{t instanceof HTMLImageElement?n.add(t):E(t)&&(t.style.backgroundImage=`url('${t.dataset.lazySrc||""}')`,delete t.dataset.lazySrc)}));const r=(t,i,n)=>{n&&(n.remove(),n=null),i.complete&&(i.classList.add(o),setTimeout((()=>{i.classList.remove(o)}),350),i.style.visibility=""),this.option("adaptiveHeight")&&t.el&&this.pages[this.page].slides.indexOf(t)>-1&&(e.updateMetrics(),e.setViewportHeight()),this.emit("load",t)};for(const e of n){let i=null;e.src=e.dataset.lazySrcset||e.dataset.lazySrc||"",delete e.dataset.lazySrc,delete e.dataset.lazySrcset,e.style.visibility="hidden",e.addEventListener("error",(()=>{r(t,e,i)})),e.addEventListener("load",(()=>{r(t,e,i)})),setTimeout((()=>{e.parentNode&&t.el&&(e.complete?r(t,e,i):(i=s(x),e.parentNode.insertBefore(i,e)))}),300)}}onAnimationEnd(t){var e;const i=t.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,s=this.slides[n],o=t.animationName;if(!i||!s||!o)return;const a=!!this.inTransition.has(n)&&s.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(e=this.panzoom)||void 0===e?void 0:e.isResting)&&this.emit("settle")}onDecel(t,e=0,i=0,n=0,s=0){const{isRTL:o,isHorizontal:a,axis:r,pages:l}=this,c=l.length,h=Math.abs(Math.atan2(i,e)/(Math.PI/180));let d=0;if(d=h>45&&h<135?a?0:i:a?e:0,!c)return;const u=this.option("dragFree");let f=this.page,p=o&&a?1:-1;const g=t.target[r]*p,m=t.current[r]*p;let{pageIndex:b}=this.getPageFromPosition(g),{pageIndex:v}=this.getPageFromPosition(m);u?this.onChange(b):(Math.abs(d)>5?(l[f].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(f=v),f=o&&a?d<0?f-1:f+1:d<0?f+1:f-1):f=0===n&&0===s?f:v,this.slideTo(f,{transition:!1,friction:t.option("decelFriction")}))}onClick(t){const e=t.target,i=e&&E(e)?e.dataset:null;let n,s;i&&(void 0!==i.carouselPage?(s="slideTo",n=i.carouselPage):void 0!==i.carouselNext?s="slideNext":void 0!==i.carouselPrev&&(s="slidePrev")),s?(t.preventDefault(),t.stopPropagation(),e&&!e.hasAttribute("disabled")&&this[s](n)):this.emit("click",t)}onSlideTo(t){const e=t.detail||0;this.slideTo(this.getPageForSlide(e),{friction:0})}onChange(t,e=0){const i=this.page;this.prevPage=i,this.page=t,this.option("adaptiveHeight")&&this.setViewportHeight(),t!==i&&(this.markSelectedSlides(),this.emit("change",t,i,e))}onRefresh(){let t=this.contentDim,e=this.viewportDim;this.updateMetrics(),this.contentDim===t&&this.viewportDim===e||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var t;null===(t=this.viewport)||void 0===t||t.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(t){this.lp!==t.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=t.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(t=null,e=null){this.destroy(),this.state=j.Init,this.userOptions=t||this.userOptions,this.userPlugins=e||this.userPlugins,this.processOptions()}slideTo(t=0,{friction:e=this.option("friction"),transition:i=this.option("transition")}={}){if(this.state===j.Destroy)return;t=parseInt((t||0).toString())||0;const n=this.getPageFromIndex(t),{axis:s,isHorizontal:o,isRTL:a,pages:r,panzoom:l}=this,c=r.length,h=a&&o?1:-1;if(!l||!c)return;if(this.page!==n){const e=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",e,t),e.defaultPrevented)return}if(this.transitionTo(t,i))return;let d=r[n].pos;if(this.isInfinite){const e=this.contentDim,i=l.target[s]*h;if(2===c)d+=e*Math.floor(parseFloat(t+"")/2);else{d=[d,d-e,d+e].reduce((function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}))}}d*=h,Math.abs(l.target[s]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:e}),this.onChange(n))}slideToClosest(t){if(this.panzoom){const{pageIndex:e}=this.getPageFromPosition(this.panzoom.current[this.isHorizontal?"e":"f"]);this.slideTo(e,t)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn("inTransition"));const t=["to-prev","to-next","from-prev","from-next"];for(const e of this.slides){const i=e.el;if(i){i.removeEventListener(U,this.onAnimationEnd),i.classList.remove(...t);const n=e.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(t,e){var i,n,s,o;const a=this.panzoom,r=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0,l=(null===(n=this.pages[this.page])||void 0===n?void 0:n.dim)||0,c=this.contentDim<this.viewportDim;let h=Array.isArray(e)?e:[e];const d=[];for(const t of h)d.push(H(t));this.slides.splice(t,0,...d);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of d)this.emit("beforeInitSlide",t,t.index);if(this.page>=t&&(this.page+=d.length),this.updateMetrics(),a){const e=(null===(s=this.pages[this.page])||void 0===s?void 0:s.pos)||0,i=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,n=this.pages.length||1,h=this.isRTL?l-i:i-l,d=this.isRTL?r-e:e-r;c&&1===n?(t<=this.page&&(a.current[this.axis]-=h,a.target[this.axis]-=h),a.panTo({[this.isHorizontal?"x":"y"]:-1*e})):d&&t<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const t of d)this.emit("initSlide",t,t.index)}prependSlide(t){this.addSlide(0,t)}appendSlide(t){this.addSlide(this.slides.length,t)}removeSlide(t){const e=this.slides.length;t=(t%e+e)%e,this.removeSlideEl(this.slides[t],!0),this.slides.splice(t,1);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1})}updateMetrics(){const{panzoom:t,viewport:i,track:n,slides:s,isHorizontal:o,isInfinite:a}=this;if(!n)return;const r=o?"width":"height",l=o?"offsetWidth":"offsetHeight";if(i){let t=Math.max(i[l],e(i.getBoundingClientRect()[r],1e3)),n=getComputedStyle(i),s="padding",a=o?"Right":"Bottom";t-=parseFloat(n[s+(o?"Left":"Top")])+parseFloat(n[s+a]),this.viewportDim=t}let c,h=0;for(const[t,i]of s.entries()){let n=0,o=0;!i.el&&c?(n=c.dim,o=c.gap):(({dim:n,gap:o}=this.getSlideMetrics(i)),c=i),n=e(n,1e3),o=e(o,1e3),i.dim=n,i.gap=o,i.pos=h,h+=n,(a||t<s.length-1)&&(h+=o)}h=e(h,1e3),this.contentDim=h,t&&(t.contentRect[r]=h,t.contentRect["e"===this.axis?"fullWidth":"fullHeight"]=h),this.pages=this.createPages(),this.pages=this.processPages(),this.state===j.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(t,i=!1,n=!1){void 0===t&&(t=this.page);const s=this,o=s.panzoom,a=s.contentDim,r=s.pages[t]||0;if(!r||!o)return t>this.page?-1:1;let l=-1*o.current.e,c=e((l-r.pos)/(1*r.dim),1e3),h=c,d=c;this.isInfinite&&!0!==n&&(h=e((l-r.pos+a)/(1*r.dim),1e3),d=e((l-r.pos-a)/(1*r.dim),1e3));let u=[c,h,d].reduce((function(t,e){return Math.abs(e)<Math.abs(t)?e:t}));return i?u:u>1?1:u<-1?-1:u}setViewportHeight(){const{page:t,pages:e,viewport:i,isHorizontal:n}=this;if(!i||!e[t])return;let s=0;n&&this.track&&(this.track.style.height="auto",e[t].slides.forEach((t=>{t.el&&(s=Math.max(s,t.el.offsetHeight))}))),i.style.height=s?`${s}px`:""}getPageForSlide(t){for(const e of this.pages)for(const i of e.slides)if(i.index===t)return e.index;return-1}getVisibleSlides(t=0){var e;const i=new Set;let{contentDim:n,viewportDim:s,pages:o,page:a}=this;n=n+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;let r=0;r=this.panzoom&&this.panzoom.state!==b.Init&&this.panzoom.state!==b.Destroy?-1*this.panzoom.current[this.axis]:o[a]&&o[a].pos||0,this.isInfinite&&(r-=Math.floor(r/n)*n),this.isRTL&&this.isHorizontal&&(r*=-1);const l=r-s*t,c=r+s*(t+1),h=this.isInfinite?[-1,0,1]:[0];for(const t of this.slides)for(const e of h){const s=t.pos+e*n,o=s+t.dim+t.gap;s<c&&o>l&&i.add(t)}return i}getPageFromPosition(t){var e;const{viewportDim:i,contentDim:n}=this,s=this.pages.length,o=this.slides.length,a=this.slides[o-1];let r=0,l=0,c=0;const h=this.option("center");h&&(t+=.5*i),this.isInfinite||(t=Math.max((null===(e=this.slides[0])||void 0===e?void 0:e.pos)||0,Math.min(t,a.pos)));const d=n+a.gap;c=Math.floor(t/d)||0,t-=c*d;let u=a,f=this.slides.find((e=>{const i=t+(u&&!h?.5*u.dim:0);return u=e,e.pos<=i&&e.pos+e.dim+e.gap>i}));return f||(f=a),l=this.getPageForSlide(f.index),r=l+c*s,{page:r,pageIndex:l}}destroy(){if([j.Destroy].includes(this.state))return;this.state=j.Destroy;const{container:t,viewport:e,track:i,slides:n,panzoom:s}=this,o=this.option("classes");t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),s&&(s.destroy(),this.panzoom=null),n&&n.forEach((t=>{this.removeSlideEl(t)})),this.detachPlugins(),e&&(e.removeEventListener("scroll",this.onScroll),e.offsetParent&&i&&i.offsetParent&&e.replaceWith(...i.childNodes));for(const[e,i]of Object.entries(o))"container"!==e&&i&&t.classList.remove(i);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get("ready");this.events=new Map,a&&this.events.set("ready",a)}}Object.defineProperty(J,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:k}),Object.defineProperty(J,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:F}),Object.defineProperty(J,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Z});const Q=function(t){if(!E(t))return 0;const e=window.scrollY,i=window.innerHeight,n=e+i,s=t.getBoundingClientRect(),o=s.y+e,a=s.height,r=o+a;if(e>r||n<o)return 0;if(e<o&&n>r)return 100;if(o<e&&r>n)return 100;let l=a;o<e&&(l-=e-o),r>n&&(l-=r-n);const c=l/i*100;return Math.round(c)},tt=!("undefined"==typeof window||!window.document||!window.document.createElement);let et;const it=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),nt=t=>{if(t&&tt){void 0===et&&document.createElement("div").focus({get preventScroll(){return et=!0,!1}});try{if(et)t.focus({preventScroll:!0});else{const e=window.scrollY||document.body.scrollTop,i=window.scrollX||document.body.scrollLeft;t.focus(),document.body.scrollTo({top:e,left:i,behavior:"auto"})}}catch(t){}}},st={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},y),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,wheel:"zoom"};var ot,at;!function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.CustomClosing=3]="CustomClosing",t[t.Destroy=4]="Destroy"}(ot||(ot={})),function(t){t[t.Loading=0]="Loading",t[t.Opening=1]="Opening",t[t.Ready=2]="Ready",t[t.Closing=3]="Closing"}(at||(at={}));const rt=()=>{queueMicrotask((()=>{(()=>{const{slug:t,index:e}=lt.parseURL(),i=he.getInstance();if(i&&!1!==i.option("Hash")){const n=i.carousel;if(t&&n){for(let e of n.slides)if(e.slug&&e.slug===t)return n.slideTo(e.index);if(t===i.option("slug"))return n.slideTo(e-1);const s=i.getSlide(),o=s&&s.triggerEl&&s.triggerEl.dataset;if(o&&o.fancybox===t)return n.slideTo(e-1)}lt.hasSilentClose=!0,i.close()}lt.startFromUrl()})()}))};class lt extends N{constructor(){super(...arguments),Object.defineProperty(this,"origHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null})}onChange(){const t=this.instance,e=t.carousel;this.timer&&clearTimeout(this.timer);const i=t.getSlide();if(!e||!i)return;const n=t.isOpeningSlide(i),s=new URL(document.URL).hash;let o,a=i.slug||void 0,r=i.triggerEl||void 0;o=a||this.instance.option("slug"),!o&&r&&r.dataset&&(o=r.dataset.fancybox);let l="";o&&"true"!==o&&(l="#"+o+(!a&&e.slides.length>1?"-"+(i.index+1):"")),n&&(this.origHash=s!==l?s:""),l&&s!==l&&(this.timer=setTimeout((()=>{try{t.state===ot.Ready&&window.history[n?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+l)}catch(t){}}),300))}onClose(){if(this.timer&&clearTimeout(this.timer),!0!==lt.hasSilentClose)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(t){}}attach(){const t=this.instance;t.on(["Carousel.ready","Carousel.change"],this.onChange),t.on("close",this.onClose)}detach(){const t=this.instance;t.off(["Carousel.ready","Carousel.change"],this.onChange),t.off("close",this.onClose)}static parseURL(){const t=window.location.hash.slice(1),e=t.split("-"),i=e[e.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:n}}static startFromUrl(){if(lt.hasSilentClose=!1,he.getInstance()||!1===he.defaults.Hash)return;const{hash:t,slug:e,index:i}=lt.parseURL();if(!e)return;let n=document.querySelector(`[data-slug="${t}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),he.getInstance())return;const s=document.querySelectorAll(`[data-fancybox="${e}"]`);s.length&&(n=s[i-1],n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}static destroy(){window.removeEventListener("hashchange",rt,!1)}}function ct(){window.addEventListener("hashchange",rt,!1),setTimeout((()=>{lt.startFromUrl()}),500)}Object.defineProperty(lt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(lt,"hasSilentClose",{enumerable:!0,configurable:!0,writable:!0,value:!1}),tt&&(/complete|interactive|loaded/.test(document.readyState)?ct():document.addEventListener("DOMContentLoaded",ct));const ht="is-zooming-in";class dt extends N{onCreateSlide(t,e,i){const n=this.instance.optionFor(i,"src")||"";i.el&&"image"===i.type&&"string"==typeof n&&this.setImage(i,n)}onRemoveSlide(t,e,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(t,e,i,n){S(this.instance.container,ht);for(const t of e.slides){const e=t.panzoom;e&&t.index!==i&&e.reset(.35)}}onClose(){var t;const e=this.instance,i=e.container,n=e.getSlide();if(!i||!i.parentElement||!n)return;const{el:s,contentEl:o,panzoom:a,thumbElSrc:r}=n;if(!s||!r||!o||!a||a.isContentLoading||a.state===b.Init||a.state===b.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(n);if(!l)return;this.instance.state=ot.CustomClosing,i.classList.remove(ht),i.classList.add("is-zooming-out"),o.style.backgroundImage=`url('${r}')`;const c=i.getBoundingClientRect();1===((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)&&Object.assign(i.style,{position:"absolute",top:`${window.scrollY}px`,left:`${window.scrollX}px`,bottom:"auto",right:"auto",width:`${c.width}px`,height:`${c.height}px`,overflow:"hidden"});const{x:h,y:d,scale:u,opacity:f}=l;if(f){const t=((t,e,i,n)=>{const s=e-t,o=n-i;return e=>i+((e-t)/s*o||0)})(a.scale,u,1,0);a.on("afterTransform",(()=>{o.style.opacity=t(a.scale)+""}))}a.on("endAnimation",(()=>{e.destroy()})),a.target.a=u,a.target.b=0,a.target.c=0,a.target.d=u,a.panTo({x:h,y:d,scale:u,friction:f?.2:.33,ignoreBounds:!0}),a.isResting&&e.destroy()}setImage(t,e){const i=this.instance;t.src=e,this.process(t,e).then((e=>{const{contentEl:n,imageEl:s,thumbElSrc:o,el:a}=t;if(i.isClosing()||!n||!s)return;n.offsetHeight;const r=!!i.isOpeningSlide(t)&&this.getZoomInfo(t);if(this.option("protected")&&a){a.addEventListener("contextmenu",(t=>{t.preventDefault()}));const t=document.createElement("div");P(t,"fancybox-protected"),n.appendChild(t)}if(o&&r){const s=e.contentRect,a=Math.max(s.fullWidth,s.fullHeight);let c=null;!r.opacity&&a>1200&&(c=document.createElement("img"),P(c,"fancybox-ghost"),c.src=o,n.appendChild(c));const h=()=>{c&&(P(c,"f-fadeFastOut"),setTimeout((()=>{c&&(c.remove(),c=null)}),200))};(l=o,new Promise(((t,e)=>{const i=new Image;i.onload=t,i.onerror=e,i.src=l}))).then((()=>{i.hideLoading(t),t.state=at.Opening,this.instance.emit("reveal",t),this.zoomIn(t).then((()=>{h(),this.instance.done(t)}),(()=>{})),c&&setTimeout((()=>{h()}),a>2500?800:200)}),(()=>{i.hideLoading(t),i.revealContent(t)}))}else{const n=this.optionFor(t,"initialSize"),s=this.optionFor(t,"zoom"),o={event:i.prevMouseMoveEvent||i.options.event,friction:s?.12:0};let a=i.optionFor(t,"showClass")||void 0,r=!0;i.isOpeningSlide(t)&&("full"===n?e.zoomToFull(o):"cover"===n?e.zoomToCover(o):"max"===n?e.zoomToMax(o):r=!1,e.stop("current")),r&&a&&(a=e.isDragging?"f-fadeIn":""),i.hideLoading(t),i.revealContent(t,a)}var l}),(()=>{i.setError(t,"{{IMAGE_ERROR}}")}))}process(t,e){return new Promise(((i,n)=>{var o;const a=this.instance,r=t.el;a.clearContent(t),a.showLoading(t);let l=this.optionFor(t,"content");if("string"==typeof l&&(l=s(l)),!l||!E(l)){if(l=document.createElement("img"),l instanceof HTMLImageElement){let i="",n=t.caption;i="string"==typeof n&&n?n.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${t.index+1} of ${null===(o=a.carousel)||void 0===o?void 0:o.pages.length}`,l.src=e||"",l.alt=i,l.draggable=!1,t.srcset&&l.setAttribute("srcset",t.srcset),this.instance.isOpeningSlide(t)&&(l.fetchPriority="high")}t.sizes&&l.setAttribute("sizes",t.sizes)}P(l,"fancybox-image"),t.imageEl=l,a.setContent(t,l,!1);t.panzoom=new k(r,f({transformParent:!0},this.option("Panzoom")||{},{content:l,width:a.optionFor(t,"width","auto"),height:a.optionFor(t,"height","auto"),wheel:()=>{const t=a.option("wheel");return("zoom"===t||"pan"==t)&&t},click:(e,i)=>{var n,s;if(a.isCompact||a.isClosing())return!1;if(t.index!==(null===(n=a.getSlide())||void 0===n?void 0:n.index))return!1;if(i){const t=i.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(t.nodeName))return!1}let o=!i||i.target&&(null===(s=t.contentEl)||void 0===s?void 0:s.contains(i.target));return a.option(o?"contentClick":"backdropClick")||!1},dblClick:()=>a.isCompact?"toggleZoom":a.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:t=>{i(t)},error:()=>{n()},destroy:()=>{n()}}}))}))}zoomIn(t){return new Promise(((e,i)=>{const n=this.instance,s=n.container,{panzoom:o,contentEl:a,el:r}=t;o&&o.updateMetrics();const l=this.getZoomInfo(t);if(!(l&&r&&a&&o&&s))return void i();const{x:c,y:h,scale:d,opacity:u}=l,f=()=>{t.state!==at.Closing&&(u&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+""),o.scale>=1&&o.scale>o.targetScale-.1&&e(o))},p=t=>{(t.scale<.99||t.scale>1.01)&&!t.isDragging||(S(s,ht),a.style.opacity="",t.off("endAnimation",p),t.off("touchStart",p),t.off("afterTransform",f),e(t))};o.on("endAnimation",p),o.on("touchStart",p),o.on("afterTransform",f),o.on(["error","destroy"],(()=>{i()})),o.panTo({x:c,y:h,scale:d,friction:0,ignoreBounds:!0}),o.stop("current");const g={event:"mousemove"===o.panMode?n.prevMouseMoveEvent||n.options.event:void 0},m=this.optionFor(t,"initialSize");P(s,ht),n.hideLoading(t),"full"===m?o.zoomToFull(g):"cover"===m?o.zoomToCover(g):"max"===m?o.zoomToMax(g):o.reset(.172)}))}getZoomInfo(t){var e;const{el:i,imageEl:n,thumbEl:s,panzoom:o}=t;if(!i||!n||!s||!o||Q(s)<3||!this.optionFor(t,"zoom")||this.instance.state===ot.Destroy)return!1;if(1!==((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))return!1;let{top:a,left:r,width:l,height:c}=s.getBoundingClientRect(),{top:h,left:d,fitWidth:u,fitHeight:f}=o.contentRect;if(!(l&&c&&u&&f))return!1;const p=o.container.getBoundingClientRect();d+=p.left,h+=p.top;const g=-1*(d+.5*u-(r+.5*l)),m=-1*(h+.5*f-(a+.5*c)),b=l/u;let v=this.option("zoomOpacity")||!1;return"auto"===v&&(v=Math.abs(l/c-u/f)>.1),{x:g,y:m,scale:b,opacity:v}}attach(){const t=this,e=t.instance;e.on("Carousel.change",t.onChange),e.on("Carousel.createSlide",t.onCreateSlide),e.on("Carousel.removeSlide",t.onRemoveSlide),e.on("close",t.onClose)}detach(){const t=this,e=t.instance;e.off("Carousel.change",t.onChange),e.off("Carousel.createSlide",t.onCreateSlide),e.off("Carousel.removeSlide",t.onRemoveSlide),e.off("close",t.onClose)}}Object.defineProperty(dt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;const ut="html",ft="image",pt="map",gt="youtube",mt="vimeo",bt="html5video",vt=(t,e={})=>{const i=new URL(t),n=new URLSearchParams(i.search),s=new URLSearchParams;for(const[t,i]of[...n,...Object.entries(e)]){let e=i.toString();"t"===t?s.set("start",parseInt(e).toString()):s.set(t,e)}let o=s.toString(),a=t.match(/#t=((.*)?\d+s)/);return a&&(o+=`#t=${a[1]}`),o},yt={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},wt=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class xt extends N{onBeforeInitSlide(t,e,i){this.processType(i)}onCreateSlide(t,e,i){this.setContent(i)}onClearContent(t,e){e.xhr&&(e.xhr.abort(),e.xhr=null);const i=e.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",e.iframeEl=null);const n=e.contentEl,s=e.placeholderEl;if("inline"===e.type&&n&&s)n.classList.remove("fancybox__content"),"none"!==n.style.display&&(n.style.display="none"),s.parentNode&&s.parentNode.insertBefore(n,s),s.remove(),e.contentEl=void 0,e.placeholderEl=void 0;else for(;e.el&&e.el.firstChild;)e.el.removeChild(e.el.firstChild)}onSelectSlide(t,e,i){i.state===at.Ready&&this.playVideo()}onUnselectSlide(t,e,i){var n,s;if(i.type===bt){try{null===(s=null===(n=i.el)||void 0===n?void 0:n.querySelector("video"))||void 0===s||s.pause()}catch(t){}return}let o;i.type===mt?o={method:"pause",value:"true"}:i.type===gt&&(o={event:"command",func:"pauseVideo"}),o&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),i.poller&&clearTimeout(i.poller)}onDone(t,e){t.isCurrentSlide(e)&&!t.isClosing()&&this.playVideo()}onRefresh(t,e){e.slides.forEach((t=>{t.el&&(this.resizeIframe(t),this.setAspectRatio(t))}))}onMessage(t){try{let e=JSON.parse(t.data);if("https://player.vimeo.com"===t.origin){if("ready"===e.event)for(let e of Array.from(document.getElementsByClassName("fancybox__iframe")))e instanceof HTMLIFrameElement&&e.contentWindow===t.source&&(e.dataset.ready="true")}else if(t.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===e.event){const t=document.getElementById(e.id);t&&(t.dataset.ready="true")}}catch(t){}}loadAjaxContent(t){const e=this.instance.optionFor(t,"src")||"";this.instance.showLoading(t);const i=this.instance,n=new XMLHttpRequest;i.showLoading(t),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===ot.Ready&&(i.hideLoading(t),200===n.status?i.setContent(t,n.responseText):i.setError(t,404===n.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const s=t.ajax||null;n.open(s?"POST":"GET",e+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(s),t.xhr=n}setInlineContent(t){let e=null;if(E(t.src))e=t.src;else if("string"==typeof t.src){const i=t.src.split("#",2).pop();e=i?document.getElementById(i):null}if(e){if("clone"===t.type||e.closest(".fancybox__slide")){e=e.cloneNode(!0);const i=e.dataset.animationName;i&&(e.classList.remove(i),delete e.dataset.animationName);let n=e.getAttribute("id");n=n?`${n}--clone`:`clone-${this.instance.id}-${t.index}`,e.setAttribute("id",n)}else if(e.parentNode){const i=document.createElement("div");i.classList.add("fancybox-placeholder"),e.parentNode.insertBefore(i,e),t.placeholderEl=i}this.instance.setContent(t,e)}else this.instance.setError(t,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(t){const{src:e,el:i}=t;if(!e||"string"!=typeof e||!i)return;i.classList.add("is-loading");const n=this.instance,s=document.createElement("iframe");s.className="fancybox__iframe",s.setAttribute("id",`fancybox__iframe_${n.id}_${t.index}`);for(const[e,i]of Object.entries(this.optionFor(t,"iframeAttr")||{}))s.setAttribute(e,i);s.onerror=()=>{n.setError(t,"{{IFRAME_ERROR}}")},t.iframeEl=s;const o=this.optionFor(t,"preload");if("iframe"!==t.type||!1===o)return s.setAttribute("src",t.src+""),n.setContent(t,s,!1),this.resizeIframe(t),void n.revealContent(t);n.showLoading(t),s.onload=()=>{if(!s.src.length)return;const e="true"!==s.dataset.ready;s.dataset.ready="true",this.resizeIframe(t),e?n.revealContent(t):n.hideLoading(t)},s.setAttribute("src",e),n.setContent(t,s,!1)}resizeIframe(t){const{type:e,iframeEl:i}=t;if(e===gt||e===mt)return;const n=null==i?void 0:i.parentElement;if(!i||!n)return;let s=t.autoSize;void 0===s&&(s=this.optionFor(t,"autoSize"));let o=t.width||0,a=t.height||0;o&&a&&(s=!1);const r=n&&n.style;if(!1!==t.preload&&!1!==s&&r)try{const t=window.getComputedStyle(n),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),l=i.contentWindow;if(l){const t=l.document,i=t.getElementsByTagName(ut)[0],n=t.body;r.width="",n.style.overflow="hidden",o=o||i.scrollWidth+e,r.width=`${o}px`,n.style.overflow="",r.flex="0 0 auto",r.height=`${n.scrollHeight}px`,a=i.scrollHeight+s}}catch(t){}if(o||a){const t={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(t.width=`${o}px`),a&&"auto"!==a&&(t.height=`${a}px`),Object.assign(r,t)}}playVideo(){const t=this.instance.getSlide();if(!t)return;const{el:e}=t;if(!e||!e.offsetParent)return;if(!this.optionFor(t,"videoAutoplay"))return;if(t.type===bt)try{const t=e.querySelector("video");if(t){const e=t.play();void 0!==e&&e.then((()=>{})).catch((e=>{t.muted=!0,t.play()}))}}catch(t){}if(t.type!==gt&&t.type!==mt)return;const i=()=>{if(t.iframeEl&&t.iframeEl.contentWindow){let e;if("true"===t.iframeEl.dataset.ready)return e=t.type===gt?{event:"command",func:"playVideo"}:{method:"play",value:"true"},e&&t.iframeEl.contentWindow.postMessage(JSON.stringify(e),"*"),void(t.poller=void 0);t.type===gt&&(e={event:"listening",id:t.iframeEl.getAttribute("id")},t.iframeEl.contentWindow.postMessage(JSON.stringify(e),"*"))}t.poller=setTimeout(i,250)};i()}processType(t){if(t.html)return t.type=ut,t.src=t.html,void(t.html="");const e=this.instance.optionFor(t,"src","");if(!e||"string"!=typeof e)return;let i=t.type,n=null;if(n=e.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const s=this.optionFor(t,gt),{nocookie:o}=s,a=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(s,["nocookie"]),r=`www.youtube${o?"-nocookie":""}.com`,l=vt(e,a),c=encodeURIComponent(n[2]);t.videoId=c,t.src=`https://${r}/embed/${c}?${l}`,t.thumbSrc=t.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,i=gt}else if(n=e.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const s=vt(e,this.optionFor(t,mt)),o=encodeURIComponent(n[1]),a=n[4]||"";t.videoId=o,t.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${s?"&":""}`:""}${s}`,i=mt}if(!i&&t.triggerEl){const e=t.triggerEl.dataset.type;wt.includes(e)&&(i=e)}i||"string"==typeof e&&("#"===e.charAt(0)?i="inline":(n=e.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=bt,t.videoFormat=t.videoFormat||"video/"+("ogv"===n[1]?"ogg":n[1])):e.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=ft:e.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(t.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&")}&output=${n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"}`,i=pt):(n=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(t.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace("query=","q=").replace("api=1","")}&output=embed`,i=pt),i=i||this.instance.option("defaultType"),t.type=i,i===ft&&(t.thumbSrc=t.thumbSrc||t.src)}setContent(t){const e=this.instance.optionFor(t,"src")||"";if(t&&t.type&&e){switch(t.type){case ut:this.instance.setContent(t,e);break;case bt:const i=this.option("videoTpl");i&&this.instance.setContent(t,i.replace(/\{\{src\}\}/gi,e+"").replace(/\{\{format\}\}/gi,this.optionFor(t,"videoFormat")||"").replace(/\{\{poster\}\}/gi,t.poster||t.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(t);break;case"ajax":this.loadAjaxContent(t);break;case"pdf":case pt:case gt:case mt:t.preload=!1;case"iframe":this.setIframeContent(t)}this.setAspectRatio(t)}}setAspectRatio(t){const e=t.contentEl;if(!(t.el&&e&&t.type&&[gt,mt,bt].includes(t.type)))return;let i,n=t.width||"auto",s=t.height||"auto";if("auto"===n||"auto"===s){i=this.optionFor(t,"videoRatio");const e=(i+"").match(/(\d+)\s*\/\s?(\d+)/);i=e&&e.length>2?parseFloat(e[1])/parseFloat(e[2]):parseFloat(i+"")}else n&&s&&(i=n/s);if(!i)return;e.style.aspectRatio="",e.style.width="",e.style.height="",e.offsetHeight;const o=e.getBoundingClientRect(),a=o.width||1,r=o.height||1;e.style.aspectRatio=i+"",i<a/r?(s="auto"===s?r:Math.min(r,s),e.style.width="auto",e.style.height=`${s}px`):(n="auto"===n?a:Math.min(a,n),e.style.width=`${n}px`,e.style.height="auto")}attach(){const t=this,e=t.instance;e.on("Carousel.beforeInitSlide",t.onBeforeInitSlide),e.on("Carousel.createSlide",t.onCreateSlide),e.on("Carousel.selectSlide",t.onSelectSlide),e.on("Carousel.unselectSlide",t.onUnselectSlide),e.on("Carousel.Panzoom.refresh",t.onRefresh),e.on("done",t.onDone),e.on("clearContent",t.onClearContent),window.addEventListener("message",t.onMessage)}detach(){const t=this,e=t.instance;e.off("Carousel.beforeInitSlide",t.onBeforeInitSlide),e.off("Carousel.createSlide",t.onCreateSlide),e.off("Carousel.selectSlide",t.onSelectSlide),e.off("Carousel.unselectSlide",t.onUnselectSlide),e.off("Carousel.Panzoom.refresh",t.onRefresh),e.off("done",t.onDone),e.off("clearContent",t.onClearContent),window.removeEventListener("message",t.onMessage)}}Object.defineProperty(xt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:yt});const Et="play",St="pause",Pt="ready";class Ct extends N{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Pt}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Pt}onReady(t){this.option("autoStart")&&(t.isInfinite||t.page<t.pages.length-1)&&this.start()}onChange(){var t;(null===(t=this.instance.panzoom)||void 0===t?void 0:t.isResting)||(this.removeProgressBar(),this.pause())}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var t;this.inHover=!1,(null===(t=this.instance.panzoom)||void 0===t?void 0:t.isResting)&&this.resume()}onTimerEnd(){const t=this.instance;"play"===this.state&&(t.isInfinite||t.page!==t.pages.length-1?t.slideNext():t.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var t;if(!this.option("showProgress"))return null;this.removeProgressBar();const e=this.instance,i=(null===(t=e.pages[e.page])||void 0===t?void 0:t.slides)||[];let n=this.option("progressParentEl");if(n||(n=(1===i.length?i[0].el:null)||e.viewport),!n)return null;const s=document.createElement("div");return P(s,"f-progress"),n.prepend(s),this.progressBar=s,s.offsetHeight,s}set(){const t=this,e=t.instance;if(e.pages.length<2)return;if(t.timer)return;const i=t.option("timeout");t.state=Et,P(e.container,"has-autoplay");let n=t.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform="scaleX(1)"),t.timer=setTimeout((()=>{t.timer=null,t.inHover||t.onTimerEnd()}),i),t.emit("set")}clear(){const t=this;t.timer&&(clearTimeout(t.timer),t.timer=null),t.removeProgressBar()}start(){const t=this;if(t.set(),t.state!==Pt){if(t.option("pauseOnHover")){const e=t.instance.container;e.addEventListener("mouseenter",t.onMouseEnter,!1),e.addEventListener("mouseleave",t.onMouseLeave,!1)}document.addEventListener("visibilitychange",t.onVisibilityChange,!1),t.emit("start")}}stop(){const t=this,e=t.state,i=t.instance.container;t.clear(),t.state=Pt,i.removeEventListener("mouseenter",t.onMouseEnter,!1),i.removeEventListener("mouseleave",t.onMouseLeave,!1),document.removeEventListener("visibilitychange",t.onVisibilityChange,!1),S(i,"has-autoplay"),e!==Pt&&t.emit("stop")}pause(){const t=this;t.state===Et&&(t.state=St,t.clear(),t.emit(St))}resume(){const t=this,e=t.instance;if(e.isInfinite||e.page!==e.pages.length-1)if(t.state!==Et){if(t.state===St&&!t.inHover){const e=new Event("resume",{bubbles:!0,cancelable:!0});t.emit("resume",e),e.defaultPrevented||t.set()}}else t.set();else t.stop()}toggle(){this.state===Et||this.state===St?this.stop():this.start()}attach(){const t=this,e=t.instance;e.on("ready",t.onReady),e.on("Panzoom.startAnimation",t.onChange),e.on("Panzoom.endAnimation",t.onSettle),e.on("Panzoom.touchMove",t.onChange)}detach(){const t=this,e=t.instance;e.off("ready",t.onReady),e.off("Panzoom.startAnimation",t.onChange),e.off("Panzoom.endAnimation",t.onSettle),e.off("Panzoom.touchMove",t.onChange),t.stop()}}Object.defineProperty(Ct,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Tt extends N{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(t){const e=t.carousel;if(!e)return;const i=t.container;i&&(e.options.Autoplay=f({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{t.emit("startSlideshow")},set:e=>{var n;i.classList.add("has-slideshow"),(null===(n=t.getSlide())||void 0===n?void 0:n.state)!==at.Ready&&e.pause()},stop:()=>{i.classList.remove("has-slideshow"),t.isCompact||t.endIdle(),t.emit("endSlideshow")},resume:(e,i)=>{var n,s,o;!i||!i.cancelable||(null===(n=t.getSlide())||void 0===n?void 0:n.state)===at.Ready&&(null===(o=null===(s=t.carousel)||void 0===s?void 0:s.panzoom)||void 0===o?void 0:o.isResting)||i.preventDefault()}}}),e.attachPlugins({Autoplay:Ct}),this.ref=e.plugins.Autoplay)}onReady(t){const e=t.carousel,i=this.ref;i&&e&&this.option("playOnStart")&&(e.isInfinite||e.page<e.pages.length-1)&&i.start()}onDone(t,e){const i=this.ref,n=t.carousel;if(!i||!n)return;const s=e.panzoom;s&&s.on("startAnimation",(()=>{t.isCurrentSlide(e)&&i.stop()})),t.isCurrentSlide(e)&&i.resume()}onKeydown(t,e){var i;const n=this.ref;n&&e===this.option("key")&&"BUTTON"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}attach(){const t=this,e=t.instance;e.on("Carousel.init",t.onPrepare),e.on("Carousel.ready",t.onReady),e.on("done",t.onDone),e.on("keydown",t.onKeydown)}detach(){const t=this,e=t.instance;e.off("Carousel.init",t.onPrepare),e.off("Carousel.ready",t.onReady),e.off("done",t.onDone),e.off("keydown",t.onKeydown)}}Object.defineProperty(Tt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:t=>{var e;return(null===(e=t.instance.container)||void 0===e?void 0:e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||t.instance.container},timeout:3e3}});const Mt={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Ot;!function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Hidden=2]="Hidden"}(Ot||(Ot={}));const At="isResting",Lt="thumbWidth",zt="thumbHeight",Rt="thumbClipWidth";let kt=class extends N{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ot.Init})}get isModern(){return"modern"===this.type}onInitSlide(t,e){const i=e.el?e.el.dataset:void 0;i&&(e.thumbSrc=i.thumbSrc||e.thumbSrc||"",e[Rt]=parseFloat(i[Rt]||"")||e[Rt]||0,e[zt]=parseFloat(i.thumbHeight||"")||e[zt]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var t;if(!this.isModern)return;const e=this.container,i=this.instance,n=i.panzoom,s=this.carousel,o=s?s.panzoom:null,r=i.page;if(n&&s&&o){if(n.isDragging){S(e,this.cn(At));let n=(null===(t=s.pages[r])||void 0===t?void 0:t.pos)||0;n+=i.getProgress(r)*(this[Rt]+this.thumbGap);let a=o.getBounds();-1*n>a.x.min&&-1*n<a.x.max&&o.panTo({x:-1*n,friction:.12})}else a(e,this.cn(At),n.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const t of this.instance.slides||[])this.resizeModernSlide(t);this.shiftModern()}isDisabled(){const t=this.option("minCount")||0;if(t){const e=this.instance;let i=0;for(const t of e.slides||[])t.thumbSrc&&i++;if(i<t)return!0}const e=this.option("type");return["modern","classic"].indexOf(e)<0}getThumb(t){const e=this.option("thumbTpl")||"";return{html:this.instance.localize(e,[["%i",t.index],["%d",t.index+1],["%s",t.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(t){const e=this.carousel;e&&e.addSlide(t.index,this.getThumb(t))}getSlides(){const t=[];for(const e of this.instance.slides||[])t.push(this.getThumb(e));return t}resizeModernSlide(t){this.isModern&&(t[Lt]=t[Rt]&&t[zt]?Math.round(this[zt]*(t[Rt]/t[zt])):this[Lt])}updateProps(){const t=this.container;if(!t)return;const e=e=>parseFloat(getComputedStyle(t).getPropertyValue("--f-thumb-"+e))||0;this.thumbGap=e("gap"),this.thumbExtraGap=e("extra-gap"),this[Lt]=e("width")||40,this[Rt]=e("clip-width")||40,this[zt]=e("height")||40}build(){const t=this;if(t.state!==Ot.Init)return;if(t.isDisabled())return;const e=t.instance,i=e.container,n=t.getSlides(),s=t.option("type");t.type=s;const o=document.createElement("div");P(o,t.cn("container")),P(o,`is-${s}`);const a=t.option("parentEl");a?a.appendChild(o):i.after(o),P(i,t.cn("hasThumbs")),t.container=o,t.updateProps();const r=document.createElement("div");P(r,t.cn("track")),o.appendChild(r),t.track=r;const l=f({},{track:r,infinite:!1,center:!0,fill:"classic"===s,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},t.option("Carousel")||{},{Sync:{target:e},slides:n}),c=new e.constructor(o,l);c.on("createSlide",((e,i)=>{t.setProps(i.index),t.emit("createSlide",i,i.el)})),c.on("ready",(()=>{t.shiftModern(),t.emit("ready")})),c.on("refresh",(()=>{t.shiftModern()})),c.on("Panzoom.click",((e,i,n)=>{t.onClick(n)})),t.carousel=c,t.state=Ot.Ready}onClick(t){t.preventDefault(),t.stopPropagation();const e=this.instance,{pages:i,page:n}=e,s=t=>{if(t){const e=t.closest("[data-carousel-index]");if(e)return[parseInt(e.dataset.carouselIndex||"",10)||0,e]}return[-1,void 0]},o=(t,e)=>{const i=document.elementFromPoint(t,e);return i?s(i):[-1,void 0]};let[a,r]=s(t.target);if(a>-1)return;const l=this[Rt],c=t.clientX,h=t.clientY;let[d,u]=o(c-l,h),[f,p]=o(c+l,h);u&&p?(a=Math.abs(c-u.getBoundingClientRect().right)<Math.abs(c-p.getBoundingClientRect().left)?d:f,a===n&&(a=a===d?f:d)):u?a=d:p&&(a=f),a>-1&&i[a]&&e.slideTo(a)}getShift(t){var e;const i=this,{instance:n}=i,s=i.carousel;if(!n||!s)return 0;const o=i[Lt],a=i[Rt],r=i.thumbGap,l=i.thumbExtraGap;if(!(null===(e=s.slides[t])||void 0===e?void 0:e.el))return 0;const c=.5*(o-a),h=n.pages.length-1;let d=n.getProgress(0),u=n.getProgress(h),f=n.getProgress(t,!1,!0),p=0,g=c+l+r;const m=d<0&&d>-1,b=u>0&&u<1;return 0===t?(p=g*Math.abs(d),b&&1===d&&(p-=g*Math.abs(u))):t===h?(p=g*Math.abs(u)*-1,m&&-1===u&&(p+=g*Math.abs(d))):m||b?(p=-1*g,p+=g*Math.abs(d),p+=g*(1-Math.abs(u))):p=g*f,p}setProps(t){const i=this;if(!i.isModern)return;const{instance:n}=i,s=i.carousel;if(n&&s){const o=s.slides[t].el;if(o&&o.childNodes.length){let s=e(1-Math.abs(n.getProgress(t))),a=e(i.getShift(t));o.style.setProperty("--progress",s?s+"":""),o.style.setProperty("--shift",a+"")}}}shiftModern(){const t=this;if(!t.isModern)return;const{instance:e,track:i}=t,n=e.panzoom,s=t.carousel;if(!(e&&i&&n&&s))return;if(n.state===b.Init||n.state===b.Destroy)return;for(const i of e.slides)t.setProps(i.index);let o=(t[Rt]+t.thumbGap)*(s.slides.length||0);i.style.setProperty("--width",o+"")}cleanup(){const t=this;t.carousel&&t.carousel.destroy(),t.carousel=null,t.container&&t.container.remove(),t.container=null,t.track&&t.track.remove(),t.track=null,t.state=Ot.Init,S(t.instance.container,t.cn("hasThumbs"))}attach(){const t=this,e=t.instance;e.on("initSlide",t.onInitSlide),e.state===j.Init?e.on("initSlides",t.onInitSlides):t.onInitSlides(),e.on(["change","Panzoom.afterTransform"],t.onChange),e.on("Panzoom.refresh",t.onRefresh)}detach(){const t=this,e=t.instance;e.off("initSlide",t.onInitSlide),e.off("initSlides",t.onInitSlides),e.off(["change","Panzoom.afterTransform"],t.onChange),e.off("Panzoom.refresh",t.onRefresh),t.cleanup()}};Object.defineProperty(kt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Mt});const It=Object.assign(Object.assign({},Mt),{key:"t",showOnStart:!0,parentEl:null}),Dt="is-masked",Ft="aria-hidden";class jt extends N{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const t=this.ref;return t&&!t.isDisabled()}get isHidden(){return this.hidden}onClick(t,e){e.stopPropagation()}onCreateSlide(t,e){var i,n,s;const o=(null===(s=null===(n=null===(i=this.instance)||void 0===i?void 0:i.carousel)||void 0===n?void 0:n.slides[e.index])||void 0===s?void 0:s.type)||"",a=e.el;if(a&&o){let t=`for-${o}`;["video","youtube","vimeo","html5video"].includes(o)&&(t+=" for-video"),P(a,t)}}onInit(){var t;const e=this,i=e.instance,n=i.carousel;if(e.ref||!n)return;const s=e.option("parentEl")||i.footer||i.container;if(!s)return;const o=f({},e.options,{parentEl:s,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:i.option("Carousel.friction")||0}},on:{ready:t=>{const i=t.container;i&&this.hidden&&(e.refresh(),i.style.transition="none",e.hide(),i.offsetHeight,queueMicrotask((()=>{i.style.transition="",e.show()})))}}});o.Carousel=o.Carousel||{},o.Carousel.on=f((null===(t=e.options.Carousel)||void 0===t?void 0:t.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=o,n.attachPlugins({Thumbs:kt}),e.ref=n.plugins.Thumbs,e.option("showOnStart")||(e.ref.state=Ot.Hidden,e.hidden=!0)}onResize(){var t;const e=null===(t=this.ref)||void 0===t?void 0:t.container;e&&(e.style.maxHeight="")}onKeydown(t,e){const i=this.option("key");i&&i===e&&this.toggle()}toggle(){const t=this.ref;if(t&&!t.isDisabled())return t.state===Ot.Hidden?(t.state=Ot.Init,void t.build()):void(this.hidden?this.show():this.hide())}show(){const t=this.ref;if(!t||t.isDisabled())return;const e=t.container;e&&(this.refresh(),e.offsetHeight,e.removeAttribute(Ft),e.classList.remove(Dt),this.hidden=!1)}hide(){const t=this.ref,e=t&&t.container;e&&(this.refresh(),e.offsetHeight,e.classList.add(Dt),e.setAttribute(Ft,"true")),this.hidden=!0}refresh(){const t=this.ref;if(!t||!t.state)return;const e=t.container,i=(null==e?void 0:e.firstChild)||null;e&&i&&i.childNodes.length&&(e.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){const t=this,e=t.instance;e.state===ot.Init?e.on("Carousel.init",t.onInit):t.onInit(),e.on("resize",t.onResize),e.on("keydown",t.onKeydown)}detach(){var t;const e=this,i=e.instance;i.off("Carousel.init",e.onInit),i.off("resize",e.onResize),i.off("keydown",e.onKeydown),null===(t=i.carousel)||void 0===t||t.detachPlugins(["Thumbs"]),e.ref=null}}Object.defineProperty(jt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:It});const Ht={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Bt;!function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Disabled=2]="Disabled"}(Bt||(Bt={}));const Nt={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},_t={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};class $t extends N{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Bt.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(t){var e;if(!t.carousel)return;let i=this.option("display"),n=this.option("absolute"),s=this.option("enabled");if("auto"===s){const t=this.instance.carousel;let e=0;if(t)for(const i of t.slides)(i.panzoom||"image"===i.type)&&e++;e||(s=!1)}s||(i=void 0);let o=0;const a={left:[],middle:[],right:[]};if(i)for(const t of["left","middle","right"])for(const n of i[t]){const i=this.createEl(n);i&&(null===(e=a[t])||void 0===e||e.push(i),o++)}let r=null;if(o&&(r=this.createContainer()),r){for(const[t,e]of Object.entries(a)){const i=document.createElement("div");P(i,"fancybox__toolbar__column is-"+t);for(const t of e)i.appendChild(t);"auto"!==n||"middle"!==t||e.length||(n=!0),r.appendChild(i)}!0===n&&P(r,"is-absolute"),this.state=Bt.Ready,this.onRefresh()}else this.state=Bt.Disabled}onClick(t){var e,i;const n=this.instance,s=n.getSlide(),o=null==s?void 0:s.panzoom,a=t.target,r=a&&E(a)?a.dataset:null;if(!r)return;if(void 0!==r.fancyboxToggleThumbs)return t.preventDefault(),t.stopPropagation(),void(null===(e=n.plugins.Thumbs)||void 0===e||e.toggle());if(void 0!==r.fancyboxToggleFullscreen)return t.preventDefault(),t.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==r.fancyboxToggleSlideshow){t.preventDefault(),t.stopPropagation();const e=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay;let s=e.isActive;return o&&"mousemove"===o.panMode&&!s&&o.reset(),void(s?e.stop():e.start())}const l=r.panzoomAction,c=r.panzoomChange;if((c||l)&&(t.preventDefault(),t.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(t){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const t=this.container;if(!t)return;const e=this.instance.getSlide();if(!e||e.state!==at.Ready)return;const i=e&&!e.error&&e.panzoom;for(const e of t.querySelectorAll("[data-panzoom-action]"))i?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"));let n=i&&i.canZoomIn(),s=i&&i.canZoomOut();for(const e of t.querySelectorAll('[data-panzoom-action="zoomIn"]'))n?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"));for(const e of t.querySelectorAll('[data-panzoom-action="zoomOut"]'))s?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"));for(const e of t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){s||n?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"));const t=e.querySelector("g");t&&(t.style.display=n?"":"none")}}onDone(t,e){var i;null===(i=e.panzoom)||void 0===i||i.on("afterTransform",(()=>{this.instance.isCurrentSlide(e)&&this.onRefresh()})),this.instance.isCurrentSlide(e)&&this.onRefresh()}createContainer(){const t=this.instance.container;if(!t)return null;const e=this.option("parentEl")||t,i=document.createElement("div");return P(i,"fancybox__toolbar"),e.prepend(i),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),t&&P(t,"has-toolbar"),this.container=i,i}createEl(t){const e=this.instance,i=e.carousel;if(!i)return null;if("toggleFS"===t)return null;if("fullscreen"===t&&!e.fsAPI)return null;let n=null;const o=i.slides.length||0;let a=0,r=0;for(const t of i.slides)(t.panzoom||"image"===t.type)&&a++,("image"===t.type||t.downloadSrc)&&r++;if(o<2&&["infobar","prev","next"].includes(t))return n;if(void 0!==Ht[t]&&!a)return null;if("download"===t&&!r)return null;if("thumbs"===t){const t=e.plugins.Thumbs;if(!t||!t.isEnabled)return null}if("slideshow"===t){if(!i.plugins.Autoplay||o<2)return null}if(void 0!==Ht[t]){const e=Ht[t];n=document.createElement("button"),n.setAttribute("title",this.instance.localize(`{{${t.toUpperCase()}}}`)),P(n,"f-button"),e.action&&(n.dataset.panzoomAction=e.action),e.change&&(n.dataset.panzoomChange=JSON.stringify(e.change)),n.appendChild(s(this.instance.localize(e.icon)))}else{const e=(this.option("items")||[])[t];e&&(n=s(this.instance.localize(e.tpl)),"function"==typeof e.click&&n.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof e.click&&e.click.call(this,this,t)})))}const l=null==n?void 0:n.querySelector("svg");if(l)for(const[t,e]of Object.entries(_t))l.getAttribute(t)||l.setAttribute(t,String(e));return n}removeContainer(){const t=this.container;t&&t.remove(),this.container=null,this.state=Bt.Disabled;const e=this.instance.container;e&&S(e,"has-toolbar")}attach(){const t=this,e=t.instance;e.on("Carousel.initSlides",t.onReady),e.on("done",t.onDone),e.on(["reveal","Carousel.change"],t.onChange),t.onReady(t.instance)}detach(){const t=this,e=t.instance;e.off("Carousel.initSlides",t.onReady),e.off("done",t.onDone),e.off(["reveal","Carousel.change"],t.onChange),t.removeContainer()}}Object.defineProperty($t,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Nt});const Wt={Hash:lt,Html:xt,Images:dt,Slideshow:Tt,Thumbs:jt,Toolbar:$t},Xt="with-fancybox",qt="hide-scrollbar",Yt="--fancybox-scrollbar-compensate",Vt="--fancybox-body-margin",Zt="is-using-tab",Ut="is-animated",Gt="is-compact",Kt="is-loading",Jt="has-caption",Qt="disabled",te="tabindex",ee="download",ie="href",ne="src",se=t=>"string"==typeof t,oe=function(){var t=window.getSelection();return t&&"Range"===t.type};let ae=null,re=null;const le=new Map;let ce=0;class he extends m{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(t=[],e={},i={}){super(e),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ot.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fsAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fsAPI=(()=>{let t,e="",i="",n="";return document.fullscreenEnabled?(e="requestFullscreen",i="exitFullscreen",n="fullscreenElement"):document.webkitFullscreenEnabled&&(e="webkitRequestFullscreen",i="webkitExitFullscreen",n="webkitFullscreenElement"),e&&(t={request:function(t){return"webkitRequestFullscreen"===e?t[e](Element.ALLOW_KEYBOARD_INPUT):t[e]()},exit:function(){return document[n]&&document[i]()},isFullscreen:function(){return document[n]}}),t})(),this.id=e.id||++ce,le.set(this.id,this),this.userSlides=t,this.userPlugins=i,queueMicrotask((()=>{this.init()}))}init(){if(this.state===ot.Destroy)return;this.state=ot.Init,this.attachPlugins(Object.assign(Object.assign({},he.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!tt)return;const t=document,e=t.body,i=t.documentElement;if(e.classList.contains(qt))return;let n=window.innerWidth-i.getBoundingClientRect().width;const s=parseFloat(window.getComputedStyle(e).marginRight);n<0&&(n=0),i.style.setProperty(Yt,`${n}px`),s&&e.style.setProperty(Vt,`${s}px`),e.classList.add(qt)})(),this.initLayout(),this.scale();const t=()=>{this.initCarousel(this.userSlides),this.state=ot.Ready,this.attachEvents(),this.emit("ready"),setTimeout((()=>{this.container&&this.container.setAttribute("aria-hidden","false")}),16)},e=this.fsAPI;this.option("Fullscreen.autoStart")&&e&&!e.isFullscreen()?e.request(this.container).then((()=>t())).catch((()=>t())):t()}initLayout(){var t,e;const i=this.option("parentEl")||document.body,n=s(this.localize(this.option("tpl.main")||""));n&&(n.setAttribute("id",`fancybox-${this.id}`),n.setAttribute("aria-label",this.localize("{{MODAL}}")),n.classList.toggle(Gt,this.isCompact),P(n,this.option("mainClass")||""),this.container=n,this.footer=n.querySelector(".fancybox__footer"),i.appendChild(n),P(document.documentElement,Xt),ae&&re||(ae=document.createElement("span"),P(ae,"fancybox-focus-guard"),ae.setAttribute(te,"0"),ae.setAttribute("aria-hidden","true"),ae.setAttribute("aria-label","Focus guard"),re=ae.cloneNode(),null===(t=n.parentElement)||void 0===t||t.insertBefore(ae,n),null===(e=n.parentElement)||void 0===e||e.append(re)),n.addEventListener("mousedown",(()=>{S(n,Zt)})),this.option("animated")&&(P(n,Ut),setTimeout((()=>{this.isClosing()||S(n,Ut)}),350)),this.emit("initLayout"))}initCarousel(t){const e=this.container;if(!e)return;const n=e.querySelector(".fancybox__carousel");if(!n)return;const s=this.carousel=new J(n,f({},{slides:t,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));s.on("*",((t,e,...i)=>{this.emit(`Carousel.${e}`,t,...i)})),s.on(["ready","change"],(()=>{this.manageCaption()})),this.on("Carousel.removeSlide",((t,e,i)=>{this.clearContent(i),i.state=void 0})),s.on("Panzoom.touchStart",(()=>{var t,e;this.isCompact||this.endIdle(),(null===(t=document.activeElement)||void 0===t?void 0:t.closest(".f-thumbs"))&&(null===(e=this.container)||void 0===e||e.focus())})),s.on("settle",(()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()})),this.option("dragToClose")&&(s.on("Panzoom.afterTransform",((t,e)=>{const n=this.getSlide();if(n&&i(n.el))return;const s=this.container;if(s){const t=Math.abs(e.current.f),i=t<1?"":Math.max(.5,Math.min(1,1-t/e.contentRect.fitHeight*1.5));s.style.setProperty("--fancybox-ts",i?"0s":""),s.style.setProperty("--fancybox-opacity",i+"")}})),s.on("Panzoom.touchEnd",((t,e,n)=>{var s;const o=this.getSlide();if(o&&i(o.el))return;if(e.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(s=document.activeElement)||void 0===s?void 0:s.nodeName))return;const a=Math.abs(e.dragOffset.y);"y"===e.lockedAxis&&(a>=200||a>=50&&e.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),this.close(n,"f-throwOut"+(e.current.f<0?"Up":"Down")))}))),s.on("change",(t=>{var e;let i=null===(e=this.getSlide())||void 0===e?void 0:e.triggerEl;if(i){const e=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:t.page});i.dispatchEvent(e)}})),s.on(["refresh","change"],(t=>{const e=this.container;if(!e)return;for(const i of e.querySelectorAll("[data-fancybox-current-index]"))i.innerHTML=t.page+1;for(const i of e.querySelectorAll("[data-fancybox-count]"))i.innerHTML=t.pages.length;if(!t.isInfinite){for(const i of e.querySelectorAll("[data-fancybox-next]"))t.page<t.pages.length-1?(i.removeAttribute(Qt),i.removeAttribute(te)):(i.setAttribute(Qt,""),i.setAttribute(te,"-1"));for(const i of e.querySelectorAll("[data-fancybox-prev]"))t.page>0?(i.removeAttribute(Qt),i.removeAttribute(te)):(i.setAttribute(Qt,""),i.setAttribute(te,"-1"))}const i=this.getSlide();if(!i)return;let n=i.downloadSrc||"";n||"image"!==i.type||i.error||!se(i[ne])||(n=i[ne]);for(const t of e.querySelectorAll("[data-fancybox-download]")){const e=i.downloadFilename;n?(t.removeAttribute(Qt),t.removeAttribute(te),t.setAttribute(ie,n),t.setAttribute(ee,e||n),t.setAttribute("target","_blank")):(t.setAttribute(Qt,""),t.setAttribute(te,"-1"),t.removeAttribute(ie),t.removeAttribute(ee))}})),this.emit("initCarousel")}attachEvents(){const t=this,e=t.container;if(!e)return;e.addEventListener("click",t.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",t.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",t.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",t.onVisibilityChange,!1),document.addEventListener("mousemove",t.onMousemove),t.option("trapFocus")&&document.addEventListener("focus",t.onFocus,!0),window.addEventListener("resize",t.onResize);const i=window.visualViewport;i&&(i.addEventListener("scroll",t.onResize),i.addEventListener("resize",t.onResize))}detachEvents(){const t=this,e=t.container;if(!e)return;document.removeEventListener("keydown",t.onKeydown,{passive:!1,capture:!0}),e.removeEventListener("wheel",t.onWheel,{passive:!1,capture:!1}),e.removeEventListener("click",t.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",t.onMousemove),window.removeEventListener("resize",t.onResize);const i=window.visualViewport;i&&(i.removeEventListener("resize",t.onResize),i.removeEventListener("scroll",t.onResize)),document.removeEventListener("visibilitychange",t.onVisibilityChange,!1),document.removeEventListener("focus",t.onFocus,!0)}scale(){const t=this.container;if(!t)return;const e=window.visualViewport,i=Math.max(1,(null==e?void 0:e.scale)||1);let n="",s="",o="";if(e&&i>1){let t=`${e.offsetLeft}px`,a=`${e.offsetTop}px`;n=e.width*i+"px",s=e.height*i+"px",o=`translate3d(${t}, ${a}, 0) scale(${1/i})`}t.style.transform=o,t.style.width=n,t.style.height=s}onClick(t){var e,i;const{container:n,isCompact:s}=this;if(!n||this.isClosing())return;!s&&this.option("idle")&&this.resetIdle();const o=t.composedPath()[0];if(o.closest(".f-spinner")||o.closest("[data-fancybox-close]"))return t.preventDefault(),void this.close(t);if(o.closest("[data-fancybox-prev]"))return t.preventDefault(),void this.prev();if(o.closest("[data-fancybox-next]"))return t.preventDefault(),void this.next();const a=document.activeElement;if(oe()&&a&&n.contains(a))return;if(o===(null===(e=this.carousel)||void 0===e?void 0:e.container))return;if(s&&"image"===(null===(i=this.getSlide())||void 0===i?void 0:i.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((()=>{this.toggleIdle(),this.clickTimer=null}),350));if(this.emit("click",t),t.defaultPrevented)return;let r=!1;if(o.closest(".fancybox__content")){if(a){if(a.closest("[contenteditable]"))return;o.matches(it)||a.blur()}if(oe())return;r=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(it)&&(r=this.option("backdropClick"));"close"===r?(t.preventDefault(),this.close(t)):"next"===r?(t.preventDefault(),this.next()):"prev"===r&&(t.preventDefault(),this.prev())}onWheel(t){const e=t.target;let i=this.option("wheel",t);e.closest(".fancybox__thumbs")&&(i="slide");const s="slide"===i,o=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t})),a=Math.max(-1,Math.min(1,o)),r=Date.now();this.pwt&&r-this.pwt<300?s&&t.preventDefault():(this.pwt=r,this.emit("wheel",t,a),t.defaultPrevented||("close"===i?(t.preventDefault(),this.close(t)):"slide"===i&&(n(e)||(t.preventDefault(),this[a>0?"prev":"next"]()))))}onKeydown(t){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const e=t.key,i=this.option("keyboard");if(!i)return;const n=t.composedPath()[0],s=document.activeElement&&document.activeElement.classList,o=s&&s.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if("Escape"!==e&&!o&&E(n)){if(n.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName))return}if("Tab"===t.key?P(this.container,Zt):S(this.container,Zt),t.ctrlKey||t.altKey||t.shiftKey)return;this.emit("keydown",e,t);const a=i[e];a&&"function"==typeof this[a]&&(t.preventDefault(),this[a]())}onResize(){const t=this.container;if(!t)return;const e=this.isCompact;t.classList.toggle(Gt,e),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(t){this.isTopmost()&&this.checkFocus(t)}onMousemove(t){this.prevMouseMoveEvent=t,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(t){const e=this.optionFor(t,"closeButton")||!1;if("auto"===e){const t=this.plugins.Toolbar;if(t&&t.state===Bt.Ready)return}if(!e)return;if(!t.contentEl||t.closeBtnEl)return;const i=this.option("tpl.closeButton");if(i){const e=s(this.localize(i));t.closeBtnEl=t.contentEl.appendChild(e),t.el&&P(t.el,"has-close-btn")}}manageCaption(t=void 0){var e,i;const n="fancybox__caption",s=this.container;if(!s)return;S(s,Jt);const o=this.isCompact||this.option("commonCaption"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const t of(null===(e=this.carousel)||void 0===e?void 0:e.slides)||[])t.captionEl&&(t.captionEl.remove(),t.captionEl=void 0,S(t.el,Jt),null===(i=t.el)||void 0===i||i.removeAttribute("aria-labelledby"));if(t||(t=this.getSlide()),!t||o&&!this.isCurrentSlide(t))return;const r=t.el;let l=this.optionFor(t,"caption","");if(!l)return void(o&&this.caption&&this.animate(this.caption,"f-fadeOut",(()=>{this.caption&&(this.caption.innerHTML="")})));let c=null;if(a){if(c=t.captionEl||null,r&&!c){const e=n+`_${this.id}_${t.index}`;c=document.createElement("div"),P(c,n),c.setAttribute("id",e),t.captionEl=r.appendChild(c),P(r,Jt),r.setAttribute("aria-labelledby",e)}}else{if(c=this.caption,c||(c=s.querySelector("."+n)),!c){c=document.createElement("div"),c.dataset.fancyboxCaption="",P(c,n);(this.footer||s).prepend(c)}P(s,Jt),this.caption=c}c&&(c.innerHTML="",se(l)||"number"==typeof l?c.innerHTML=l+"":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(t){this.focus(t)}focus(t){var e;if(this.ignoreFocusChange)return;const i=document.activeElement||null,n=(null==t?void 0:t.target)||null,s=this.container,o=this.getSlide();if(!s||!(null===(e=this.carousel)||void 0===e?void 0:e.viewport))return;if(!t&&i&&s.contains(i))return;const a=o&&o.state===at.Ready?o.el:null;if(!a||a.contains(i)||s===i)return;t&&t.cancelable&&t.preventDefault(),this.ignoreFocusChange=!0;const r=Array.from(s.querySelectorAll(it));let l=[],c=null;for(let t of r){const e=!t.offsetParent||!!t.closest('[aria-hidden="true"]'),i=a&&a.contains(t),n=!this.carousel.viewport.contains(t);if(t===s||(i||n)&&!e){l.push(t);const e=t.dataset.origTabindex;void 0!==e&&e&&(t.tabIndex=parseFloat(e)),t.removeAttribute("data-orig-tabindex"),!t.hasAttribute("autoFocus")&&c||(c=t)}else{const e=void 0===t.dataset.origTabindex?t.getAttribute("tabindex")||"":t.dataset.origTabindex;e&&(t.dataset.origTabindex=e),t.tabIndex=-1}}let h=null;t?(!n||l.indexOf(n)<0)&&(h=c||s,l.length&&(i===re?h=l[0]:this.lastFocus!==s&&i!==ae||(h=l[l.length-1]))):h=o&&"image"===o.type?s:c||s,h&&nt(h),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const t=this.carousel;t&&t.pages.length>1&&t.slideNext()}prev(){const t=this.carousel;t&&t.pages.length>1&&t.slidePrev()}jumpTo(...t){this.carousel&&this.carousel.slideTo(...t)}isTopmost(){var t;return(null===(t=he.getInstance())||void 0===t?void 0:t.id)==this.id}animate(t=null,e="",i){if(!t||!e)return void(i&&i());this.stop(t);const n=s=>{s.target===t&&t.dataset.animationName&&(t.removeEventListener("animationend",n),delete t.dataset.animationName,i&&i(),S(t,e))};t.dataset.animationName=e,t.addEventListener("animationend",n),P(t,e)}stop(t){t&&t.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:t}))}setContent(t,e="",i=!0){if(this.isClosing())return;const n=t.el;if(!n)return;let o=null;if(E(e)?o=e:(o=s(e+""),E(o)||(o=document.createElement("div"),o.innerHTML=e+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){const t=document.createElement("div");t.appendChild(o),o=t}E(o)&&t.filter&&!t.error&&(o=o.querySelector(t.filter)),o&&E(o)?(P(o,"fancybox__content"),t.id&&o.setAttribute("id",t.id),"none"!==o.style.display&&"none"!==getComputedStyle(o).getPropertyValue("display")||(o.style.display=t.display||this.option("defaultDisplay")||"flex"),n.classList.add(`has-${t.error?"error":t.type||"unknown"}`),n.prepend(o),t.contentEl=o,i&&this.revealContent(t),this.manageCloseBtn(t),this.manageCaption(t)):this.setError(t,"{{ELEMENT_NOT_FOUND}}")}revealContent(t,e){const i=t.el,n=t.contentEl;i&&n&&(this.emit("reveal",t),this.hideLoading(t),t.state=at.Opening,(e=this.isOpeningSlide(t)?void 0===e?this.optionFor(t,"showClass"):e:"f-fadeIn")?this.animate(n,e,(()=>{this.done(t)})):this.done(t))}done(t){this.isClosing()||(t.state=at.Ready,this.emit("done",t),P(t.el,"is-done"),this.isCurrentSlide(t)&&this.option("autoFocus")&&queueMicrotask((()=>{var e;null===(e=t.panzoom)||void 0===e||e.updateControls(),this.option("autoFocus")&&(this.option("autoFocus")?this.focus():this.checkFocus())})),this.isOpeningSlide(t)&&!this.isCompact&&this.option("idle")&&this.setIdle())}isCurrentSlide(t){const e=this.getSlide();return!(!t||!e)&&e.index===t.index}isOpeningSlide(t){var e,i;return null===(null===(e=this.carousel)||void 0===e?void 0:e.prevPage)&&t.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}showLoading(t){t.state=at.Loading;const e=t.el;if(!e)return;P(e,Kt),this.emit("loading",t),t.spinnerEl||setTimeout((()=>{if(!this.isClosing()&&!t.spinnerEl&&t.state===at.Loading){let i=s(x);t.spinnerEl=i,e.prepend(i),this.animate(i,"f-fadeIn")}}),250)}hideLoading(t){const e=t.el;if(!e)return;const i=t.spinnerEl;this.isClosing()?null==i||i.remove():(S(e,Kt),i&&this.animate(i,"f-fadeOut",(()=>{i.remove()})),t.state===at.Loading&&(this.emit("loaded",t),t.state=at.Ready))}setError(t,e){if(this.isClosing())return;const i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,t),i.defaultPrevented)return;t.error=e,this.hideLoading(t),this.clearContent(t);const n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(e||"<p>{{ERROR}}</p>"),this.setContent(t,n)}clearContent(t){if(void 0===t.state)return;this.emit("clearContent",t),t.contentEl&&(t.contentEl.remove(),t.contentEl=void 0);const e=t.el;e&&(S(e,"has-error"),S(e,"has-unknown"),S(e,`has-${t.type||"unknown"}`)),t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0}getSlide(){var t;const e=this.carousel;return(null===(t=null==e?void 0:e.pages[null==e?void 0:e.page])||void 0===t?void 0:t.slides[0])||void 0}close(t,e){if(this.isClosing())return;const i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,t),i.defaultPrevented)return;t&&t.cancelable&&(t.preventDefault(),t.stopPropagation());const n=this.fsAPI,s=()=>{this.proceedClose(t,e)};n&&n.isFullscreen()===this.container?Promise.resolve(n.exit()).then((()=>s())):s()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(t=!1){const e=()=>{this.clearIdle(),this.idle=!0,P(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(t)e();else{const t=this.option("idle");t&&(this.idleTimer=setTimeout(e,t))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){const t=this.fsAPI;t&&(t.isFullscreen()?t.exit():this.container&&t.request(this.container))}isClosing(){return[ot.Closing,ot.CustomClosing,ot.Destroy].includes(this.state)}proceedClose(t,e){var i,n;this.state=ot.Closing,this.clearIdle(),this.detachEvents();const s=this.container,o=this.carousel,a=this.getSlide(),r=a&&this.option("placeFocusBack")?a.triggerEl||this.option("triggerEl"):null;if(r&&(Q(r)?nt(r):r.focus()),s&&(P(s,"is-closing"),s.setAttribute("aria-hidden","true"),this.option("animated")&&P(s,Ut),s.style.pointerEvents="none"),o){o.clearTransitions(),null===(i=o.panzoom)||void 0===i||i.destroy(),null===(n=o.plugins.Navigation)||void 0===n||n.detach();for(const t of o.slides){t.state=at.Closing,this.hideLoading(t);const e=t.contentEl;e&&this.stop(e);const i=null==t?void 0:t.panzoom;i&&(i.stop(),i.detachEvents(),i.detachObserver()),this.isCurrentSlide(t)||o.emit("removeSlide",t)}}this.emit("close",t),this.state!==ot.CustomClosing?(void 0===e&&a&&(e=this.optionFor(a,"hideClass")),e&&a?(this.animate(a.contentEl,e,(()=>{o&&o.emit("removeSlide",a)})),setTimeout((()=>{this.destroy()}),500)):this.destroy()):setTimeout((()=>{this.destroy()}),500)}destroy(){var t;if(this.state===ot.Destroy)return;this.state=ot.Destroy,null===(t=this.carousel)||void 0===t||t.destroy();const e=this.container;e&&e.remove(),le.delete(this.id);const i=he.getInstance();i?i.focus():(ae&&(ae.remove(),ae=null),re&&(re.remove(),re=null),S(document.documentElement,Xt),(()=>{if(!tt)return;const t=document,e=t.body;e.classList.remove(qt),e.style.setProperty(Vt,""),t.documentElement.style.setProperty(Yt,"")})(),this.emit("destroy"))}static bind(t,e,i){if(!tt)return;let n,s="",o={};if(void 0===t?n=document.body:se(t)?(n=document.body,s=t,"object"==typeof e&&(o=e||{})):(n=t,se(e)&&(s=e),"object"==typeof i&&(o=i||{})),!n||!E(n))return;s=s||"[data-fancybox]";const a=he.openers.get(n)||new Map;a.set(s,o),he.openers.set(n,a),1===a.size&&n.addEventListener("click",he.fromEvent)}static unbind(t,e){let i,n="";if(se(t)?(i=document.body,n=t):(i=t,se(e)&&(n=e)),!i)return;const s=he.openers.get(i);s&&n&&s.delete(n),n&&s||(he.openers.delete(i),i.removeEventListener("click",he.fromEvent))}static destroy(){let t;for(;t=he.getInstance();)t.destroy();for(const t of he.openers.keys())t.removeEventListener("click",he.fromEvent);he.openers=new Map}static fromEvent(t){if(t.defaultPrevented)return;if(t.button&&0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey)return;let e=t.composedPath()[0];const i=e.closest("[data-fancybox-trigger]");if(i){const t=i.dataset.fancyboxTrigger||"",n=document.querySelectorAll(`[data-fancybox="${t}"]`),s=parseInt(i.dataset.fancyboxIndex||"",10)||0;e=n[s]||e}if(!(e&&e instanceof Element))return;let n,s,o,a;if([...he.openers].reverse().find((([t,i])=>!(!t.contains(e)||![...i].reverse().find((([i,r])=>{let l=e.closest(i);return!!l&&(n=t,s=i,o=l,a=r,!0)}))))),!n||!s||!o)return;a=a||{},t.preventDefault(),e=o;let r=[],l=f({},st,a);l.event=t,l.triggerEl=e,l.delegate=i;const c=l.groupAll,h=l.groupAttr,d=h&&e?e.getAttribute(`${h}`):"";if((!e||d||c)&&(r=[].slice.call(n.querySelectorAll(s))),e&&!c&&(r=d?r.filter((t=>t.getAttribute(`${h}`)===d)):[e]),!r.length)return;const u=he.getInstance();return u&&u.options.triggerEl&&r.indexOf(u.options.triggerEl)>-1?void 0:(e&&(l.startIndex=r.indexOf(e)),he.fromNodes(r,l))}static fromSelector(t,e,i){let n=null,s="",o={};if(se(t)?(n=document.body,s=t,"object"==typeof e&&(o=e||{})):t instanceof HTMLElement&&se(e)&&(n=t,s=e,"object"==typeof i&&(o=i||{})),!n||!s)return!1;const a=he.openers.get(n);return!!a&&(o=f({},a.get(s)||{},o),!!o&&he.fromNodes(Array.from(n.querySelectorAll(s)),o))}static fromNodes(t,e){e=f({},st,e||{});const i=[];for(const n of t){const t=n.dataset||{},s=t[ne]||n.getAttribute(ie)||n.getAttribute("currentSrc")||n.getAttribute(ne)||void 0;let o;const a=e.delegate;let r;a&&i.length===e.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector("img:not([aria-hidden])")),o||(o=n instanceof HTMLImageElement?n:n.querySelector("img:not([aria-hidden])")),o&&(r=o.currentSrc||o[ne]||void 0,!r&&o.dataset&&(r=o.dataset.lazySrc||o.dataset[ne]||void 0));const l={src:s,triggerEl:n,thumbEl:o,thumbElSrc:r,thumbSrc:r};for(const e in t){let i=t[e]+"";i="false"!==i&&("true"===i||i),l[e]=i}i.push(l)}return new he(i,e)}static getInstance(t){if(t)return le.get(t);return Array.from(le.values()).reverse().find((t=>!t.isClosing()&&t))||null}static getSlide(){var t;return(null===(t=he.getInstance())||void 0===t?void 0:t.getSlide())||null}static show(t=[],e={}){return new he(t,e)}static next(){const t=he.getInstance();t&&t.next()}static prev(){const t=he.getInstance();t&&t.prev()}static close(t=!0,...e){if(t)for(const t of le.values())t.close(...e);else{const t=he.getInstance();t&&t.close(...e)}}}Object.defineProperty(he,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.28"}),Object.defineProperty(he,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:st}),Object.defineProperty(he,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Wt}),Object.defineProperty(he,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),t.Carousel=J,t.Fancybox=he,t.Panzoom=k}));

/**
 * Swiper 11.1.10
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2024 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: August 21, 2024
 */

var Swiper=function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(s,a){void 0===s&&(s={}),void 0===a&&(a={}),Object.keys(a).forEach((i=>{void 0===s[i]?s[i]=a[i]:e(a[i])&&e(s[i])&&Object.keys(a[i]).length>0&&t(s[i],a[i])}))}const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const e="undefined"!=typeof document?document:{};return t(e,s),e}const i={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function r(){const e="undefined"!=typeof window?window:{};return t(e,i),e}function n(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function l(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function o(){return Date.now()}function d(e,t){void 0===t&&(t="x");const s=r();let a,i,n;const l=function(e){const t=r();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):(n=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=n.toString().split(",")),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function c(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function p(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let a=1;a<arguments.length;a+=1){const i=a<0||arguments.length<=a?void 0:arguments[a];if(null!=i&&(s=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?s instanceof HTMLElement:s&&(1===s.nodeType||11===s.nodeType)))){const s=Object.keys(Object(i)).filter((e=>t.indexOf(e)<0));for(let t=0,a=s.length;t<a;t+=1){const a=s[t],r=Object.getOwnPropertyDescriptor(i,a);void 0!==r&&r.enumerable&&(c(e[a])&&c(i[a])?i[a].__swiper__?e[a]=i[a]:p(e[a],i[a]):!c(e[a])&&c(i[a])?(e[a]={},i[a].__swiper__?e[a]=i[a]:p(e[a],i[a])):e[a]=i[a])}}}var s;return e}function u(e,t,s){e.style.setProperty(t,s)}function m(e){let{swiper:t,targetPosition:s,side:a}=e;const i=r(),n=-t.translate;let l,o=null;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=s>n?"next":"prev",p=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{l=(new Date).getTime(),null===o&&(o=l);const e=Math.max(Math.min((l-o)/d,1),0),r=.5-Math.cos(e*Math.PI)/2;let c=n+r*(s-n);if(p(c,s)&&(c=s),t.wrapperEl.scrollTo({[a]:c}),p(c,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:c})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(u)};u()}function h(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function f(e,t){void 0===t&&(t="");const s=[...e.children];return e instanceof HTMLSlotElement&&s.push(...e.assignedElements()),t?s.filter((e=>e.matches(t))):s}function g(e){try{return void console.warn(e)}catch(e){}}function v(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:n(t)),s}function w(e){const t=r(),s=a(),i=e.getBoundingClientRect(),n=s.body,l=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,d=e===t?t.scrollY:e.scrollTop,c=e===t?t.scrollX:e.scrollLeft;return{top:i.top+d-l,left:i.left+c-o}}function b(e,t){return r().getComputedStyle(e,null).getPropertyValue(t)}function y(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function E(e,t){const s=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&s.push(a):s.push(a),a=a.parentElement;return s}function x(e,t){t&&e.addEventListener("transitionend",(function s(a){a.target===e&&(t.call(e,a),e.removeEventListener("transitionend",s))}))}function S(e,t,s){const a=r();return s?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function T(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function M(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}let C,P,L;function I(){return C||(C=function(){const e=r(),t=a();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),C}function z(e){return void 0===e&&(e={}),P||(P=function(e){let{userAgent:t}=void 0===e?{}:e;const s=I(),a=r(),i=a.navigator.platform,n=t||a.navigator.userAgent,l={ios:!1,android:!1},o=a.screen.width,d=a.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/);let p=n.match(/(iPad).*OS\s([\d_]+)/);const u=n.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i;let f="MacIntel"===i;return!p&&f&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${d}`)>=0&&(p=n.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),f=!1),c&&!h&&(l.os="android",l.android=!0),(p||m||u)&&(l.os="ios",l.ios=!0),l}(e)),P}function A(){return L||(L=function(){const e=r(),t=z();let s=!1;function a(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(a()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,a]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));s=e<16||16===e&&a<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),n=a();return{isSafari:s||n,needPerspectiveFix:s,need3dFix:n||i&&t.ios,isWebView:i}}()),L}var $={on(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;const i=s?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][i](t)})),a},once(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;function i(){a.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];t.apply(a,r)}return i.__emitterProxy=t,a.on(e,i,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1)}))})),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,a;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],s=r.slice(1,r.length),a=e):(t=r[0].events,s=r[0].data,a=r[0].context||e),s.unshift(a);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(a,[t,...s])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(a,s)}))})),e}};const k=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const O=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const D=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},G=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},H=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const a="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=i,r=[s-t];return r.push(...Array.from({length:t}).map(((e,t)=>s+a+t))),void e.slides.forEach(((t,s)=>{r.includes(t.column)&&G(e,s)}))}const r=i+a-1;if(e.params.rewind||e.params.loop)for(let a=i-t;a<=r+t;a+=1){const t=(a%s+s)%s;(t<i||t>r)&&G(e,t)}else for(let a=Math.max(i-t,0);a<=Math.min(r+t,s-1);a+=1)a!==i&&(a>r||a<i)&&G(e,a)};var B={updateSize:function(){const e=this;let t,s;const a=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:a.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(b(a,"padding-left")||0,10)-parseInt(b(a,"padding-right")||0,10),s=s-parseInt(b(a,"padding-top")||0,10)-parseInt(b(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t,s){return parseFloat(t.getPropertyValue(e.getDirectionLabel(s))||0)}const s=e.params,{wrapperEl:a,slidesEl:i,size:r,rtlTranslate:n,wrongRTL:l}=e,o=e.virtual&&s.virtual.enabled,d=o?e.virtual.slides.length:e.slides.length,c=f(i,`.${e.params.slideClass}, swiper-slide`),p=o?e.virtual.slides.length:c.length;let m=[];const h=[],g=[];let v=s.slidesOffsetBefore;"function"==typeof v&&(v=s.slidesOffsetBefore.call(e));let w=s.slidesOffsetAfter;"function"==typeof w&&(w=s.slidesOffsetAfter.call(e));const y=e.snapGrid.length,E=e.slidesGrid.length;let x=s.spaceBetween,T=-v,M=0,C=0;if(void 0===r)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*r:"string"==typeof x&&(x=parseFloat(x)),e.virtualSize=-x,c.forEach((e=>{n?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),s.centeredSlides&&s.cssMode&&(u(a,"--swiper-centered-offset-before",""),u(a,"--swiper-centered-offset-after",""));const P=s.grid&&s.grid.rows>1&&e.grid;let L;P?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const I="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter((e=>void 0!==s.breakpoints[e].slidesPerView)).length>0;for(let a=0;a<p;a+=1){let i;if(L=0,c[a]&&(i=c[a]),P&&e.grid.updateSlide(a,i,c),!c[a]||"none"!==b(i,"display")){if("auto"===s.slidesPerView){I&&(c[a].style[e.getDirectionLabel("width")]="");const r=getComputedStyle(i),n=i.style.transform,l=i.style.webkitTransform;if(n&&(i.style.transform="none"),l&&(i.style.webkitTransform="none"),s.roundLengths)L=e.isHorizontal()?S(i,"width",!0):S(i,"height",!0);else{const e=t(r,"width"),s=t(r,"padding-left"),a=t(r,"padding-right"),n=t(r,"margin-left"),l=t(r,"margin-right"),o=r.getPropertyValue("box-sizing");if(o&&"border-box"===o)L=e+n+l;else{const{clientWidth:t,offsetWidth:r}=i;L=e+s+a+n+l+(r-t)}}n&&(i.style.transform=n),l&&(i.style.webkitTransform=l),s.roundLengths&&(L=Math.floor(L))}else L=(r-(s.slidesPerView-1)*x)/s.slidesPerView,s.roundLengths&&(L=Math.floor(L)),c[a]&&(c[a].style[e.getDirectionLabel("width")]=`${L}px`);c[a]&&(c[a].swiperSlideSize=L),g.push(L),s.centeredSlides?(T=T+L/2+M/2+x,0===M&&0!==a&&(T=T-r/2-x),0===a&&(T=T-r/2-x),Math.abs(T)<.001&&(T=0),s.roundLengths&&(T=Math.floor(T)),C%s.slidesPerGroup==0&&m.push(T),h.push(T)):(s.roundLengths&&(T=Math.floor(T)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&m.push(T),h.push(T),T=T+L+x),e.virtualSize+=L+x,M=L,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+w,n&&l&&("slide"===s.effect||"coverflow"===s.effect)&&(a.style.width=`${e.virtualSize+x}px`),s.setWrapperSize&&(a.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),P&&e.grid.updateWrapperSize(L,m),!s.centeredSlides){const t=[];for(let a=0;a<m.length;a+=1){let i=m[a];s.roundLengths&&(i=Math.floor(i)),m[a]<=e.virtualSize-r&&t.push(i)}m=t,Math.floor(e.virtualSize-r)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-r)}if(o&&s.loop){const t=g[0]+x;if(s.slidesPerGroup>1){const a=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/s.slidesPerGroup),i=t*s.slidesPerGroup;for(let e=0;e<a;e+=1)m.push(m[m.length-1]+i)}for(let a=0;a<e.virtual.slidesBefore+e.virtual.slidesAfter;a+=1)1===s.slidesPerGroup&&m.push(m[m.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===m.length&&(m=[0]),0!==x){const t=e.isHorizontal()&&n?"marginLeft":e.getDirectionLabel("marginRight");c.filter(((e,t)=>!(s.cssMode&&!s.loop)||t!==c.length-1)).forEach((e=>{e.style[t]=`${x}px`}))}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;g.forEach((t=>{e+=t+(x||0)})),e-=x;const t=e-r;m=m.map((e=>e<=0?-v:e>t?t+w:e))}if(s.centerInsufficientSlides){let e=0;g.forEach((t=>{e+=t+(x||0)})),e-=x;const t=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(e+t<r){const s=(r-e-t)/2;m.forEach(((e,t)=>{m[t]=e-s})),h.forEach(((e,t)=>{h[t]=e+s}))}}if(Object.assign(e,{slides:c,snapGrid:m,slidesGrid:h,slidesSizesGrid:g}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){u(a,"--swiper-centered-offset-before",-m[0]+"px"),u(a,"--swiper-centered-offset-after",e.size/2-g[g.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+s))}if(p!==d&&e.emit("slidesLengthChange"),m.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==E&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(o||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,a=e.el.classList.contains(t);p<=s.maxBackfaceHiddenSlides?a||e.el.classList.add(t):a&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let i,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const n=e=>a?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{s.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!a)break;s.push(n(e))}else s.push(n(t.activeIndex));for(i=0;i<s.length;i+=1)if(void 0!==s[i]){const e=s[i].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:a,rtlTranslate:i,snapGrid:r}=t;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();let n=-e;i&&(n=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=s.spaceBetween;"string"==typeof l&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:"string"==typeof l&&(l=parseFloat(l));for(let e=0;e<a.length;e+=1){const o=a[e];let d=o.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(d-=a[0].swiperSlideOffset);const c=(n+(s.centeredSlides?t.minTranslate():0)-d)/(o.swiperSlideSize+l),p=(n-r[0]+(s.centeredSlides?t.minTranslate():0)-d)/(o.swiperSlideSize+l),u=-(n-d),m=u+t.slidesSizesGrid[e],h=u>=0&&u<=t.size-t.slidesSizesGrid[e],f=u>=0&&u<t.size-1||m>1&&m<=t.size||u<=0&&m>=t.size;f&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e)),k(o,f,s.slideVisibleClass),k(o,h,s.slideFullyVisibleClass),o.progress=i?-c:c,o.originalProgress=i?-p:p}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:n,progressLoop:l}=t;const o=r,d=n;if(0===a)i=0,r=!0,n=!0;else{i=(e-t.minTranslate())/a;const s=Math.abs(e-t.minTranslate())<1,l=Math.abs(e-t.maxTranslate())<1;r=s||i<=0,n=l||i>=1,s&&(i=0),l&&(i=1)}if(s.loop){const s=t.getSlideIndexByData(0),a=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[s],r=t.slidesGrid[a],n=t.slidesGrid[t.slidesGrid.length-1],o=Math.abs(e);l=o>=i?(o-i)/n:(o+n-r)/n,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:r,isEnd:n}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!o&&t.emit("reachBeginning toEdge"),n&&!d&&t.emit("reachEnd toEdge"),(o&&!r||d&&!n)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:a,activeIndex:i}=e,r=e.virtual&&s.virtual.enabled,n=e.grid&&s.grid&&s.grid.rows>1,l=e=>f(a,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let o,d,c;if(r)if(s.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),o=l(`[data-swiper-slide-index="${t}"]`)}else o=l(`[data-swiper-slide-index="${i}"]`);else n?(o=t.filter((e=>e.column===i))[0],c=t.filter((e=>e.column===i+1))[0],d=t.filter((e=>e.column===i-1))[0]):o=t[i];o&&(n||(c=function(e,t){const s=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}(o,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!c&&(c=t[0]),d=function(e,t){const s=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}(o,`.${s.slideClass}, swiper-slide`)[0],s.loop&&0===!d&&(d=t[t.length-1]))),t.forEach((e=>{O(e,e===o,s.slideActiveClass),O(e,e===c,s.slideNextClass),O(e,e===d,s.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:i,activeIndex:r,realIndex:n,snapIndex:l}=t;let o,d=e;const c=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===d&&(d=function(e){const{slidesGrid:t,params:s}=e,a=e.rtlTranslate?e.translate:-e.translate;let i;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?a>=t[e]&&a<t[e+1]-(t[e+1]-t[e])/2?i=e:a>=t[e]&&a<t[e+1]&&(i=e+1):a>=t[e]&&(i=e);return s.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(t)),a.indexOf(s)>=0)o=a.indexOf(s);else{const e=Math.min(i.slidesPerGroupSkip,d);o=e+Math.floor((d-e)/i.slidesPerGroup)}if(o>=a.length&&(o=a.length-1),d===r&&!t.params.loop)return void(o!==l&&(t.snapIndex=o,t.emit("snapIndexChange")));if(d===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=c(d));const p=t.grid&&i.grid&&i.grid.rows>1;let u;if(t.virtual&&i.virtual.enabled&&i.loop)u=c(d);else if(p){const e=t.slides.filter((e=>e.column===d))[0];let s=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(s)&&(s=Math.max(t.slides.indexOf(e),0)),u=Math.floor(s/i.grid.rows)}else if(t.slides[d]){const e=t.slides[d].getAttribute("data-swiper-slide-index");u=e?parseInt(e,10):d}else u=d;Object.assign(t,{previousSnapIndex:l,snapIndex:o,previousRealIndex:n,realIndex:u,previousIndex:r,activeIndex:d}),t.initialized&&H(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(n!==u&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,a=s.params;let i=e.closest(`.${a.slideClass}, swiper-slide`);!i&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!i&&e.matches&&e.matches(`.${a.slideClass}, swiper-slide`)&&(i=e)}));let r,n=!1;if(i)for(let e=0;e<s.slides.length;e+=1)if(s.slides[e]===i){n=!0,r=e;break}if(!i||!n)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=i,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=r,a.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}};var N={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:a,wrapperEl:i}=this;if(t.virtualTranslate)return s?-a:a;if(t.cssMode)return a;let r=d(i,e);return r+=this.cssOverflowAdjustment(),s&&(r=-r),r||0},setTranslate:function(e,t){const s=this,{rtlTranslate:a,params:i,wrapperEl:r,progress:n}=s;let l,o=0,d=0;s.isHorizontal()?o=a?-e:e:d=e,i.roundLengths&&(o=Math.floor(o),d=Math.floor(d)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?o:d,i.cssMode?r[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-o:-d:i.virtualTranslate||(s.isHorizontal()?o-=s.cssOverflowAdjustment():d-=s.cssOverflowAdjustment(),r.style.transform=`translate3d(${o}px, ${d}px, 0px)`);const c=s.maxTranslate()-s.minTranslate();l=0===c?0:(e-s.minTranslate())/c,l!==n&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===a&&(a=!0);const r=this,{params:n,wrapperEl:l}=r;if(r.animating&&n.preventInteractionOnTransition)return!1;const o=r.minTranslate(),d=r.maxTranslate();let c;if(c=a&&e>o?o:a&&e<d?d:e,r.updateProgress(c),n.cssMode){const e=r.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-c;else{if(!r.support.smoothScroll)return m({swiper:r,targetPosition:-c,side:e?"left":"top"}),!0;l.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,s&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}};function X(e){let{swiper:t,runCallbacks:s,direction:a,step:i}=e;const{activeIndex:r,previousIndex:n}=t;let l=a;if(l||(l=r>n?"next":r<n?"prev":"reset"),t.emit(`transition${i}`),s&&r!==n){if("reset"===l)return void t.emit(`slideResetTransition${i}`);t.emit(`slideChangeTransition${i}`),"next"===l?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}var Y={slideTo:function(e,t,s,a,i){void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e&&(e=parseInt(e,10));const r=this;let n=e;n<0&&(n=0);const{params:l,snapGrid:o,slidesGrid:d,previousIndex:c,activeIndex:p,rtlTranslate:u,wrapperEl:h,enabled:f}=r;if(!f&&!a&&!i||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const g=Math.min(r.params.slidesPerGroupSkip,n);let v=g+Math.floor((n-g)/r.params.slidesPerGroup);v>=o.length&&(v=o.length-1);const w=-o[v];if(l.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){const t=-Math.floor(100*w),s=Math.floor(100*d[e]),a=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=s&&t<a-(a-s)/2?n=e:t>=s&&t<a&&(n=e+1):t>=s&&(n=e)}if(r.initialized&&n!==p){if(!r.allowSlideNext&&(u?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate()))return!1;if(!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(p||0)!==n)return!1}let b;if(n!==(c||0)&&s&&r.emit("beforeSlideChangeStart"),r.updateProgress(w),b=n>p?"next":n<p?"prev":"reset",u&&-w===r.translate||!u&&w===r.translate)return r.updateActiveIndex(n),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==l.effect&&r.setTranslate(w),"reset"!==b&&(r.transitionStart(s,b),r.transitionEnd(s,b)),!1;if(l.cssMode){const e=r.isHorizontal(),s=u?w:-w;if(0===t){const t=r.virtual&&r.params.virtual.enabled;t&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),t&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{h[e?"scrollLeft":"scrollTop"]=s}))):h[e?"scrollLeft":"scrollTop"]=s,t&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1}))}else{if(!r.support.smoothScroll)return m({swiper:r,targetPosition:s,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}return r.setTransition(t),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),0===t?r.transitionEnd(s,b):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,a){if(void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const i=this;if(i.destroyed)return;void 0===t&&(t=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let n=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)n+=i.virtual.slidesBefore;else{let e;if(r){const t=n*i.params.grid.rows;e=i.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else e=i.getSlideIndexByData(n);const t=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:s}=i.params;let l=i.params.slidesPerView;"auto"===l?l=i.slidesPerViewDynamic():(l=Math.ceil(parseFloat(i.params.slidesPerView,10)),s&&l%2==0&&(l+=1));let o=t-e<l;if(s&&(o=o||e<Math.ceil(l/2)),a&&s&&"auto"!==i.params.slidesPerView&&!r&&(o=!1),o){const a=s?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:a,slideTo:!0,activeSlideIndex:"next"===a?e+1:e-t+1,slideRealIndex:"next"===a?i.realIndex:void 0})}if(r){const e=n*i.params.grid.rows;n=i.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else n=i.getSlideIndexByData(n)}return requestAnimationFrame((()=>{i.slideTo(n,t,s,a)})),i},slideNext:function(e,t,s){void 0===t&&(t=!0);const a=this,{enabled:i,params:r,animating:n}=a;if(!i||a.destroyed)return a;void 0===e&&(e=a.params.speed);let l=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));const o=a.activeIndex<r.slidesPerGroupSkip?1:l,d=a.virtual&&r.virtual.enabled;if(r.loop){if(n&&!d&&r.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&r.cssMode)return requestAnimationFrame((()=>{a.slideTo(a.activeIndex+o,e,t,s)})),!0}return r.rewind&&a.isEnd?a.slideTo(0,e,t,s):a.slideTo(a.activeIndex+o,e,t,s)},slidePrev:function(e,t,s){void 0===t&&(t=!0);const a=this,{params:i,snapGrid:r,slidesGrid:n,rtlTranslate:l,enabled:o,animating:d}=a;if(!o||a.destroyed)return a;void 0===e&&(e=a.params.speed);const c=a.virtual&&i.virtual.enabled;if(i.loop){if(d&&!c&&i.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}function p(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=p(l?a.translate:-a.translate),m=r.map((e=>p(e)));let h=r[m.indexOf(u)-1];if(void 0===h&&i.cssMode){let e;r.forEach(((t,s)=>{u>=t&&(e=s)})),void 0!==e&&(h=r[e>0?e-1:e])}let f=0;if(void 0!==h&&(f=n.indexOf(h),f<0&&(f=a.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(f=f-a.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),i.rewind&&a.isBeginning){const i=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(i,e,t,s)}return i.loop&&0===a.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{a.slideTo(f,e,t,s)})),!0):a.slideTo(f,e,t,s)},slideReset:function(e,t,s){void 0===t&&(t=!0);const a=this;if(!a.destroyed)return void 0===e&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,s)},slideToClosest:function(e,t,s,a){void 0===t&&(t=!0),void 0===a&&(a=.5);const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);let r=i.activeIndex;const n=Math.min(i.params.slidesPerGroupSkip,r),l=n+Math.floor((r-n)/i.params.slidesPerGroup),o=i.rtlTranslate?i.translate:-i.translate;if(o>=i.snapGrid[l]){const e=i.snapGrid[l];o-e>(i.snapGrid[l+1]-e)*a&&(r+=i.params.slidesPerGroup)}else{const e=i.snapGrid[l-1];o-e<=(i.snapGrid[l]-e)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,e,t,s)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:s}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,r=e.clickedIndex;const n=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-a/2||r>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),r=e.getSlideIndex(f(s,`${n}[data-swiper-slide-index="${i}"]`)[0]),l((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-a?(e.loopFix(),r=e.getSlideIndex(f(s,`${n}[data-swiper-slide-index="${i}"]`)[0]),l((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}};var R={loopCreate:function(e){const t=this,{params:s,slidesEl:a}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{f(a,`.${s.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},r=t.grid&&s.grid&&s.grid.rows>1,n=s.slidesPerGroup*(r?s.grid.rows:1),l=t.slides.length%n!=0,o=r&&t.slides.length%s.grid.rows!=0,d=e=>{for(let a=0;a<e;a+=1){const e=t.isElement?v("swiper-slide",[s.slideBlankClass]):v("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(e)}};if(l){if(s.loopAddBlankSlides){d(n-t.slides.length%n),t.recalcSlides(),t.updateSlides()}else g("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(o){if(s.loopAddBlankSlides){d(s.grid.rows-t.slides.length%s.grid.rows),t.recalcSlides(),t.updateSlides()}else g("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:a,setTranslate:i,activeSlideIndex:r,byController:n,byMousewheel:l}=void 0===e?{}:e;const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:p,slidesEl:u,params:m}=o,{centeredSlides:h}=m;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&m.virtual.enabled)return s&&(m.centeredSlides||0!==o.snapIndex?m.centeredSlides&&o.snapIndex<m.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0):o.slideTo(o.virtual.slides.length,0,!1,!0)),o.allowSlidePrev=c,o.allowSlideNext=p,void o.emit("loopFix");let f=m.slidesPerView;"auto"===f?f=o.slidesPerViewDynamic():(f=Math.ceil(parseFloat(m.slidesPerView,10)),h&&f%2==0&&(f+=1));const v=m.slidesPerGroupAuto?f:m.slidesPerGroup;let w=v;w%v!=0&&(w+=v-w%v),w+=m.loopAdditionalSlides,o.loopedSlides=w;const b=o.grid&&m.grid&&m.grid.rows>1;d.length<f+w?g("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&"row"===m.grid.fill&&g("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],E=[];let x=o.activeIndex;void 0===r?r=o.getSlideIndex(d.filter((e=>e.classList.contains(m.slideActiveClass)))[0]):x=r;const S="next"===a||!a,T="prev"===a||!a;let M=0,C=0;const P=b?Math.ceil(d.length/m.grid.rows):d.length,L=(b?d[r].column:r)+(h&&void 0===i?-f/2+.5:0);if(L<w){M=Math.max(w-L,v);for(let e=0;e<w-L;e+=1){const t=e-Math.floor(e/P)*P;if(b){const e=P-t-1;for(let t=d.length-1;t>=0;t-=1)d[t].column===e&&y.push(t)}else y.push(P-t-1)}}else if(L+f>P-w){C=Math.max(L-(P-2*w),v);for(let e=0;e<C;e+=1){const t=e-Math.floor(e/P)*P;b?d.forEach(((e,s)=>{e.column===t&&E.push(s)})):E.push(t)}}if(o.__preventObserver__=!0,requestAnimationFrame((()=>{o.__preventObserver__=!1})),T&&y.forEach((e=>{d[e].swiperLoopMoveDOM=!0,u.prepend(d[e]),d[e].swiperLoopMoveDOM=!1})),S&&E.forEach((e=>{d[e].swiperLoopMoveDOM=!0,u.append(d[e]),d[e].swiperLoopMoveDOM=!1})),o.recalcSlides(),"auto"===m.slidesPerView?o.updateSlides():b&&(y.length>0&&T||E.length>0&&S)&&o.slides.forEach(((e,t)=>{o.grid.updateSlide(t,e,o.slides)})),m.watchSlidesProgress&&o.updateSlidesOffset(),s)if(y.length>0&&T){if(void 0===t){const e=o.slidesGrid[x],t=o.slidesGrid[x+M]-e;l?o.setTranslate(o.translate-t):(o.slideTo(x+Math.ceil(M),0,!1,!0),i&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-t,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-t))}else if(i){const e=b?y.length/m.grid.rows:y.length;o.slideTo(o.activeIndex+e,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(E.length>0&&S)if(void 0===t){const e=o.slidesGrid[x],t=o.slidesGrid[x-C]-e;l?o.setTranslate(o.translate-t):(o.slideTo(x-C,0,!1,!0),i&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-t,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-t))}else{const e=b?E.length/m.grid.rows:E.length;o.slideTo(o.activeIndex-e,0,!1,!0)}if(o.allowSlidePrev=c,o.allowSlideNext=p,o.controller&&o.controller.control&&!n){const e={slideRealIndex:t,direction:a,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===m.slidesPerView&&s})})):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...e,slideTo:o.controller.control.params.slidesPerView===m.slidesPerView&&s})}o.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;a[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),a.forEach((e=>{s.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function F(e,t,s){const a=r(),{params:i}=e,n=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return!n||!(s<=l||s>=a.innerWidth-l)||"prevent"===n&&(t.preventDefault(),!0)}function V(e){const t=this,s=a();let i=e;i.originalEvent&&(i=i.originalEvent);const n=t.touchEventsData;if("pointerdown"===i.type){if(null!==n.pointerId&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(n.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void F(t,i,i.targetTouches[0].pageX);const{params:l,touches:d,enabled:c}=t;if(!c)return;if(!l.simulateTouch&&"mouse"===i.pointerType)return;if(t.animating&&l.preventInteractionOnTransition)return;!t.animating&&l.cssMode&&l.loop&&t.loopFix();let p=i.target;if("wrapper"===l.touchEventsTarget&&!function(e,t){const s=t.contains(e);if(!s&&t instanceof HTMLSlotElement)return[...t.assignedElements()].includes(e);return s}(p,t.wrapperEl))return;if("which"in i&&3===i.which)return;if("button"in i&&i.button>0)return;if(n.isTouched&&n.isMoved)return;const u=!!l.noSwipingClass&&""!==l.noSwipingClass,m=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&m&&(p=m[0]);const h=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,f=!(!i.target||!i.target.shadowRoot);if(l.noSwiping&&(f?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===a()||s===r())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(e);return i||s.getRootNode?i||t(s.getRootNode().host):null}(t)}(h,p):p.closest(h)))return void(t.allowClick=!0);if(l.swipeHandler&&!p.closest(l.swipeHandler))return;d.currentX=i.pageX,d.currentY=i.pageY;const g=d.currentX,v=d.currentY;if(!F(t,i,g))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=g,d.startY=v,n.touchStartTime=o(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,l.threshold>0&&(n.allowThresholdMove=!1);let w=!0;p.matches(n.focusableElements)&&(w=!1,"SELECT"===p.nodeName&&(n.isTouched=!1)),s.activeElement&&s.activeElement.matches(n.focusableElements)&&s.activeElement!==p&&s.activeElement.blur();const b=w&&t.allowTouchMove&&l.touchStartPreventDefault;!l.touchStartForcePreventDefault&&!b||p.isContentEditable||i.preventDefault(),l.freeMode&&l.freeMode.enabled&&t.freeMode&&t.animating&&!l.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function q(e){const t=a(),s=this,i=s.touchEventsData,{params:r,touches:n,rtlTranslate:l,enabled:d}=s;if(!d)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let c,p=e;if(p.originalEvent&&(p=p.originalEvent),"pointermove"===p.type){if(null!==i.touchId)return;if(p.pointerId!==i.pointerId)return}if("touchmove"===p.type){if(c=[...p.changedTouches].filter((e=>e.identifier===i.touchId))[0],!c||c.identifier!==i.touchId)return}else c=p;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",p));const u=c.pageX,m=c.pageY;if(p.preventedByNestedSwiper)return n.startX=u,void(n.startY=m);if(!s.allowTouchMove)return p.target.matches(i.focusableElements)||(s.allowClick=!1),void(i.isTouched&&(Object.assign(n,{startX:u,startY:m,currentX:u,currentY:m}),i.touchStartTime=o()));if(r.touchReleaseOnEdges&&!r.loop)if(s.isVertical()){if(m<n.startY&&s.translate<=s.maxTranslate()||m>n.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<n.startX&&s.translate<=s.maxTranslate()||u>n.startX&&s.translate>=s.minTranslate())return;if(t.activeElement&&p.target===t.activeElement&&p.target.matches(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);i.allowTouchCallbacks&&s.emit("touchMove",p),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=u,n.currentY=m;const h=n.currentX-n.startX,f=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(h**2+f**2)<s.params.threshold)return;if(void 0===i.isScrolling){let e;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:h*h+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,i.isScrolling=s.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",p),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling||"touchmove"===p.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&p.cancelable&&p.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&p.stopPropagation();let g=s.isHorizontal()?h:f,v=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;r.oneWayMovement&&(g=Math.abs(g)*(l?1:-1),v=Math.abs(v)*(l?1:-1)),n.diff=g,g*=r.touchRatio,l&&(g=-g,v=-v);const w=s.touchesDirection;s.swipeDirection=g>0?"prev":"next",s.touchesDirection=v>0?"prev":"next";const b=s.params.loop&&!r.cssMode,y="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!i.isMoved){if(b&&y&&s.loopFix({direction:s.swipeDirection}),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!r.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",p)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&w!==s.touchesDirection&&b&&y&&Math.abs(g)>=1)return Object.assign(n,{startX:u,startY:m,currentX:u,currentY:m,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);s.emit("sliderMove",p),i.isMoved=!0,i.currentTranslate=g+i.startTranslate;let E=!0,x=r.resistanceRatio;if(r.touchReleaseOnEdges&&(x=0),g>0?(b&&y&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-("auto"!==r.slidesPerView&&s.slides.length-r.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>s.minTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+g)**x))):g<0&&(b&&y&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+("auto"!==r.slidesPerView&&s.slides.length-r.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===r.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<s.maxTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-i.startTranslate-g)**x))),E&&(p.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(g)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function _(e){const t=this,s=t.touchEventsData;let a,i=e;i.originalEvent&&(i=i.originalEvent);if("touchend"===i.type||"touchcancel"===i.type){if(a=[...i.changedTouches].filter((e=>e.identifier===s.touchId))[0],!a||a.identifier!==s.touchId)return}else{if(null!==s.touchId)return;if(i.pointerId!==s.pointerId)return;a=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)){if(!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return}s.pointerId=null,s.touchId=null;const{params:r,touches:n,rtlTranslate:d,slidesGrid:c,enabled:p}=t;if(!p)return;if(!r.simulateTouch&&"mouse"===i.pointerType)return;if(s.allowTouchCallbacks&&t.emit("touchEnd",i),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&r.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);r.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=o(),m=u-s.touchStartTime;if(t.allowClick){const e=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(e&&e[0]||i.target,e),t.emit("tap click",i),m<300&&u-s.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(s.lastClickTime=o(),l((()=>{t.destroyed||(t.allowClick=!0)})),!s.isTouched||!s.isMoved||!t.swipeDirection||0===n.diff&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let h;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,h=r.followFinger?d?t.translate:-t.translate:-s.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const f=h>=-t.maxTranslate()&&!t.params.loop;let g=0,v=t.slidesSizesGrid[0];for(let e=0;e<c.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==c[e+t]?(f||h>=c[e]&&h<c[e+t])&&(g=e,v=c[e+t]-c[e]):(f||h>=c[e])&&(g=e,v=c[c.length-1]-c[c.length-2])}let w=null,b=null;r.rewind&&(t.isBeginning?b=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(w=0));const y=(h-c[g])/v,E=g<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(m>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?w:g+E):t.slideTo(g)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(g+E):null!==b&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(b):t.slideTo(g))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(g+E):t.slideTo(g):("next"===t.swipeDirection&&t.slideTo(null!==w?w:g+E),"prev"===t.swipeDirection&&t.slideTo(null!==b?b:g))}}function W(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=e,n=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=n&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||l?e.params.loop&&!n?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=a,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function j(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function U(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();i=0===r?0:(e.translate-e.minTranslate())/r,i!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function K(e){const t=this;D(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Z(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Q=(e,t)=>{const s=a(),{params:i,el:r,wrapperEl:n,device:l}=e,o=!!i.nested,d="on"===t?"addEventListener":"removeEventListener",c=t;r&&"string"!=typeof r&&(s[d]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),r[d]("touchstart",e.onTouchStart,{passive:!1}),r[d]("pointerdown",e.onTouchStart,{passive:!1}),s[d]("touchmove",e.onTouchMove,{passive:!1,capture:o}),s[d]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[d]("touchend",e.onTouchEnd,{passive:!0}),s[d]("pointerup",e.onTouchEnd,{passive:!0}),s[d]("pointercancel",e.onTouchEnd,{passive:!0}),s[d]("touchcancel",e.onTouchEnd,{passive:!0}),s[d]("pointerout",e.onTouchEnd,{passive:!0}),s[d]("pointerleave",e.onTouchEnd,{passive:!0}),s[d]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[d]("click",e.onClick,!0),i.cssMode&&n[d]("scroll",e.onScroll),i.updateOnWindowResize?e[c](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",W,!0):e[c]("observerUpdate",W,!0),r[d]("load",e.onLoad,{capture:!0}))};const J=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ee={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function te(e,t){return function(s){void 0===s&&(s={});const a=Object.keys(s)[0],i=s[a];"object"==typeof i&&null!==i?(!0===e[a]&&(e[a]={enabled:!0}),"navigation"===a&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),a in e&&"enabled"in i?("object"!=typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),p(t,s)):p(t,s)):p(t,s)}}const se={eventsEmitter:$,update:B,translate:N,transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),X({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:a}=s;s.animating=!1,a.cssMode||(s.setTransition(0),X({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:Y,loop:R,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=V.bind(e),e.onTouchMove=q.bind(e),e.onTouchEnd=_.bind(e),e.onDocumentTouchStart=Z.bind(e),t.cssMode&&(e.onScroll=U.bind(e)),e.onClick=j.bind(e),e.onLoad=K.bind(e),Q(e,"on")},detachEvents:function(){Q(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:a,el:i}=e,r=a.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const n=e.getBreakpoint(r,e.params.breakpointsBase,e.el);if(!n||e.currentBreakpoint===n)return;const l=(n in r?r[n]:void 0)||e.originalParams,o=J(e,a),d=J(e,l),c=e.params.grabCursor,u=l.grabCursor,m=a.enabled;o&&!d?(i.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!o&&d&&(i.classList.add(`${a.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===a.grid.fill)&&i.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),c&&!u?e.unsetGrabCursor():!c&&u&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===l[t])return;const s=a[t]&&a[t].enabled,i=l[t]&&l[t].enabled;s&&!i&&e[t].disable(),!s&&i&&e[t].enable()}));const h=l.direction&&l.direction!==a.direction,f=a.loop&&(l.slidesPerView!==a.slidesPerView||h),g=a.loop;h&&s&&e.changeDirection(),p(e.params,l);const v=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),m&&!v?e.disable():!m&&v&&e.enable(),e.currentBreakpoint=n,e.emit("_beforeBreakpoint",l),s&&(f?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!g&&w?(e.loopCreate(t),e.updateSlides()):g&&!w&&e.loopDestroy()),e.emit("breakpoint",l)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let a=!1;const i=r(),n="window"===t?i.innerHeight:s.clientHeight,l=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));l.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<l.length;e+=1){const{point:r,value:n}=l[e];"window"===t?i.matchMedia(`(min-width: ${n}px)`).matches&&(a=r):n<=s.clientWidth&&(a=r)}return a||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:a}=s;if(a){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:a,el:i,device:r}=e,n=function(e,t){const s=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((a=>{e[a]&&s.push(t+a)})):"string"==typeof e&&s.push(t+e)})),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...n),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},ae={};class ie{constructor(){let e,t;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?t=i[0]:[e,t]=i,t||(t={}),t=p({},t),e&&!t.el&&(t.el=e);const n=a();if(t.el&&"string"==typeof t.el&&n.querySelectorAll(t.el).length>1){const e=[];return n.querySelectorAll(t.el).forEach((s=>{const a=p({},t,{el:s});e.push(new ie(a))})),e}const l=this;l.__swiper__=!0,l.support=I(),l.device=z({userAgent:t.userAgent}),l.browser=A(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const o={};l.modules.forEach((e=>{e({params:t,swiper:l,extendParams:te(t,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})}));const d=p({},ee,o);return l.params=p({},d,ae,t),l.originalParams=p({},l.params),l.passedParams=p({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach((e=>{l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===l.params.direction,isVertical:()=>"vertical"===l.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,a=y(f(t,`.${s.slideClass}, swiper-slide`)[0]);return y(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=f(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const a=s.minTranslate(),i=(s.maxTranslate()-a)*e+a;s.translateTo(i,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((s=>{const a=e.getSlideClasses(s);t.push({slideEl:s,classNames:a}),e.emit("_slideClass",s,a)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:a,slidesGrid:i,slidesSizesGrid:r,size:n,activeIndex:l}=this;let o=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=a[l]?Math.ceil(a[l].swiperSlideSize):0;for(let s=l+1;s<a.length;s+=1)a[s]&&!e&&(t+=Math.ceil(a[s].swiperSlideSize),o+=1,t>n&&(e=!0));for(let s=l-1;s>=0;s-=1)a[s]&&!e&&(t+=a[s].swiperSlideSize,o+=1,t>n&&(e=!0))}else if("current"===e)for(let e=l+1;e<a.length;e+=1){(t?i[e]+r[e]-i[l]<n:i[e]-i[l]<n)&&(o+=1)}else for(let e=l-1;e>=0;e-=1){i[l]-i[e]<n&&(o+=1)}return o}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&D(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)a(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||a()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,a=s.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${a}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(a())}return f(s,a())[0]})();return!i&&t.params.createElements&&(i=v("div",t.params.wrapperClass),s.append(i),f(s,`.${t.params.slideClass}`).forEach((e=>{i.append(e)}))),Object.assign(t,{el:s,wrapperEl:i,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:i,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===b(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===b(s,"direction")),wrongRTL:"-webkit-box"===b(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach((e=>{e.complete?D(t,e):e.addEventListener("load",(e=>{D(t,e.target)}))})),H(t),t.initialized=!0,H(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:a,el:i,wrapperEl:r,slides:n}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),i&&"string"!=typeof i&&i.removeAttribute("style"),r&&r.removeAttribute("style"),n&&n.length&&n.forEach((e=>{e.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((e=>{s.off(e)})),!1!==e&&(s.el&&"string"!=typeof s.el&&(s.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(s)),s.destroyed=!0),null}static extendDefaults(e){p(ae,e)}static get extendedDefaults(){return ae}static get defaults(){return ee}static installModule(e){ie.prototype.__modules__||(ie.prototype.__modules__=[]);const t=ie.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>ie.installModule(e))),ie):(ie.installModule(e),ie)}}function re(e,t,s,a){return e.params.createElements&&Object.keys(a).forEach((i=>{if(!s[i]&&!0===s.auto){let r=f(e.el,`.${a[i]}`)[0];r||(r=v("div",a[i]),r.className=a[i],e.el.append(r)),s[i]=r,t[i]=r}})),s}function ne(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function le(e){const t=this,{params:s,slidesEl:a}=t;s.loop&&t.loopDestroy();const i=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,a.append(t.children[0]),t.innerHTML=""}else a.append(e)};if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&i(e[t]);else i(e);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update()}function oe(e){const t=this,{params:s,activeIndex:a,slidesEl:i}=t;s.loop&&t.loopDestroy();let r=a+1;const n=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,i.prepend(t.children[0]),t.innerHTML=""}else i.prepend(e)};if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&n(e[t]);r=a+e.length}else n(e);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update(),t.slideTo(r,0,!1)}function de(e,t){const s=this,{params:a,activeIndex:i,slidesEl:r}=s;let n=i;a.loop&&(n-=s.loopedSlides,s.loopDestroy(),s.recalcSlides());const l=s.slides.length;if(e<=0)return void s.prependSlide(t);if(e>=l)return void s.appendSlide(t);let o=n>e?n+1:n;const d=[];for(let t=l-1;t>=e;t-=1){const e=s.slides[t];e.remove(),d.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&r.append(t[e]);o=n>e?n+t.length:n}else r.append(t);for(let e=0;e<d.length;e+=1)r.append(d[e]);s.recalcSlides(),a.loop&&s.loopCreate(),a.observer&&!s.isElement||s.update(),a.loop?s.slideTo(o+s.loopedSlides,0,!1):s.slideTo(o,0,!1)}function ce(e){const t=this,{params:s,activeIndex:a}=t;let i=a;s.loop&&(i-=t.loopedSlides,t.loopDestroy());let r,n=i;if("object"==typeof e&&"length"in e){for(let s=0;s<e.length;s+=1)r=e[s],t.slides[r]&&t.slides[r].remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides[r].remove(),r<n&&(n-=1),n=Math.max(n,0);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update(),s.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)}function pe(){const e=this,t=[];for(let s=0;s<e.slides.length;s+=1)t.push(s);e.removeSlide(t)}function ue(e){const{effect:t,swiper:s,on:a,setTranslate:i,setTransition:r,overwriteParams:n,perspective:l,recreateShadows:o,getEffectParams:d}=e;let c;a("beforeInit",(()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),l&&l()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=n?n():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate",(()=>{s.params.effect===t&&i()})),a("setTransition",((e,a)=>{s.params.effect===t&&r(a)})),a("transitionEnd",(()=>{if(s.params.effect===t&&o){if(!d||!d().slideShadows)return;s.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),o()}})),a("virtualUpdate",(()=>{s.params.effect===t&&(s.slides.length||(c=!0),requestAnimationFrame((()=>{c&&s.slides&&s.slides.length&&(i(),c=!1)})))}))}function me(e,t){const s=h(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function he(e){let{swiper:t,duration:s,transformElements:a,allSlides:i}=e;const{activeIndex:r}=t;if(t.params.virtualTranslate&&0!==s){let e,s=!1;e=i?a:a.filter((e=>{const s=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.filter((t=>t.shadowRoot&&t.shadowRoot===e.parentNode))[0];return e.parentElement})(e):e;return t.getSlideIndex(s)===r})),e.forEach((e=>{x(e,(()=>{if(s)return;if(!t||t.destroyed)return;s=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function fe(e,t,s){const a=`swiper-slide-shadow${s?`-${s}`:""}${e?` swiper-slide-shadow-${e}`:""}`,i=h(t);let r=i.querySelector(`.${a.split(" ").join(".")}`);return r||(r=v("div",a.split(" ")),i.append(r)),r}Object.keys(se).forEach((e=>{Object.keys(se[e]).forEach((t=>{ie.prototype[t]=se[e][t]}))})),ie.use([function(e){let{swiper:t,on:s,emit:a}=e;const i=r();let n=null,l=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(a("beforeResize"),a("resize"))},d=()=>{t&&!t.destroyed&&t.initialized&&a("orientationchange")};s("init",(()=>{t.params.resizeObserver&&void 0!==i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver((e=>{l=i.requestAnimationFrame((()=>{const{width:s,height:a}=t;let i=s,r=a;e.forEach((e=>{let{contentBoxSize:s,contentRect:a,target:n}=e;n&&n!==t.el||(i=a?a.width:(s[0]||s).inlineSize,r=a?a.height:(s[0]||s).blockSize)})),i===s&&r===a||o()}))})),n.observe(t.el)):(i.addEventListener("resize",o),i.addEventListener("orientationchange",d))})),s("destroy",(()=>{l&&i.cancelAnimationFrame(l),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",d)}))},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const n=[],l=r(),o=function(e,s){void 0===s&&(s={});const a=new(l.MutationObserver||l.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void i("observerUpdate",e[0]);const s=function(){i("observerUpdate",e[0])};l.requestAnimationFrame?l.requestAnimationFrame(s):l.setTimeout(s,0)}));a.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:t.isElement||(void 0===s.childList||s).childList,characterData:void 0===s.characterData||s.characterData}),n.push(a)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=E(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}})),a("destroy",(()=>{n.forEach((e=>{e.disconnect()})),n.splice(0,n.length)}))}]);const ge=[function(e){let t,{swiper:s,extendParams:i,on:r,emit:n}=e;i({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const l=a();s.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const o=l.createElement("div");function d(e,t){const a=s.params.virtual;if(a.cache&&s.virtual.cache[t])return s.virtual.cache[t];let i;return a.renderSlide?(i=a.renderSlide.call(s,e,t),"string"==typeof i&&(o.innerHTML=i,i=o.children[0])):i=s.isElement?v("swiper-slide"):v("div",s.params.slideClass),i.setAttribute("data-swiper-slide-index",t),a.renderSlide||(i.innerHTML=e),a.cache&&(s.virtual.cache[t]=i),i}function c(e,t){const{slidesPerView:a,slidesPerGroup:i,centeredSlides:r,loop:l,initialSlide:o}=s.params;if(t&&!l&&o>0)return;const{addSlidesBefore:c,addSlidesAfter:p}=s.params.virtual,{from:u,to:m,slides:h,slidesGrid:g,offset:v}=s.virtual;s.params.cssMode||s.updateActiveIndex();const w=s.activeIndex||0;let b,y,E;b=s.rtlTranslate?"right":s.isHorizontal()?"left":"top",r?(y=Math.floor(a/2)+i+p,E=Math.floor(a/2)+i+c):(y=a+(i-1)+p,E=(l?a:i)+c);let x=w-E,S=w+y;l||(x=Math.max(x,0),S=Math.min(S,h.length-1));let T=(s.slidesGrid[x]||0)-(s.slidesGrid[0]||0);function M(){s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),n("virtualUpdate")}if(l&&w>=E?(x-=E,r||(T+=s.slidesGrid[0])):l&&w<E&&(x=-E,r&&(T+=s.slidesGrid[0])),Object.assign(s.virtual,{from:x,to:S,offset:T,slidesGrid:s.slidesGrid,slidesBefore:E,slidesAfter:y}),u===x&&m===S&&!e)return s.slidesGrid!==g&&T!==v&&s.slides.forEach((e=>{e.style[b]=T-Math.abs(s.cssOverflowAdjustment())+"px"})),s.updateProgress(),void n("virtualUpdate");if(s.params.virtual.renderExternal)return s.params.virtual.renderExternal.call(s,{offset:T,from:x,to:S,slides:function(){const e=[];for(let t=x;t<=S;t+=1)e.push(h[t]);return e}()}),void(s.params.virtual.renderExternalUpdate?M():n("virtualUpdate"));const C=[],P=[],L=e=>{let t=e;return e<0?t=h.length+e:t>=h.length&&(t-=h.length),t};if(e)s.slides.filter((e=>e.matches(`.${s.params.slideClass}, swiper-slide`))).forEach((e=>{e.remove()}));else for(let e=u;e<=m;e+=1)if(e<x||e>S){const t=L(e);s.slides.filter((e=>e.matches(`.${s.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`))).forEach((e=>{e.remove()}))}const I=l?-h.length:0,z=l?2*h.length:h.length;for(let t=I;t<z;t+=1)if(t>=x&&t<=S){const s=L(t);void 0===m||e?P.push(s):(t>m&&P.push(s),t<u&&C.push(s))}if(P.forEach((e=>{s.slidesEl.append(d(h[e],e))})),l)for(let e=C.length-1;e>=0;e-=1){const t=C[e];s.slidesEl.prepend(d(h[t],t))}else C.sort(((e,t)=>t-e)),C.forEach((e=>{s.slidesEl.prepend(d(h[e],e))}));f(s.slidesEl,".swiper-slide, swiper-slide").forEach((e=>{e.style[b]=T-Math.abs(s.cssOverflowAdjustment())+"px"})),M()}r("beforeInit",(()=>{if(!s.params.virtual.enabled)return;let e;if(void 0===s.passedParams.virtual.slides){const t=[...s.slidesEl.children].filter((e=>e.matches(`.${s.params.slideClass}, swiper-slide`)));t&&t.length&&(s.virtual.slides=[...t],e=!0,t.forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t),s.virtual.cache[t]=e,e.remove()})))}e||(s.virtual.slides=s.params.virtual.slides),s.classNames.push(`${s.params.containerModifierClass}virtual`),s.params.watchSlidesProgress=!0,s.originalParams.watchSlidesProgress=!0,c(!1,!0)})),r("setTranslate",(()=>{s.params.virtual.enabled&&(s.params.cssMode&&!s._immediateVirtual?(clearTimeout(t),t=setTimeout((()=>{c()}),100)):c())})),r("init update resize",(()=>{s.params.virtual.enabled&&s.params.cssMode&&u(s.wrapperEl,"--swiper-virtual-size",`${s.virtualSize}px`)})),Object.assign(s.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&s.virtual.slides.push(e[t]);else s.virtual.slides.push(e);c(!0)},prependSlide:function(e){const t=s.activeIndex;let a=t+1,i=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&s.virtual.slides.unshift(e[t]);a=t+e.length,i=e.length}else s.virtual.slides.unshift(e);if(s.params.virtual.cache){const e=s.virtual.cache,t={};Object.keys(e).forEach((s=>{const a=e[s],r=a.getAttribute("data-swiper-slide-index");r&&a.setAttribute("data-swiper-slide-index",parseInt(r,10)+i),t[parseInt(s,10)+i]=a})),s.virtual.cache=t}c(!0),s.slideTo(a,0)},removeSlide:function(e){if(null==e)return;let t=s.activeIndex;if(Array.isArray(e))for(let a=e.length-1;a>=0;a-=1)s.params.virtual.cache&&(delete s.virtual.cache[e[a]],Object.keys(s.virtual.cache).forEach((t=>{t>e&&(s.virtual.cache[t-1]=s.virtual.cache[t],s.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete s.virtual.cache[t])}))),s.virtual.slides.splice(e[a],1),e[a]<t&&(t-=1),t=Math.max(t,0);else s.params.virtual.cache&&(delete s.virtual.cache[e],Object.keys(s.virtual.cache).forEach((t=>{t>e&&(s.virtual.cache[t-1]=s.virtual.cache[t],s.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete s.virtual.cache[t])}))),s.virtual.slides.splice(e,1),e<t&&(t-=1),t=Math.max(t,0);c(!0),s.slideTo(t,0)},removeAllSlides:function(){s.virtual.slides=[],s.params.virtual.cache&&(s.virtual.cache={}),c(!0),s.slideTo(0,0)},update:c})},function(e){let{swiper:t,extendParams:s,on:i,emit:n}=e;const l=a(),o=r();function d(e){if(!t.enabled)return;const{rtlTranslate:s}=t;let a=e;a.originalEvent&&(a=a.originalEvent);const i=a.keyCode||a.charCode,r=t.params.keyboard.pageUpDown,d=r&&33===i,c=r&&34===i,p=37===i,u=39===i,m=38===i,h=40===i;if(!t.allowSlideNext&&(t.isHorizontal()&&u||t.isVertical()&&h||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&p||t.isVertical()&&m||d))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||l.activeElement&&l.activeElement.nodeName&&("input"===l.activeElement.nodeName.toLowerCase()||"textarea"===l.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(d||c||p||u||m||h)){let e=!1;if(E(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===E(t.el,`.${t.params.slideActiveClass}`).length)return;const a=t.el,i=a.clientWidth,r=a.clientHeight,n=o.innerWidth,l=o.innerHeight,d=w(a);s&&(d.left-=a.scrollLeft);const c=[[d.left,d.top],[d.left+i,d.top],[d.left,d.top+r],[d.left+i,d.top+r]];for(let t=0;t<c.length;t+=1){const s=c[t];if(s[0]>=0&&s[0]<=n&&s[1]>=0&&s[1]<=l){if(0===s[0]&&0===s[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((d||c||p||u)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((c||u)&&!s||(d||p)&&s)&&t.slideNext(),((d||p)&&!s||(c||u)&&s)&&t.slidePrev()):((d||c||m||h)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(c||h)&&t.slideNext(),(d||m)&&t.slidePrev()),n("keyPress",i)}}function c(){t.keyboard.enabled||(l.addEventListener("keydown",d),t.keyboard.enabled=!0)}function p(){t.keyboard.enabled&&(l.removeEventListener("keydown",d),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},s({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",(()=>{t.params.keyboard.enabled&&c()})),i("destroy",(()=>{t.keyboard.enabled&&p()})),Object.assign(t.keyboard,{enable:c,disable:p})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const n=r();let d;s({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let c,p=o();const u=[];function m(){t.enabled&&(t.mouseEntered=!0)}function h(){t.enabled&&(t.mouseEntered=!1)}function f(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&o()-p<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&o()-p<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),i("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),i("scroll",e.raw)),p=(new n.Date).getTime(),!1)))}function g(e){let s=e,a=!0;if(!t.enabled)return;if(e.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const r=t.params.mousewheel;t.params.cssMode&&s.preventDefault();let n=t.el;"container"!==t.params.mousewheel.eventsTarget&&(n=document.querySelector(t.params.mousewheel.eventsTarget));const p=n&&n.contains(s.target);if(!t.mouseEntered&&!p&&!r.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let m=0;const h=t.rtlTranslate?-1:1,g=function(e){let t=0,s=0,a=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),a=10*t,i=10*s,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=i,i=0),(a||i)&&e.deltaMode&&(1===e.deltaMode?(a*=40,i*=40):(a*=800,i*=800)),a&&!t&&(t=a<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:a,pixelY:i}}(s);if(r.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;m=-g.pixelX*h}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;m=-g.pixelY}else m=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*h:-g.pixelY;if(0===m)return!0;r.invert&&(m=-m);let v=t.getTranslate()+m*r.sensitivity;if(v>=t.minTranslate()&&(v=t.minTranslate()),v<=t.maxTranslate()&&(v=t.maxTranslate()),a=!!t.params.loop||!(v===t.minTranslate()||v===t.maxTranslate()),a&&t.params.nested&&s.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:o(),delta:Math.abs(m),direction:Math.sign(m)},a=c&&e.time<c.time+500&&e.delta<=c.delta&&e.direction===c.direction;if(!a){c=void 0;let n=t.getTranslate()+m*r.sensitivity;const o=t.isBeginning,p=t.isEnd;if(n>=t.minTranslate()&&(n=t.minTranslate()),n<=t.maxTranslate()&&(n=t.maxTranslate()),t.setTransition(0),t.setTranslate(n),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!o&&t.isBeginning||!p&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(d),d=void 0,u.length>=15&&u.shift();const s=u.length?u[u.length-1]:void 0,a=u[0];if(u.push(e),s&&(e.delta>s.delta||e.direction!==s.direction))u.splice(0);else if(u.length>=15&&e.time-a.time<500&&a.delta-e.delta>=1&&e.delta<=6){const s=m>0?.8:.2;c=e,u.splice(0),d=l((()=>{!t.destroyed&&t.params&&t.slideToClosest(t.params.speed,!0,void 0,s)}),0)}d||(d=l((()=>{if(t.destroyed||!t.params)return;c=e,u.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(a||i("scroll",s),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),r.releaseOnEdges&&(n===t.minTranslate()||n===t.maxTranslate()))return!0}}else{const s={time:o(),delta:Math.abs(m),direction:Math.sign(m),raw:e};u.length>=2&&u.shift();const a=u.length?u[u.length-1]:void 0;if(u.push(s),a?(s.direction!==a.direction||s.delta>a.delta||s.time>a.time+150)&&f(s):f(s),function(e){const s=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&s.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&s.releaseOnEdges)return!0;return!1}(s))return!0}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function v(e){let s=t.el;"container"!==t.params.mousewheel.eventsTarget&&(s=document.querySelector(t.params.mousewheel.eventsTarget)),s[e]("mouseenter",m),s[e]("mouseleave",h),s[e]("wheel",g)}function w(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",g),!0):!t.mousewheel.enabled&&(v("addEventListener"),t.mousewheel.enabled=!0,!0)}function b(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,g),!0):!!t.mousewheel.enabled&&(v("removeEventListener"),t.mousewheel.enabled=!1,!0)}a("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&b(),t.params.mousewheel.enabled&&w()})),a("destroy",(()=>{t.params.cssMode&&w(),t.mousewheel.enabled&&b()})),Object.assign(t.mousewheel,{enable:w,disable:b})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;function r(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s&&s.length>1&&1===t.el.querySelectorAll(e).length?s=t.el.querySelector(e):s&&1===s.length&&(s=s[0])),e&&!s?e:s)}function n(e,s){const a=t.params.navigation;(e=T(e)).forEach((e=>{e&&(e.classList[s?"add":"remove"](...a.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](a.lockClass))}))}function l(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return n(s,!1),void n(e,!1);n(s,t.isBeginning&&!t.params.rewind),n(e,t.isEnd&&!t.params.rewind)}function o(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function c(){const e=t.params.navigation;if(t.params.navigation=re(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=r(e.nextEl),a=r(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:a}),s=T(s),a=T(a);const i=(s,a)=>{s&&s.addEventListener("click","next"===a?d:o),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach((e=>i(e,"next"))),a.forEach((e=>i(e,"prev")))}function p(){let{nextEl:e,prevEl:s}=t.navigation;e=T(e),s=T(s);const a=(e,s)=>{e.removeEventListener("click","next"===s?d:o),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>a(e,"next"))),s.forEach((e=>a(e,"prev")))}s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},a("init",(()=>{!1===t.params.navigation.enabled?u():(c(),l())})),a("toEdge fromEdge lock unlock",(()=>{l()})),a("destroy",(()=>{p()})),a("enable disable",(()=>{let{nextEl:e,prevEl:s}=t.navigation;e=T(e),s=T(s),t.enabled?l():[...e,...s].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),a("click",((e,s)=>{let{nextEl:a,prevEl:r}=t.navigation;a=T(a),r=T(r);const n=s.target;let l=r.includes(n)||a.includes(n);if(t.isElement&&!l){const e=s.path||s.composedPath&&s.composedPath();e&&(l=e.find((e=>a.includes(e)||r.includes(e))))}if(t.params.navigation.hideOnClick&&!l){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===n||t.pagination.el.contains(n)))return;let e;a.length?e=a[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...a,...r].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const u=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),c(),l()},disable:u,update:l,init:c,destroy:p})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const r="swiper-pagination";let n;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let l=0;function o(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function d(e,s){const{bulletActiveClass:a}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${a}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${a}-${s}-${s}`))}function c(e){const s=e.target.closest(ne(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const a=y(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;const e=(i=t.realIndex,r=a,n=t.slides.length,(r%=n)==1+(i%=n)?"next":r===i-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(a)}else t.slideTo(a);var i,r,n}function p(){const e=t.rtl,s=t.params.pagination;if(o())return;let a,r,c=t.pagination.el;c=T(c);const p=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,u=t.params.loop?Math.ceil(p/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(r=t.previousRealIndex||0,a=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(a=t.snapIndex,r=t.previousSnapIndex):(r=t.previousIndex||0,a=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const i=t.pagination.bullets;let o,p,u;if(s.dynamicBullets&&(n=S(i[0],t.isHorizontal()?"width":"height",!0),c.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=n*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==r&&(l+=a-(r||0),l>s.dynamicMainBullets-1?l=s.dynamicMainBullets-1:l<0&&(l=0)),o=Math.max(a-l,0),p=o+(Math.min(i.length,s.dynamicMainBullets)-1),u=(p+o)/2),i.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),c.length>1)i.forEach((e=>{const i=y(e);i===a?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(i>=o&&i<=p&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),i===o&&d(e,"prev"),i===p&&d(e,"next"))}));else{const e=i[a];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&i.forEach(((e,t)=>{e.setAttribute("part",t===a?"bullet-active":"bullet")})),s.dynamicBullets){const e=i[o],t=i[p];for(let e=o;e<=p;e+=1)i[e]&&i[e].classList.add(...`${s.bulletActiveClass}-main`.split(" "));d(e,"prev"),d(t,"next")}}if(s.dynamicBullets){const a=Math.min(i.length,s.dynamicMainBullets+4),r=(n*a-n)/2-u*n,l=e?"right":"left";i.forEach((e=>{e.style[t.isHorizontal()?l:"top"]=`${r}px`}))}}c.forEach(((e,r)=>{if("fraction"===s.type&&(e.querySelectorAll(ne(s.currentClass)).forEach((e=>{e.textContent=s.formatFractionCurrent(a+1)})),e.querySelectorAll(ne(s.totalClass)).forEach((e=>{e.textContent=s.formatFractionTotal(u)}))),"progressbar"===s.type){let i;i=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(a+1)/u;let n=1,l=1;"horizontal"===i?n=r:l=r,e.querySelectorAll(ne(s.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${l})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(e.innerHTML=s.renderCustom(t,a+1,u),0===r&&i("paginationRender",e)):(0===r&&i("paginationRender",e),i("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)}))}function u(){const e=t.params.pagination;if(o())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let a=t.pagination.el;a=T(a);let r="";if("bullets"===e.type){let a=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>s&&(a=s);for(let s=0;s<a;s+=1)e.renderBullet?r+=e.renderBullet.call(t,s,e.bulletClass):r+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],a.forEach((s=>{"custom"!==e.type&&(s.innerHTML=r||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(ne(e.bulletClass)))})),"custom"!==e.type&&i("paginationRender",a[0])}function m(){t.params.pagination=re(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.filter((e=>E(e,".swiper")[0]===t.el))[0])),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=T(s),s.forEach((s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),l=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",c),t.enabled||s.classList.add(e.lockClass)})))}function h(){const e=t.params.pagination;if(o())return;let s=t.pagination.el;s&&(s=T(s),s.forEach((s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",c))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}a("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=T(s),s.forEach((s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),a("init",(()=>{!1===t.params.pagination.enabled?f():(m(),u(),p())})),a("activeIndexChange",(()=>{void 0===t.snapIndex&&p()})),a("snapIndexChange",(()=>{p()})),a("snapGridLengthChange",(()=>{u(),p()})),a("destroy",(()=>{h()})),a("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=T(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),a("lock unlock",(()=>{p()})),a("click",((e,s)=>{const a=s.target,r=T(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!a.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&a===t.navigation.nextEl||t.navigation.prevEl&&a===t.navigation.prevEl))return;const e=r[0].classList.contains(t.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),r.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=T(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),h()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=T(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),m(),u(),p()},disable:f,render:u,update:p,init:m,destroy:h})},function(e){let{swiper:t,extendParams:s,on:i,emit:r}=e;const o=a();let d,c,p,u,m=!1,h=null,f=null;function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:s}=t,{dragEl:a,el:i}=e,r=t.params.scrollbar,n=t.params.loop?t.progressLoop:t.progress;let l=c,o=(p-c)*n;s?(o=-o,o>0?(l=c-o,o=0):-o+c>p&&(l=p+o)):o<0?(l=c+o,o=0):o+c>p&&(l=p-o),t.isHorizontal()?(a.style.transform=`translate3d(${o}px, 0, 0)`,a.style.width=`${l}px`):(a.style.transform=`translate3d(0px, ${o}px, 0)`,a.style.height=`${l}px`),r.hide&&(clearTimeout(h),i.style.opacity=1,h=setTimeout((()=>{i.style.opacity=0,i.style.transitionDuration="400ms"}),1e3))}function b(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:s,el:a}=e;s.style.width="",s.style.height="",p=t.isHorizontal()?a.offsetWidth:a.offsetHeight,u=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),c="auto"===t.params.scrollbar.dragSize?p*u:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?s.style.width=`${c}px`:s.style.height=`${c}px`,a.style.display=u>=1?"none":"",t.params.scrollbar.hide&&(a.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function y(e){return t.isHorizontal()?e.clientX:e.clientY}function E(e){const{scrollbar:s,rtlTranslate:a}=t,{el:i}=s;let r;r=(y(e)-w(i)[t.isHorizontal()?"left":"top"]-(null!==d?d:c/2))/(p-c),r=Math.max(Math.min(r,1),0),a&&(r=1-r);const n=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*r;t.updateProgress(n),t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}function x(e){const s=t.params.scrollbar,{scrollbar:a,wrapperEl:i}=t,{el:n,dragEl:l}=a;m=!0,d=e.target===l?y(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),i.style.transitionDuration="100ms",l.style.transitionDuration="100ms",E(e),clearTimeout(f),n.style.transitionDuration="0ms",s.hide&&(n.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",e)}function S(e){const{scrollbar:s,wrapperEl:a}=t,{el:i,dragEl:n}=s;m&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,E(e),a.style.transitionDuration="0ms",i.style.transitionDuration="0ms",n.style.transitionDuration="0ms",r("scrollbarDragMove",e))}function M(e){const s=t.params.scrollbar,{scrollbar:a,wrapperEl:i}=t,{el:n}=a;m&&(m=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",i.style.transitionDuration=""),s.hide&&(clearTimeout(f),f=l((()=>{n.style.opacity=0,n.style.transitionDuration="400ms"}),1e3)),r("scrollbarDragEnd",e),s.snapOnRelease&&t.slideToClosest())}function C(e){const{scrollbar:s,params:a}=t,i=s.el;if(!i)return;const r=i,n=!!a.passiveListeners&&{passive:!1,capture:!1},l=!!a.passiveListeners&&{passive:!0,capture:!1};if(!r)return;const d="on"===e?"addEventListener":"removeEventListener";r[d]("pointerdown",x,n),o[d]("pointermove",S,n),o[d]("pointerup",M,l)}function P(){const{scrollbar:e,el:s}=t;t.params.scrollbar=re(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const a=t.params.scrollbar;if(!a.el)return;let i,r;if("string"==typeof a.el&&t.isElement&&(i=t.el.querySelector(a.el)),i||"string"!=typeof a.el)i||(i=a.el);else if(i=o.querySelectorAll(a.el),!i.length)return;t.params.uniqueNavElements&&"string"==typeof a.el&&i.length>1&&1===s.querySelectorAll(a.el).length&&(i=s.querySelector(a.el)),i.length>0&&(i=i[0]),i.classList.add(t.isHorizontal()?a.horizontalClass:a.verticalClass),i&&(r=i.querySelector(ne(t.params.scrollbar.dragClass)),r||(r=v("div",t.params.scrollbar.dragClass),i.append(r))),Object.assign(e,{el:i,dragEl:r}),a.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&C("on"),i&&i.classList[t.enabled?"remove":"add"](...n(t.params.scrollbar.lockClass))}function L(){const e=t.params.scrollbar,s=t.scrollbar.el;s&&s.classList.remove(...n(t.isHorizontal()?e.horizontalClass:e.verticalClass)),t.params.scrollbar.el&&t.scrollbar.el&&C("off")}s({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},i("changeDirection",(()=>{if(!t.scrollbar||!t.scrollbar.el)return;const e=t.params.scrollbar;let{el:s}=t.scrollbar;s=T(s),s.forEach((s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),i("init",(()=>{!1===t.params.scrollbar.enabled?I():(P(),b(),g())})),i("update resize observerUpdate lock unlock changeDirection",(()=>{b()})),i("setTranslate",(()=>{g()})),i("setTransition",((e,s)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(s)})),i("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](...n(t.params.scrollbar.lockClass))})),i("destroy",(()=>{L()}));const I=()=>{t.el.classList.add(...n(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...n(t.params.scrollbar.scrollbarDisabledClass)),L()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...n(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...n(t.params.scrollbar.scrollbarDisabledClass)),P(),b(),g()},disable:I,updateSize:b,setTranslate:g,init:P,destroy:L})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({parallax:{enabled:!1}});const i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",r=(e,s)=>{const{rtl:a}=t,i=a?-1:1,r=e.getAttribute("data-swiper-parallax")||"0";let n=e.getAttribute("data-swiper-parallax-x"),l=e.getAttribute("data-swiper-parallax-y");const o=e.getAttribute("data-swiper-parallax-scale"),d=e.getAttribute("data-swiper-parallax-opacity"),c=e.getAttribute("data-swiper-parallax-rotate");if(n||l?(n=n||"0",l=l||"0"):t.isHorizontal()?(n=r,l="0"):(l=r,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*s*i+"%":n*s*i+"px",l=l.indexOf("%")>=0?parseInt(l,10)*s+"%":l*s+"px",null!=d){const t=d-(d-1)*(1-Math.abs(s));e.style.opacity=t}let p=`translate3d(${n}, ${l}, 0px)`;if(null!=o){p+=` scale(${o-(o-1)*(1-Math.abs(s))})`}if(c&&null!=c){p+=` rotate(${c*s*-1}deg)`}e.style.transform=p},n=()=>{const{el:e,slides:s,progress:a,snapGrid:n,isElement:l}=t,o=f(e,i);t.isElement&&o.push(...f(t.hostEl,i)),o.forEach((e=>{r(e,a)})),s.forEach(((e,s)=>{let l=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(l+=Math.ceil(s/2)-a*(n.length-1)),l=Math.min(Math.max(l,-1),1),e.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach((e=>{r(e,l)}))}))};a("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),a("init",(()=>{t.params.parallax.enabled&&n()})),a("setTranslate",(()=>{t.params.parallax.enabled&&n()})),a("setTransition",((e,s)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:s,hostEl:a}=t,r=[...s.querySelectorAll(i)];t.isElement&&r.push(...a.querySelectorAll(i)),r.forEach((t=>{let s=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),t.style.transitionDuration=`${s}ms`}))}(s)}))},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const n=r();s({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let l,o,c=1,p=!1;const u=[],m={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},g={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let v,b=1;function y(){if(u.length<2)return 1;const e=u[0].pageX,t=u[0].pageY,s=u[1].pageX,a=u[1].pageY;return Math.sqrt((s-e)**2+(a-t)**2)}function x(){const e=t.params.zoom,s=m.imageWrapEl.getAttribute("data-swiper-zoom")||e.maxRatio;if(e.limitToOriginalSize&&m.imageEl&&m.imageEl.naturalWidth){const e=m.imageEl.naturalWidth/m.imageEl.offsetWidth;return Math.min(e,s)}return s}function S(e){const s=t.isElement?"swiper-slide":`.${t.params.slideClass}`;return!!e.target.matches(s)||t.slides.filter((t=>t.contains(e.target))).length>0}function T(e){if("mouse"===e.pointerType&&u.splice(0,u.length),!S(e))return;const s=t.params.zoom;if(l=!1,o=!1,u.push(e),!(u.length<2)){if(l=!0,m.scaleStart=y(),!m.slideEl){m.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),m.slideEl||(m.slideEl=t.slides[t.activeIndex]);let a=m.slideEl.querySelector(`.${s.containerClass}`);if(a&&(a=a.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=a,m.imageWrapEl=a?E(m.imageEl,`.${s.containerClass}`)[0]:void 0,!m.imageWrapEl)return void(m.imageEl=void 0);m.maxRatio=x()}if(m.imageEl){const[e,t]=function(){if(u.length<2)return{x:null,y:null};const e=m.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-e.x-n.scrollX)/c,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-e.y-n.scrollY)/c]}();m.originX=e,m.originY=t,m.imageEl.style.transitionDuration="0ms"}p=!0}}function M(e){if(!S(e))return;const s=t.params.zoom,a=t.zoom,i=u.findIndex((t=>t.pointerId===e.pointerId));i>=0&&(u[i]=e),u.length<2||(o=!0,m.scaleMove=y(),m.imageEl&&(a.scale=m.scaleMove/m.scaleStart*c,a.scale>m.maxRatio&&(a.scale=m.maxRatio-1+(a.scale-m.maxRatio+1)**.5),a.scale<s.minRatio&&(a.scale=s.minRatio+1-(s.minRatio-a.scale+1)**.5),m.imageEl.style.transform=`translate3d(0,0,0) scale(${a.scale})`))}function C(e){if(!S(e))return;if("mouse"===e.pointerType&&"pointerout"===e.type)return;const s=t.params.zoom,a=t.zoom,i=u.findIndex((t=>t.pointerId===e.pointerId));i>=0&&u.splice(i,1),l&&o&&(l=!1,o=!1,m.imageEl&&(a.scale=Math.max(Math.min(a.scale,m.maxRatio),s.minRatio),m.imageEl.style.transitionDuration=`${t.params.speed}ms`,m.imageEl.style.transform=`translate3d(0,0,0) scale(${a.scale})`,c=a.scale,p=!1,a.scale>1&&m.slideEl?m.slideEl.classList.add(`${s.zoomedSlideClass}`):a.scale<=1&&m.slideEl&&m.slideEl.classList.remove(`${s.zoomedSlideClass}`),1===a.scale&&(m.originX=0,m.originY=0,m.slideEl=void 0)))}function P(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function L(e){if(!S(e)||!function(e){const s=`.${t.params.zoom.containerClass}`;return!!e.target.matches(s)||[...t.hostEl.querySelectorAll(s)].filter((t=>t.contains(e.target))).length>0}(e))return;const s=t.zoom;if(!m.imageEl)return;if(!h.isTouched||!m.slideEl)return;h.isMoved||(h.width=m.imageEl.offsetWidth||m.imageEl.clientWidth,h.height=m.imageEl.offsetHeight||m.imageEl.clientHeight,h.startX=d(m.imageWrapEl,"x")||0,h.startY=d(m.imageWrapEl,"y")||0,m.slideWidth=m.slideEl.offsetWidth,m.slideHeight=m.slideEl.offsetHeight,m.imageWrapEl.style.transitionDuration="0ms");const a=h.width*s.scale,i=h.height*s.scale;h.minX=Math.min(m.slideWidth/2-a/2,0),h.maxX=-h.minX,h.minY=Math.min(m.slideHeight/2-i/2,0),h.maxY=-h.minY,h.touchesCurrent.x=u.length>0?u[0].pageX:e.pageX,h.touchesCurrent.y=u.length>0?u[0].pageY:e.pageY;if(Math.max(Math.abs(h.touchesCurrent.x-h.touchesStart.x),Math.abs(h.touchesCurrent.y-h.touchesStart.y))>5&&(t.allowClick=!1),!h.isMoved&&!p){if(t.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x))return h.isTouched=!1,void P();if(!t.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y))return h.isTouched=!1,void P()}e.cancelable&&e.preventDefault(),e.stopPropagation(),clearTimeout(v),t.touchEventsData.preventTouchMoveFromPointerMove=!0,v=setTimeout((()=>{P()})),h.isMoved=!0;const r=(s.scale-c)/(m.maxRatio-t.params.zoom.minRatio),{originX:n,originY:l}=m;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX+r*(h.width-2*n),h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY+r*(h.height-2*l),h.currentX<h.minX&&(h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8),h.currentX>h.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentY<h.minY&&(h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8),h.currentY>h.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),g.prevPositionX||(g.prevPositionX=h.touchesCurrent.x),g.prevPositionY||(g.prevPositionY=h.touchesCurrent.y),g.prevTime||(g.prevTime=Date.now()),g.x=(h.touchesCurrent.x-g.prevPositionX)/(Date.now()-g.prevTime)/2,g.y=(h.touchesCurrent.y-g.prevPositionY)/(Date.now()-g.prevTime)/2,Math.abs(h.touchesCurrent.x-g.prevPositionX)<2&&(g.x=0),Math.abs(h.touchesCurrent.y-g.prevPositionY)<2&&(g.y=0),g.prevPositionX=h.touchesCurrent.x,g.prevPositionY=h.touchesCurrent.y,g.prevTime=Date.now(),m.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function I(){const e=t.zoom;m.slideEl&&t.activeIndex!==t.slides.indexOf(m.slideEl)&&(m.imageEl&&(m.imageEl.style.transform="translate3d(0,0,0) scale(1)"),m.imageWrapEl&&(m.imageWrapEl.style.transform="translate3d(0,0,0)"),m.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,c=1,m.slideEl=void 0,m.imageEl=void 0,m.imageWrapEl=void 0,m.originX=0,m.originY=0)}function z(e){const s=t.zoom,a=t.params.zoom;if(!m.slideEl){e&&e.target&&(m.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),m.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?m.slideEl=f(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:m.slideEl=t.slides[t.activeIndex]);let s=m.slideEl.querySelector(`.${a.containerClass}`);s&&(s=s.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=s,m.imageWrapEl=s?E(m.imageEl,`.${a.containerClass}`)[0]:void 0}if(!m.imageEl||!m.imageWrapEl)return;let i,r,l,o,d,p,u,g,v,b,y,S,T,M,C,P,L,I;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),m.slideEl.classList.add(`${a.zoomedSlideClass}`),void 0===h.touchesStart.x&&e?(i=e.pageX,r=e.pageY):(i=h.touchesStart.x,r=h.touchesStart.y);const z="number"==typeof e?e:null;1===c&&z&&(i=void 0,r=void 0,h.touchesStart.x=void 0,h.touchesStart.y=void 0);const A=x();s.scale=z||A,c=z||A,!e||1===c&&z?(u=0,g=0):(L=m.slideEl.offsetWidth,I=m.slideEl.offsetHeight,l=w(m.slideEl).left+n.scrollX,o=w(m.slideEl).top+n.scrollY,d=l+L/2-i,p=o+I/2-r,v=m.imageEl.offsetWidth||m.imageEl.clientWidth,b=m.imageEl.offsetHeight||m.imageEl.clientHeight,y=v*s.scale,S=b*s.scale,T=Math.min(L/2-y/2,0),M=Math.min(I/2-S/2,0),C=-T,P=-M,u=d*s.scale,g=p*s.scale,u<T&&(u=T),u>C&&(u=C),g<M&&(g=M),g>P&&(g=P)),z&&1===s.scale&&(m.originX=0,m.originY=0),m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform=`translate3d(${u}px, ${g}px,0)`,m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform=`translate3d(0,0,0) scale(${s.scale})`}function A(){const e=t.zoom,s=t.params.zoom;if(!m.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?m.slideEl=f(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:m.slideEl=t.slides[t.activeIndex];let e=m.slideEl.querySelector(`.${s.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=e,m.imageWrapEl=e?E(m.imageEl,`.${s.containerClass}`)[0]:void 0}m.imageEl&&m.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,c=1,h.touchesStart.x=void 0,h.touchesStart.y=void 0,m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform="translate3d(0,0,0)",m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform="translate3d(0,0,0) scale(1)",m.slideEl.classList.remove(`${s.zoomedSlideClass}`),m.slideEl=void 0,m.originX=0,m.originY=0)}function $(e){const s=t.zoom;s.scale&&1!==s.scale?A():z(e)}function k(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function O(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:s,activeListenerWithCapture:a}=k();t.wrapperEl.addEventListener("pointerdown",T,s),t.wrapperEl.addEventListener("pointermove",M,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.addEventListener(e,C,s)})),t.wrapperEl.addEventListener("pointermove",L,a)}function D(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:s,activeListenerWithCapture:a}=k();t.wrapperEl.removeEventListener("pointerdown",T,s),t.wrapperEl.removeEventListener("pointermove",M,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.removeEventListener(e,C,s)})),t.wrapperEl.removeEventListener("pointermove",L,a)}Object.defineProperty(t.zoom,"scale",{get:()=>b,set(e){if(b!==e){const t=m.imageEl,s=m.slideEl;i("zoomChange",e,t,s)}b=e}}),a("init",(()=>{t.params.zoom.enabled&&O()})),a("destroy",(()=>{D()})),a("touchStart",((e,s)=>{t.zoom.enabled&&function(e){const s=t.device;if(!m.imageEl)return;if(h.isTouched)return;s.android&&e.cancelable&&e.preventDefault(),h.isTouched=!0;const a=u.length>0?u[0]:e;h.touchesStart.x=a.pageX,h.touchesStart.y=a.pageY}(s)})),a("touchEnd",((e,s)=>{t.zoom.enabled&&function(){const e=t.zoom;if(!m.imageEl)return;if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;let s=300,a=300;const i=g.x*s,r=h.currentX+i,n=g.y*a,l=h.currentY+n;0!==g.x&&(s=Math.abs((r-h.currentX)/g.x)),0!==g.y&&(a=Math.abs((l-h.currentY)/g.y));const o=Math.max(s,a);h.currentX=r,h.currentY=l;const d=h.width*e.scale,c=h.height*e.scale;h.minX=Math.min(m.slideWidth/2-d/2,0),h.maxX=-h.minX,h.minY=Math.min(m.slideHeight/2-c/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),m.imageWrapEl.style.transitionDuration=`${o}ms`,m.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}()})),a("doubleTap",((e,s)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&$(s)})),a("transitionEnd",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&I()})),a("slideChange",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&I()})),Object.assign(t.zoom,{enable:O,disable:D,in:z,out:A,toggle:$})},function(e){let{swiper:t,extendParams:s,on:a}=e;function i(e,t){const s=function(){let e,t,s;return(a,i)=>{for(t=-1,e=a.length;e-t>1;)s=e+t>>1,a[s]<=i?t=s:e=s;return e}}();let a,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}s({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},a("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){("string"==typeof t.params.controller.control?[...document.querySelectorAll(t.params.controller.control)]:[t.params.controller.control]).forEach((e=>{if(t.controller.control||(t.controller.control=[]),e&&e.swiper)t.controller.control.push(e.swiper);else if(e){const s=`${t.params.eventsPrefix}init`,a=i=>{t.controller.control.push(i.detail[0]),t.update(),e.removeEventListener(s,a)};e.addEventListener(s,a)}}))}else t.controller.control=t.params.controller.control})),a("update",(()=>{r()})),a("resize",(()=>{r()})),a("observerUpdate",(()=>{r()})),a("setTranslate",((e,s,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(s,a)})),a("setTransition",((e,s,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(s,a)})),Object.assign(t.controller,{setTranslate:function(e,s){const a=t.controller.control;let r,n;const l=t.constructor;function o(e){if(e.destroyed)return;const s=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new i(t.slidesGrid,e.slidesGrid):new i(t.snapGrid,e.snapGrid)}(e),n=-t.controller.spline.interpolate(-s)),n&&"container"!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),n=(s-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(n=e.maxTranslate()-n),e.updateProgress(n),e.setTranslate(n,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(let e=0;e<a.length;e+=1)a[e]!==s&&a[e]instanceof l&&o(a[e]);else a instanceof l&&s!==a&&o(a)},setTransition:function(e,s){const a=t.constructor,i=t.controller.control;let r;function n(s){s.destroyed||(s.setTransition(e,t),0!==e&&(s.transitionStart(),s.params.autoHeight&&l((()=>{s.updateAutoHeight()})),x(s.wrapperEl,(()=>{i&&s.transitionEnd()}))))}if(Array.isArray(i))for(r=0;r<i.length;r+=1)i[r]!==s&&i[r]instanceof a&&n(i[r]);else i instanceof a&&s!==i&&n(i)}})},function(e){let{swiper:t,extendParams:s,on:i}=e;s({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let r,n,l=null,o=(new Date).getTime();function d(e){const t=l;0!==t.length&&(t.innerHTML="",t.innerHTML=e)}function c(e){(e=T(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function p(e){(e=T(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function u(e,t){(e=T(e)).forEach((e=>{e.setAttribute("role",t)}))}function m(e,t){(e=T(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function h(e,t){(e=T(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function f(e){(e=T(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function g(e){(e=T(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function w(e){if(13!==e.keyCode&&32!==e.keyCode)return;const s=t.params.a11y,a=e.target;if(!t.pagination||!t.pagination.el||a!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(ne(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=T(t.navigation.prevEl);T(t.navigation.nextEl).includes(a)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?d(s.lastSlideMessage):d(s.nextSlideMessage)),e.includes(a)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?d(s.firstSlideMessage):d(s.prevSlideMessage))}t.pagination&&a.matches(ne(t.params.pagination.bulletClass))&&a.click()}}function b(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function E(){return b()&&t.params.pagination.clickable}const x=(e,t,s)=>{c(e),"BUTTON"!==e.tagName&&(u(e,"button"),e.addEventListener("keydown",w)),h(e,s),function(e,t){(e=T(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},S=e=>{n&&n!==e.target&&!n.contains(e.target)&&(r=!0),t.a11y.clicked=!0},M=()=>{r=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},C=e=>{o=(new Date).getTime()},P=e=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus)return;if((new Date).getTime()-o<100)return;const s=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!s||!t.slides.includes(s))return;n=s;const a=t.slides.indexOf(s)===t.activeIndex,i=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(s);a||i||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{r||(t.params.loop?t.slideToLoop(parseInt(s.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(s),0),r=!1)})))},L=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&m(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&u(t.slides,e.slideRole);const s=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((a,i)=>{const r=t.params.loop?parseInt(a.getAttribute("data-swiper-slide-index"),10):i;h(a,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,s))}))},I=()=>{const e=t.params.a11y;t.el.append(l);const s=t.el;e.containerRoleDescriptionMessage&&m(s,e.containerRoleDescriptionMessage),e.containerMessage&&h(s,e.containerMessage);const i=t.wrapperEl,r=e.id||i.getAttribute("id")||`swiper-wrapper-${n=16,void 0===n&&(n=16),"x".repeat(n).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var n;const o=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var d;d=r,T(i).forEach((e=>{e.setAttribute("id",d)})),function(e,t){(e=T(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(i,o),L();let{nextEl:c,prevEl:p}=t.navigation?t.navigation:{};if(c=T(c),p=T(p),c&&c.forEach((t=>x(t,r,e.nextSlideMessage))),p&&p.forEach((t=>x(t,r,e.prevSlideMessage))),E()){T(t.pagination.el).forEach((e=>{e.addEventListener("keydown",w)}))}a().addEventListener("visibilitychange",C),t.el.addEventListener("focus",P,!0),t.el.addEventListener("focus",P,!0),t.el.addEventListener("pointerdown",S,!0),t.el.addEventListener("pointerup",M,!0)};i("beforeInit",(()=>{l=v("span",t.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")})),i("afterInit",(()=>{t.params.a11y.enabled&&I()})),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&L()})),i("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:s}=t.navigation;s&&(t.isBeginning?(f(s),p(s)):(g(s),c(s))),e&&(t.isEnd?(f(e),p(e)):(g(e),c(e)))}()})),i("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;b()&&t.pagination.bullets.forEach((s=>{t.params.pagination.clickable&&(c(s),t.params.pagination.renderBullet||(u(s,"button"),h(s,e.paginationBulletMessage.replace(/\{\{index\}\}/,y(s)+1)))),s.matches(ne(t.params.pagination.bulletActiveClass))?s.setAttribute("aria-current","true"):s.removeAttribute("aria-current")}))}()})),i("destroy",(()=>{t.params.a11y.enabled&&function(){l&&l.remove();let{nextEl:e,prevEl:s}=t.navigation?t.navigation:{};e=T(e),s=T(s),e&&e.forEach((e=>e.removeEventListener("keydown",w))),s&&s.forEach((e=>e.removeEventListener("keydown",w))),E()&&T(t.pagination.el).forEach((e=>{e.removeEventListener("keydown",w)}));a().removeEventListener("visibilitychange",C),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",P,!0),t.el.removeEventListener("pointerdown",S,!0),t.el.removeEventListener("pointerup",M,!0))}()}))},function(e){let{swiper:t,extendParams:s,on:a}=e;s({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,n={};const l=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),o=e=>{const t=r();let s;s=e?new URL(e):t.location;const a=s.pathname.slice(1).split("/").filter((e=>""!==e)),i=a.length;return{key:a[i-2],value:a[i-1]}},d=(e,s)=>{const a=r();if(!i||!t.params.history.enabled)return;let n;n=t.params.url?new URL(t.params.url):a.location;const o=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${s}"]`):t.slides[s];let d=l(o.getAttribute("data-history"));if(t.params.history.root.length>0){let s=t.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),d=`${s}/${e?`${e}/`:""}${d}`}else n.pathname.includes(e)||(d=`${e?`${e}/`:""}${d}`);t.params.history.keepQuery&&(d+=n.search);const c=a.history.state;c&&c.value===d||(t.params.history.replaceState?a.history.replaceState({value:d},null,d):a.history.pushState({value:d},null,d))},c=(e,s,a)=>{if(s)for(let i=0,r=t.slides.length;i<r;i+=1){const r=t.slides[i];if(l(r.getAttribute("data-history"))===s){const s=t.getSlideIndex(r);t.slideTo(s,e,a)}}else t.slideTo(0,e,a)},p=()=>{n=o(t.params.url),c(t.params.speed,n.value,!1)};a("init",(()=>{t.params.history.enabled&&(()=>{const e=r();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);i=!0,n=o(t.params.url),n.key||n.value?(c(0,n.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",p)):t.params.history.replaceState||e.addEventListener("popstate",p)}})()})),a("destroy",(()=>{t.params.history.enabled&&(()=>{const e=r();t.params.history.replaceState||e.removeEventListener("popstate",p)})()})),a("transitionEnd _freeModeNoMomentumRelease",(()=>{i&&d(t.params.history.key,t.activeIndex)})),a("slideChange",(()=>{i&&t.params.cssMode&&d(t.params.history.key,t.activeIndex)}))},function(e){let{swiper:t,extendParams:s,emit:i,on:n}=e,l=!1;const o=a(),d=r();s({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,s){if(t.virtual&&t.params.virtual.enabled){const e=t.slides.filter((e=>e.getAttribute("data-hash")===s))[0];if(!e)return 0;return parseInt(e.getAttribute("data-swiper-slide-index"),10)}return t.getSlideIndex(f(t.slidesEl,`.${t.params.slideClass}[data-hash="${s}"], swiper-slide[data-hash="${s}"]`)[0])}}});const c=()=>{i("hashChange");const e=o.location.hash.replace("#",""),s=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(e!==(s?s.getAttribute("data-hash"):"")){const s=t.params.hashNavigation.getSlideIndex(t,e);if(void 0===s||Number.isNaN(s))return;t.slideTo(s)}},p=()=>{if(!l||!t.params.hashNavigation.enabled)return;const e=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],s=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&d.history&&d.history.replaceState?(d.history.replaceState(null,null,`#${s}`||""),i("hashSet")):(o.location.hash=s||"",i("hashSet"))};n("init",(()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;l=!0;const e=o.location.hash.replace("#","");if(e){const s=0,a=t.params.hashNavigation.getSlideIndex(t,e);t.slideTo(a||0,s,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&d.addEventListener("hashchange",c)})()})),n("destroy",(()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&d.removeEventListener("hashchange",c)})),n("transitionEnd _freeModeNoMomentumRelease",(()=>{l&&p()})),n("slideChange",(()=>{l&&t.params.cssMode&&p()}))},function(e){let t,s,{swiper:i,extendParams:r,on:n,emit:l,params:o}=e;i.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,c,p,u,m,h,f,g,v=o&&o.autoplay?o.autoplay.delay:3e3,w=o&&o.autoplay?o.autoplay.delay:3e3,b=(new Date).getTime();function y(e){i&&!i.destroyed&&i.wrapperEl&&e.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",y),g||e.detail&&e.detail.bySwiperTouchMove||C())}const E=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?c=!0:c&&(w=d,c=!1);const e=i.autoplay.paused?d:b+w-(new Date).getTime();i.autoplay.timeLeft=e,l("autoplayTimeLeft",e,e/v),s=requestAnimationFrame((()=>{E()}))},x=e=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(s),E();let a=void 0===e?i.params.autoplay.delay:e;v=i.params.autoplay.delay,w=i.params.autoplay.delay;const r=(()=>{let e;if(e=i.virtual&&i.params.virtual.enabled?i.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:i.slides[i.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(r)&&r>0&&void 0===e&&(a=r,v=r,w=r),d=a;const n=i.params.speed,o=()=>{i&&!i.destroyed&&(i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(n,!0,!0),l("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,n,!0,!0),l("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(n,!0,!0),l("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,n,!0,!0),l("autoplay")),i.params.cssMode&&(b=(new Date).getTime(),requestAnimationFrame((()=>{x()}))))};return a>0?(clearTimeout(t),t=setTimeout((()=>{o()}),a)):requestAnimationFrame((()=>{o()})),a},S=()=>{b=(new Date).getTime(),i.autoplay.running=!0,x(),l("autoplayStart")},T=()=>{i.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),l("autoplayStop")},M=(e,s)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(t),e||(f=!0);const a=()=>{l("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",y):C()};if(i.autoplay.paused=!0,s)return h&&(d=i.params.autoplay.delay),h=!1,void a();const r=d||i.params.autoplay.delay;d=r-((new Date).getTime()-b),i.isEnd&&d<0&&!i.params.loop||(d<0&&(d=0),a())},C=()=>{i.isEnd&&d<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(b=(new Date).getTime(),f?(f=!1,x(d)):x(),i.autoplay.paused=!1,l("autoplayResume"))},P=()=>{if(i.destroyed||!i.autoplay.running)return;const e=a();"hidden"===e.visibilityState&&(f=!0,M(!0)),"visible"===e.visibilityState&&C()},L=e=>{"mouse"===e.pointerType&&(f=!0,g=!0,i.animating||i.autoplay.paused||M(!0))},I=e=>{"mouse"===e.pointerType&&(g=!1,i.autoplay.paused&&C())};n("init",(()=>{i.params.autoplay.enabled&&(i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",L),i.el.addEventListener("pointerleave",I)),a().addEventListener("visibilitychange",P),S())})),n("destroy",(()=>{i.el&&"string"!=typeof i.el&&(i.el.removeEventListener("pointerenter",L),i.el.removeEventListener("pointerleave",I)),a().removeEventListener("visibilitychange",P),i.autoplay.running&&T()})),n("_freeModeStaticRelease",(()=>{(u||f)&&C()})),n("_freeModeNoMomentumRelease",(()=>{i.params.autoplay.disableOnInteraction?T():M(!0,!0)})),n("beforeTransitionStart",((e,t,s)=>{!i.destroyed&&i.autoplay.running&&(s||!i.params.autoplay.disableOnInteraction?M(!0,!0):T())})),n("sliderFirstMove",(()=>{!i.destroyed&&i.autoplay.running&&(i.params.autoplay.disableOnInteraction?T():(p=!0,u=!1,f=!1,m=setTimeout((()=>{f=!0,u=!0,M(!0)}),200)))})),n("touchEnd",(()=>{if(!i.destroyed&&i.autoplay.running&&p){if(clearTimeout(m),clearTimeout(t),i.params.autoplay.disableOnInteraction)return u=!1,void(p=!1);u&&i.params.cssMode&&C(),u=!1,p=!1}})),n("slideChange",(()=>{!i.destroyed&&i.autoplay.running&&(h=!0)})),Object.assign(i.autoplay,{start:S,stop:T,pause:M,resume:C})},function(e){let{swiper:t,extendParams:s,on:i}=e;s({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,n=!1;function l(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const s=e.clickedIndex,a=e.clickedSlide;if(a&&a.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let i;i=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):s,t.params.loop?t.slideToLoop(i):t.slideTo(i)}function o(){const{thumbs:e}=t.params;if(r)return!1;r=!0;const s=t.constructor;if(e.swiper instanceof s)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(c(e.swiper)){const a=Object.assign({},e.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new s(a),n=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",l),!0}function d(e){const s=t.thumbs.swiper;if(!s||s.destroyed)return;const a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView;let i=1;const r=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(i=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),s.slides.forEach((e=>e.classList.remove(r))),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let e=0;e<i;e+=1)f(s.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(r)}));else for(let e=0;e<i;e+=1)s.slides[t.realIndex+e]&&s.slides[t.realIndex+e].classList.add(r);const n=t.params.thumbs.autoScrollOffset,l=n&&!s.params.loop;if(t.realIndex!==s.realIndex||l){const i=s.activeIndex;let r,o;if(s.params.loop){const e=s.slides.filter((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`))[0];r=s.slides.indexOf(e),o=t.activeIndex>t.previousIndex?"next":"prev"}else r=t.realIndex,o=r>t.previousIndex?"next":"prev";l&&(r+="next"===o?n:-1*n),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(r)<0&&(s.params.centeredSlides?r=r>i?r-Math.floor(a/2)+1:r+Math.floor(a/2)-1:r>i&&s.params.slidesPerGroup,s.slideTo(r,e?0:void 0))}}t.thumbs={swiper:null},i("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const s=a(),i=()=>{const a="string"==typeof e.swiper?s.querySelector(e.swiper):e.swiper;if(a&&a.swiper)e.swiper=a.swiper,o(),d(!0);else if(a){const s=`${t.params.eventsPrefix}init`,i=r=>{e.swiper=r.detail[0],a.removeEventListener(s,i),o(),d(!0),e.swiper.update(),t.update()};a.addEventListener(s,i)}return a},r=()=>{if(t.destroyed)return;i()||requestAnimationFrame(r)};requestAnimationFrame(r)}else o(),d(!0)})),i("slideChange update resize observerUpdate",(()=>{d()})),i("setTransition",((e,s)=>{const a=t.thumbs.swiper;a&&!a.destroyed&&a.setTransition(s)})),i("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&n&&e.destroy()})),Object.assign(t.thumbs,{init:o,update:d})},function(e){let{swiper:t,extendParams:s,emit:a,once:i}=e;s({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){if(t.params.cssMode)return;const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){if(t.params.cssMode)return;const{touchEventsData:e,touches:s}=t;0===e.velocities.length&&e.velocities.push({position:s[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:s[t.isHorizontal()?"currentX":"currentY"],time:o()})},onTouchEnd:function(e){let{currentPos:s}=e;if(t.params.cssMode)return;const{params:r,wrapperEl:n,rtlTranslate:l,snapGrid:d,touchEventsData:c}=t,p=o()-c.touchStartTime;if(s<-t.minTranslate())t.slideTo(t.activeIndex);else if(s>-t.maxTranslate())t.slides.length<d.length?t.slideTo(d.length-1):t.slideTo(t.slides.length-1);else{if(r.freeMode.momentum){if(c.velocities.length>1){const e=c.velocities.pop(),s=c.velocities.pop(),a=e.position-s.position,i=e.time-s.time;t.velocity=a/i,t.velocity/=2,Math.abs(t.velocity)<r.freeMode.minimumVelocity&&(t.velocity=0),(i>150||o()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeMode.momentumVelocityRatio,c.velocities.length=0;let e=1e3*r.freeMode.momentumRatio;const s=t.velocity*e;let p=t.translate+s;l&&(p=-p);let u,m=!1;const h=20*Math.abs(t.velocity)*r.freeMode.momentumBounceRatio;let f;if(p<t.maxTranslate())r.freeMode.momentumBounce?(p+t.maxTranslate()<-h&&(p=t.maxTranslate()-h),u=t.maxTranslate(),m=!0,c.allowMomentumBounce=!0):p=t.maxTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(p>t.minTranslate())r.freeMode.momentumBounce?(p-t.minTranslate()>h&&(p=t.minTranslate()+h),u=t.minTranslate(),m=!0,c.allowMomentumBounce=!0):p=t.minTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(r.freeMode.sticky){let e;for(let t=0;t<d.length;t+=1)if(d[t]>-p){e=t;break}p=Math.abs(d[e]-p)<Math.abs(d[e-1]-p)||"next"===t.swipeDirection?d[e]:d[e-1],p=-p}if(f&&i("transitionEnd",(()=>{t.loopFix()})),0!==t.velocity){if(e=l?Math.abs((-p-t.translate)/t.velocity):Math.abs((p-t.translate)/t.velocity),r.freeMode.sticky){const s=Math.abs((l?-p:p)-t.translate),a=t.slidesSizesGrid[t.activeIndex];e=s<a?r.speed:s<2*a?1.5*r.speed:2.5*r.speed}}else if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode.momentumBounce&&m?(t.updateProgress(u),t.setTransition(e),t.setTranslate(p),t.transitionStart(!0,t.swipeDirection),t.animating=!0,x(n,(()=>{t&&!t.destroyed&&c.allowMomentumBounce&&(a("momentumBounce"),t.setTransition(r.speed),setTimeout((()=>{t.setTranslate(u),x(n,(()=>{t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(a("_freeModeNoMomentumRelease"),t.updateProgress(p),t.setTransition(e),t.setTranslate(p),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,x(n,(()=>{t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(p),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode&&a("_freeModeNoMomentumRelease")}(!r.freeMode.momentum||p>=r.longSwipesMs)&&(a("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,s,a,i,{swiper:r,extendParams:n,on:l}=e;n({grid:{rows:1,fill:"column"}});const o=()=>{let e=r.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*r.size:"string"==typeof e&&(e=parseFloat(e)),e};l("init",(()=>{i=r.params.grid&&r.params.grid.rows>1})),l("update",(()=>{const{params:e,el:t}=r,s=e.grid&&e.grid.rows>1;i&&!s?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),a=1,r.emitContainerClasses()):!i&&s&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),r.emitContainerClasses()),i=s})),r.grid={initSlides:e=>{const{slidesPerView:i}=r.params,{rows:n,fill:l}=r.params.grid,o=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:e.length;a=Math.floor(o/n),t=Math.floor(o/n)===o/n?o:Math.ceil(o/n)*n,"auto"!==i&&"row"===l&&(t=Math.max(t,i*n)),s=t/n},unsetSlides:()=>{r.slides&&r.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[r.getDirectionLabel("margin-top")]="")}))},updateSlide:(e,i,n)=>{const{slidesPerGroup:l}=r.params,d=o(),{rows:c,fill:p}=r.params.grid,u=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:n.length;let m,h,f;if("row"===p&&l>1){const s=Math.floor(e/(l*c)),a=e-c*l*s,r=0===s?l:Math.min(Math.ceil((u-s*c*l)/c),l);f=Math.floor(a/r),h=a-f*r+s*l,m=h+f*t/c,i.style.order=m}else"column"===p?(h=Math.floor(e/c),f=e-h*c,(h>a||h===a&&f===c-1)&&(f+=1,f>=c&&(f=0,h+=1))):(f=Math.floor(e/s),h=e-f*s);i.row=f,i.column=h,i.style.height=`calc((100% - ${(c-1)*d}px) / ${c})`,i.style[r.getDirectionLabel("margin-top")]=0!==f?d&&`${d}px`:"",i.swiperSlideGridSet=!0},updateWrapperSize:(e,s)=>{const{centeredSlides:a,roundLengths:i}=r.params,n=o(),{rows:l}=r.params.grid;if(r.virtualSize=(e+n)*t,r.virtualSize=Math.ceil(r.virtualSize/l)-n,r.params.cssMode||(r.wrapperEl.style[r.getDirectionLabel("width")]=`${r.virtualSize+n}px`),a){const e=[];for(let t=0;t<s.length;t+=1){let a=s[t];i&&(a=Math.floor(a)),s[t]<r.virtualSize+s[0]&&e.push(a)}s.splice(0,s.length),s.push(...e)}}}},function(e){let{swiper:t}=e;Object.assign(t,{appendSlide:le.bind(t),prependSlide:oe.bind(t),addSlide:de.bind(t),removeSlide:ce.bind(t),removeAllSlides:pe.bind(t)})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({fadeEffect:{crossFade:!1}}),ue({effect:"fade",swiper:t,on:a,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let s=0;s<e.length;s+=1){const e=t.slides[s];let a=-e.swiperSlideOffset;t.params.virtualTranslate||(a-=t.translate);let i=0;t.isHorizontal()||(i=a,a=0);const r=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),n=me(0,e);n.style.opacity=r,n.style.transform=`translate3d(${a}px, ${i}px, 0px)`}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`})),he({swiper:t,duration:e,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const i=(e,t,s)=>{let a=s?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=s?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=v("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"left":"top")).split(" ")),e.append(a)),i||(i=v("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"right":"bottom")).split(" ")),e.append(i)),a&&(a.style.opacity=Math.max(-t,0)),i&&(i.style.opacity=Math.max(t,0))};ue({effect:"cube",swiper:t,on:a,setTranslate:()=>{const{el:e,wrapperEl:s,slides:a,width:r,height:n,rtlTranslate:l,size:o,browser:d}=t,c=M(t),p=t.params.cubeEffect,u=t.isHorizontal(),m=t.virtual&&t.params.virtual.enabled;let h,f=0;p.shadow&&(u?(h=t.wrapperEl.querySelector(".swiper-cube-shadow"),h||(h=v("div","swiper-cube-shadow"),t.wrapperEl.append(h)),h.style.height=`${r}px`):(h=e.querySelector(".swiper-cube-shadow"),h||(h=v("div","swiper-cube-shadow"),e.append(h))));for(let e=0;e<a.length;e+=1){const t=a[e];let s=e;m&&(s=parseInt(t.getAttribute("data-swiper-slide-index"),10));let r=90*s,n=Math.floor(r/360);l&&(r=-r,n=Math.floor(-r/360));const d=Math.max(Math.min(t.progress,1),-1);let h=0,g=0,v=0;s%4==0?(h=4*-n*o,v=0):(s-1)%4==0?(h=0,v=4*-n*o):(s-2)%4==0?(h=o+4*n*o,v=o):(s-3)%4==0&&(h=-o,v=3*o+4*o*n),l&&(h=-h),u||(g=h,h=0);const w=`rotateX(${c(u?0:-r)}deg) rotateY(${c(u?r:0)}deg) translate3d(${h}px, ${g}px, ${v}px)`;d<=1&&d>-1&&(f=90*s+90*d,l&&(f=90*-s-90*d)),t.style.transform=w,p.slideShadows&&i(t,d,u)}if(s.style.transformOrigin=`50% 50% -${o/2}px`,s.style["-webkit-transform-origin"]=`50% 50% -${o/2}px`,p.shadow)if(u)h.style.transform=`translate3d(0px, ${r/2+p.shadowOffset}px, ${-r/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${p.shadowScale})`;else{const e=Math.abs(f)-90*Math.floor(Math.abs(f)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=p.shadowScale,a=p.shadowScale/t,i=p.shadowOffset;h.style.transform=`scale3d(${s}, 1, ${a}) translate3d(0px, ${n/2+i}px, ${-n/2/a}px) rotateX(-89.99deg)`}const g=(d.isSafari||d.isWebView)&&d.needPerspectiveFix?-o/2:0;s.style.transform=`translate3d(0px,0,${g}px) rotateX(${c(t.isHorizontal()?0:f)}deg) rotateY(${c(t.isHorizontal()?-f:0)}deg)`,s.style.setProperty("--swiper-cube-translate-z",`${g}px`)},setTransition:e=>{const{el:s,slides:a}=t;if(a.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=s.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const s=Math.max(Math.min(t.progress,1),-1);i(t,s,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({flipEffect:{slideShadows:!0,limitRotation:!0}});const i=(e,s)=>{let a=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=fe("flip",e,t.isHorizontal()?"left":"top")),i||(i=fe("flip",e,t.isHorizontal()?"right":"bottom")),a&&(a.style.opacity=Math.max(-s,0)),i&&(i.style.opacity=Math.max(s,0))};ue({effect:"flip",swiper:t,on:a,setTranslate:()=>{const{slides:e,rtlTranslate:s}=t,a=t.params.flipEffect,r=M(t);for(let n=0;n<e.length;n+=1){const l=e[n];let o=l.progress;t.params.flipEffect.limitRotation&&(o=Math.max(Math.min(l.progress,1),-1));const d=l.swiperSlideOffset;let c=-180*o,p=0,u=t.params.cssMode?-d-t.translate:-d,m=0;t.isHorizontal()?s&&(c=-c):(m=u,u=0,p=-c,c=0),l.style.zIndex=-Math.abs(Math.round(o))+e.length,a.slideShadows&&i(l,o);const h=`translate3d(${u}px, ${m}px, 0px) rotateX(${r(p)}deg) rotateY(${r(c)}deg)`;me(0,l).style.transform=h}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),he({swiper:t,duration:e,transformElements:s})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let s=e.progress;t.params.flipEffect.limitRotation&&(s=Math.max(Math.min(e.progress,1),-1)),i(e,s)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ue({effect:"coverflow",swiper:t,on:a,setTranslate:()=>{const{width:e,height:s,slides:a,slidesSizesGrid:i}=t,r=t.params.coverflowEffect,n=t.isHorizontal(),l=t.translate,o=n?e/2-l:s/2-l,d=n?r.rotate:-r.rotate,c=r.depth,p=M(t);for(let e=0,t=a.length;e<t;e+=1){const t=a[e],s=i[e],l=(o-t.swiperSlideOffset-s/2)/s,u="function"==typeof r.modifier?r.modifier(l):l*r.modifier;let m=n?d*u:0,h=n?0:d*u,f=-c*Math.abs(u),g=r.stretch;"string"==typeof g&&-1!==g.indexOf("%")&&(g=parseFloat(r.stretch)/100*s);let v=n?0:g*u,w=n?g*u:0,b=1-(1-r.scale)*Math.abs(u);Math.abs(w)<.001&&(w=0),Math.abs(v)<.001&&(v=0),Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(b)<.001&&(b=0);const y=`translate3d(${w}px,${v}px,${f}px)  rotateX(${p(h)}deg) rotateY(${p(m)}deg) scale(${b})`;if(me(0,t).style.transform=y,t.style.zIndex=1-Math.abs(Math.round(u)),r.slideShadows){let e=n?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),s=n?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");e||(e=fe("coverflow",t,n?"left":"top")),s||(s=fe("coverflow",t,n?"right":"bottom")),e&&(e.style.opacity=u>0?u:0),s&&(s.style.opacity=-u>0?-u:0)}}},setTransition:e=>{t.slides.map((e=>h(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=e=>"string"==typeof e?e:`${e}px`;ue({effect:"creative",swiper:t,on:a,setTranslate:()=>{const{slides:e,wrapperEl:s,slidesSizesGrid:a}=t,r=t.params.creativeEffect,{progressMultiplier:n}=r,l=t.params.centeredSlides,o=M(t);if(l){const e=a[0]/2-t.params.slidesOffsetBefore||0;s.style.transform=`translateX(calc(50% - ${e}px))`}for(let s=0;s<e.length;s+=1){const a=e[s],d=a.progress,c=Math.min(Math.max(a.progress,-r.limitProgress),r.limitProgress);let p=c;l||(p=Math.min(Math.max(a.originalProgress,-r.limitProgress),r.limitProgress));const u=a.swiperSlideOffset,m=[t.params.cssMode?-u-t.translate:-u,0,0],h=[0,0,0];let f=!1;t.isHorizontal()||(m[1]=m[0],m[0]=0);let g={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};c<0?(g=r.next,f=!0):c>0&&(g=r.prev,f=!0),m.forEach(((e,t)=>{m[t]=`calc(${e}px + (${i(g.translate[t])} * ${Math.abs(c*n)}))`})),h.forEach(((e,t)=>{let s=g.rotate[t]*Math.abs(c*n);h[t]=s})),a.style.zIndex=-Math.abs(Math.round(d))+e.length;const v=m.join(", "),w=`rotateX(${o(h[0])}deg) rotateY(${o(h[1])}deg) rotateZ(${o(h[2])}deg)`,b=p<0?`scale(${1+(1-g.scale)*p*n})`:`scale(${1-(1-g.scale)*p*n})`,y=p<0?1+(1-g.opacity)*p*n:1-(1-g.opacity)*p*n,E=`translate3d(${v}) ${w} ${b}`;if(f&&g.shadow||!f){let e=a.querySelector(".swiper-slide-shadow");if(!e&&g.shadow&&(e=fe("creative",a)),e){const t=r.shadowPerProgress?c*(1/r.limitProgress):c;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const x=me(0,a);x.style.transform=E,x.style.opacity=y,g.origin&&(x.style.transformOrigin=g.origin)}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),he({swiper:t,duration:e,transformElements:s,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ue({effect:"cards",swiper:t,on:a,setTranslate:()=>{const{slides:e,activeIndex:s,rtlTranslate:a}=t,i=t.params.cardsEffect,{startTranslate:r,isTouched:n}=t.touchEventsData,l=a?-t.translate:t.translate;for(let o=0;o<e.length;o+=1){const d=e[o],c=d.progress,p=Math.min(Math.max(c,-4),4);let u=d.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(u-=e[0].swiperSlideOffset);let m=t.params.cssMode?-u-t.translate:-u,h=0;const f=-100*Math.abs(p);let g=1,v=-i.perSlideRotate*p,w=i.perSlideOffset-.75*Math.abs(p);const b=t.virtual&&t.params.virtual.enabled?t.virtual.from+o:o,y=(b===s||b===s-1)&&p>0&&p<1&&(n||t.params.cssMode)&&l<r,E=(b===s||b===s+1)&&p<0&&p>-1&&(n||t.params.cssMode)&&l>r;if(y||E){const e=(1-Math.abs((Math.abs(p)-.5)/.5))**.5;v+=-28*p*e,g+=-.5*e,w+=96*e,h=-25*e*Math.abs(p)+"%"}if(m=p<0?`calc(${m}px ${a?"-":"+"} (${w*Math.abs(p)}%))`:p>0?`calc(${m}px ${a?"-":"+"} (-${w*Math.abs(p)}%))`:`${m}px`,!t.isHorizontal()){const e=h;h=m,m=e}const x=p<0?""+(1+(1-g)*p):""+(1-(1-g)*p),S=`\n        translate3d(${m}, ${h}, ${f}px)\n        rotateZ(${i.rotate?a?-v:v:0}deg)\n        scale(${x})\n      `;if(i.slideShadows){let e=d.querySelector(".swiper-slide-shadow");e||(e=fe("cards",d)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(p)-.5)/.5,0),1))}d.style.zIndex=-Math.abs(Math.round(c))+e.length;me(0,d).style.transform=S}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),he({swiper:t,duration:e,transformElements:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];return ie.use(ge),ie}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjVfMF9mYW5jeWJveC51bWQuanMiLCJzd2lwZXItYnVuZGxlLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoidmVuZG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLndpbmRvdz10LndpbmRvd3x8e30pfSh0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtjb25zdCBlPSh0LGU9MWU0KT0+KHQ9cGFyc2VGbG9hdCh0K1wiXCIpfHwwLE1hdGgucm91bmQoKHQrTnVtYmVyLkVQU0lMT04pKmUpL2UpLGk9ZnVuY3Rpb24odCl7aWYoISh0JiZ0IGluc3RhbmNlb2YgRWxlbWVudCYmdC5vZmZzZXRQYXJlbnQpKXJldHVybiExO2NvbnN0IGU9dC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQsaT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5vdmVyZmxvd1ksbj0tMSE9PWkuaW5kZXhPZihcImhpZGRlblwiKSxzPS0xIT09aS5pbmRleE9mKFwidmlzaWJsZVwiKTtyZXR1cm4gZSYmIW4mJiFzfSxuPWZ1bmN0aW9uKHQsZT12b2lkIDApe3JldHVybiEoIXR8fHQ9PT1kb2N1bWVudC5ib2R5fHxlJiZ0PT09ZSkmJihpKHQpP3Q6bih0LnBhcmVudEVsZW1lbnQsZSkpfSxzPWZ1bmN0aW9uKHQpe3ZhciBlPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQvaHRtbFwiKS5ib2R5O2lmKGUuY2hpbGRFbGVtZW50Q291bnQ+MSl7Zm9yKHZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5maXJzdENoaWxkOylpLmFwcGVuZENoaWxkKGUuZmlyc3RDaGlsZCk7cmV0dXJuIGl9cmV0dXJuIGUuZmlyc3RDaGlsZH0sbz10PT5gJHt0fHxcIlwifWAuc3BsaXQoXCIgXCIpLmZpbHRlcigodD0+ISF0KSksYT0odCxlLGkpPT57dCYmbyhlKS5mb3JFYWNoKChlPT57dC5jbGFzc0xpc3QudG9nZ2xlKGUsaXx8ITEpfSkpfTtjbGFzcyBye2NvbnN0cnVjdG9yKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFnZVhcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYWdlWVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNsaWVudFhcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjbGllbnRZXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0aW1lXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibmF0aXZlUG9pbnRlclwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSx0aGlzLm5hdGl2ZVBvaW50ZXI9dCx0aGlzLnBhZ2VYPXQucGFnZVgsdGhpcy5wYWdlWT10LnBhZ2VZLHRoaXMuY2xpZW50WD10LmNsaWVudFgsdGhpcy5jbGllbnRZPXQuY2xpZW50WSx0aGlzLmlkPXNlbGYuVG91Y2gmJnQgaW5zdGFuY2VvZiBUb3VjaD90LmlkZW50aWZpZXI6LTEsdGhpcy50aW1lPURhdGUubm93KCl9fWNvbnN0IGw9e3Bhc3NpdmU6ITF9O2NsYXNzIGN7Y29uc3RydWN0b3IodCx7c3RhcnQ6ZT0oKCk9PiEwKSxtb3ZlOmk9KCgpPT57fSksZW5kOm49KCgpPT57fSl9KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImVsZW1lbnRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdGFydENhbGxiYWNrXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibW92ZUNhbGxiYWNrXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZW5kQ2FsbGJhY2tcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjdXJyZW50UG9pbnRlcnNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6W119KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInN0YXJ0UG9pbnRlcnNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6W119KSx0aGlzLmVsZW1lbnQ9dCx0aGlzLnN0YXJ0Q2FsbGJhY2s9ZSx0aGlzLm1vdmVDYWxsYmFjaz1pLHRoaXMuZW5kQ2FsbGJhY2s9bjtmb3IoY29uc3QgdCBvZltcIm9uUG9pbnRlclN0YXJ0XCIsXCJvblRvdWNoU3RhcnRcIixcIm9uTW92ZVwiLFwib25Ub3VjaEVuZFwiLFwib25Qb2ludGVyRW5kXCIsXCJvbldpbmRvd0JsdXJcIl0pdGhpc1t0XT10aGlzW3RdLmJpbmQodGhpcyk7dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm9uUG9pbnRlclN0YXJ0LGwpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMub25Ub3VjaFN0YXJ0LGwpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5vbk1vdmUsbCksdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25Ub3VjaEVuZCksdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMub25Ub3VjaEVuZCl9b25Qb2ludGVyU3RhcnQodCl7aWYoIXQuYnV0dG9uc3x8MCE9PXQuYnV0dG9uKXJldHVybjtjb25zdCBlPW5ldyByKHQpO3RoaXMuY3VycmVudFBvaW50ZXJzLnNvbWUoKHQ9PnQuaWQ9PT1lLmlkKSl8fHRoaXMudHJpZ2dlclBvaW50ZXJTdGFydChlLHQpJiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm9uTW92ZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vblBvaW50ZXJFbmQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMub25XaW5kb3dCbHVyKSl9b25Ub3VjaFN0YXJ0KHQpe2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odC5jaGFuZ2VkVG91Y2hlc3x8W10pKXRoaXMudHJpZ2dlclBvaW50ZXJTdGFydChuZXcgcihlKSx0KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLm9uV2luZG93Qmx1cil9b25Nb3ZlKHQpe2NvbnN0IGU9dGhpcy5jdXJyZW50UG9pbnRlcnMuc2xpY2UoKSxpPVwiY2hhbmdlZFRvdWNoZXNcImluIHQ/QXJyYXkuZnJvbSh0LmNoYW5nZWRUb3VjaGVzfHxbXSkubWFwKCh0PT5uZXcgcih0KSkpOltuZXcgcih0KV0sbj1bXTtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBlPXRoaXMuY3VycmVudFBvaW50ZXJzLmZpbmRJbmRleCgoZT0+ZS5pZD09PXQuaWQpKTtlPDB8fChuLnB1c2godCksdGhpcy5jdXJyZW50UG9pbnRlcnNbZV09dCl9bi5sZW5ndGgmJnRoaXMubW92ZUNhbGxiYWNrKHQsdGhpcy5jdXJyZW50UG9pbnRlcnMuc2xpY2UoKSxlKX1vblBvaW50ZXJFbmQodCl7dC5idXR0b25zPjAmJjAhPT10LmJ1dHRvbnx8KHRoaXMudHJpZ2dlclBvaW50ZXJFbmQodCxuZXcgcih0KSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm9uTW92ZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vblBvaW50ZXJFbmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMub25XaW5kb3dCbHVyKSl9b25Ub3VjaEVuZCh0KXtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHQuY2hhbmdlZFRvdWNoZXN8fFtdKSl0aGlzLnRyaWdnZXJQb2ludGVyRW5kKHQsbmV3IHIoZSkpfXRyaWdnZXJQb2ludGVyU3RhcnQodCxlKXtyZXR1cm4hIXRoaXMuc3RhcnRDYWxsYmFjayhlLHQsdGhpcy5jdXJyZW50UG9pbnRlcnMuc2xpY2UoKSkmJih0aGlzLmN1cnJlbnRQb2ludGVycy5wdXNoKHQpLHRoaXMuc3RhcnRQb2ludGVycy5wdXNoKHQpLCEwKX10cmlnZ2VyUG9pbnRlckVuZCh0LGUpe2NvbnN0IGk9dGhpcy5jdXJyZW50UG9pbnRlcnMuZmluZEluZGV4KCh0PT50LmlkPT09ZS5pZCkpO2k8MHx8KHRoaXMuY3VycmVudFBvaW50ZXJzLnNwbGljZShpLDEpLHRoaXMuc3RhcnRQb2ludGVycy5zcGxpY2UoaSwxKSx0aGlzLmVuZENhbGxiYWNrKHQsZSx0aGlzLmN1cnJlbnRQb2ludGVycy5zbGljZSgpKSl9b25XaW5kb3dCbHVyKCl7dGhpcy5jbGVhcigpfWNsZWFyKCl7Zm9yKDt0aGlzLmN1cnJlbnRQb2ludGVycy5sZW5ndGg7KXtjb25zdCB0PXRoaXMuY3VycmVudFBvaW50ZXJzW3RoaXMuY3VycmVudFBvaW50ZXJzLmxlbmd0aC0xXTt0aGlzLmN1cnJlbnRQb2ludGVycy5zcGxpY2UodGhpcy5jdXJyZW50UG9pbnRlcnMubGVuZ3RoLTEsMSksdGhpcy5zdGFydFBvaW50ZXJzLnNwbGljZSh0aGlzLmN1cnJlbnRQb2ludGVycy5sZW5ndGgtMSwxKSx0aGlzLmVuZENhbGxiYWNrKG5ldyBFdmVudChcInRvdWNoZW5kXCIse2J1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjbGllbnRYOnQuY2xpZW50WCxjbGllbnRZOnQuY2xpZW50WX0pLHQsdGhpcy5jdXJyZW50UG9pbnRlcnMuc2xpY2UoKSl9fXN0b3AoKXt0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Qb2ludGVyU3RhcnQsbCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vblRvdWNoU3RhcnQsbCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm9uTW92ZSxsKSx0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vblRvdWNoRW5kKSx0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5vblRvdWNoRW5kKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm9uUG9pbnRlckVuZCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5vbldpbmRvd0JsdXIpfX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuIGU/TWF0aC5zcXJ0KE1hdGgucG93KGUuY2xpZW50WC10LmNsaWVudFgsMikrTWF0aC5wb3coZS5jbGllbnRZLXQuY2xpZW50WSwyKSk6MH1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIGU/e2NsaWVudFg6KHQuY2xpZW50WCtlLmNsaWVudFgpLzIsY2xpZW50WToodC5jbGllbnRZK2UuY2xpZW50WSkvMn06dH1jb25zdCB1PXQ9Plwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCYmdC5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSxmPSh0LC4uLmUpPT57Y29uc3QgaT1lLmxlbmd0aDtmb3IobGV0IG49MDtuPGk7bisrKXtjb25zdCBpPWVbbl18fHt9O09iamVjdC5lbnRyaWVzKGkpLmZvckVhY2goKChbZSxpXSk9Pntjb25zdCBuPUFycmF5LmlzQXJyYXkoaSk/W106e307dFtlXXx8T2JqZWN0LmFzc2lnbih0LHtbZV06bn0pLHUoaSk/T2JqZWN0LmFzc2lnbih0W2VdLGYobixpKSk6QXJyYXkuaXNBcnJheShpKT9PYmplY3QuYXNzaWduKHQse1tlXTpbLi4uaV19KTpPYmplY3QuYXNzaWduKHQse1tlXTppfSl9KSl9cmV0dXJuIHR9LHA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zcGxpdChcIi5cIikucmVkdWNlKCgodCxlKT0+XCJvYmplY3RcIj09dHlwZW9mIHQ/dFtlXTp2b2lkIDApLGUpfTtjbGFzcyBne2NvbnN0cnVjdG9yKHQ9e30pe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwib3B0aW9uc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJldmVudHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bmV3IE1hcH0pLHRoaXMuc2V0T3B0aW9ucyh0KTtmb3IoY29uc3QgdCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpKXQuc3RhcnRzV2l0aChcIm9uXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW3RdJiYodGhpc1t0XT10aGlzW3RdLmJpbmQodGhpcykpfXNldE9wdGlvbnModCl7dGhpcy5vcHRpb25zPXQ/Zih7fSx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzLHQpOnt9O2Zvcihjb25zdFt0LGVdb2YgT2JqZWN0LmVudHJpZXModGhpcy5vcHRpb24oXCJvblwiKXx8e30pKXRoaXMub24odCxlKX1vcHRpb24odCwuLi5lKXtsZXQgaT1wKHQsdGhpcy5vcHRpb25zKTtyZXR1cm4gaSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGk9aS5jYWxsKHRoaXMsdGhpcywuLi5lKSksaX1vcHRpb25Gb3IodCxlLGksLi4ubil7bGV0IHM9cChlLHQpO3ZhciBvO1wic3RyaW5nXCIhPXR5cGVvZihvPXMpfHxpc05hTihvKXx8aXNOYU4ocGFyc2VGbG9hdChvKSl8fChzPXBhcnNlRmxvYXQocykpLFwidHJ1ZVwiPT09cyYmKHM9ITApLFwiZmFsc2VcIj09PXMmJihzPSExKSxzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYocz1zLmNhbGwodGhpcyx0aGlzLHQsLi4ubikpO2xldCBhPXAoZSx0aGlzLm9wdGlvbnMpO3JldHVybiBhJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP3M9YS5jYWxsKHRoaXMsdGhpcyx0LC4uLm4scyk6dm9pZCAwPT09cyYmKHM9YSksdm9pZCAwPT09cz9pOnN9Y24odCl7Y29uc3QgZT10aGlzLm9wdGlvbnMuY2xhc3NlcztyZXR1cm4gZSYmZVt0XXx8XCJcIn1sb2NhbGl6ZSh0LGU9W10pe3Q9U3RyaW5nKHQpLnJlcGxhY2UoL1xce1xceyhcXHcrKS4/KFxcdyspP1xcfVxcfS9nLCgodCxlLGkpPT57bGV0IG49XCJcIjtyZXR1cm4gaT9uPXRoaXMub3B0aW9uKGAke2VbMF0rZS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygxKX0ubDEwbi4ke2l9YCk6ZSYmKG49dGhpcy5vcHRpb24oYGwxMG4uJHtlfWApKSxufHwobj10KSxufSkpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXQ9dC5zcGxpdChlW2ldWzBdKS5qb2luKGVbaV1bMV0pO3JldHVybiB0PXQucmVwbGFjZSgvXFx7XFx7KC4qPylcXH1cXH0vZywoKHQsZSk9PmUpKX1vbih0LGUpe2xldCBpPVtdO1wic3RyaW5nXCI9PXR5cGVvZiB0P2k9dC5zcGxpdChcIiBcIik6QXJyYXkuaXNBcnJheSh0KSYmKGk9dCksdGhpcy5ldmVudHN8fCh0aGlzLmV2ZW50cz1uZXcgTWFwKSxpLmZvckVhY2goKHQ9PntsZXQgaT10aGlzLmV2ZW50cy5nZXQodCk7aXx8KHRoaXMuZXZlbnRzLnNldCh0LFtdKSxpPVtdKSxpLmluY2x1ZGVzKGUpfHxpLnB1c2goZSksdGhpcy5ldmVudHMuc2V0KHQsaSl9KSl9b2ZmKHQsZSl7bGV0IGk9W107XCJzdHJpbmdcIj09dHlwZW9mIHQ/aT10LnNwbGl0KFwiIFwiKTpBcnJheS5pc0FycmF5KHQpJiYoaT10KSxpLmZvckVhY2goKHQ9Pntjb25zdCBpPXRoaXMuZXZlbnRzLmdldCh0KTtpZihBcnJheS5pc0FycmF5KGkpKXtjb25zdCB0PWkuaW5kZXhPZihlKTt0Pi0xJiZpLnNwbGljZSh0LDEpfX0pKX1lbWl0KHQsLi4uZSl7Wy4uLnRoaXMuZXZlbnRzLmdldCh0KXx8W11dLmZvckVhY2goKHQ9PnQodGhpcywuLi5lKSkpLFwiKlwiIT09dCYmdGhpcy5lbWl0KFwiKlwiLHQsLi4uZSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwidmVyc2lvblwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpcIjUuMC4yOFwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJkZWZhdWx0c1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7fX0pO2NsYXNzIG0gZXh0ZW5kcyBne2NvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGx1Z2luc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7fX0pfWF0dGFjaFBsdWdpbnModD17fSl7Y29uc3QgZT1uZXcgTWFwO2Zvcihjb25zdFtpLG5db2YgT2JqZWN0LmVudHJpZXModCkpe2NvbnN0IHQ9dGhpcy5vcHRpb24oaSkscz10aGlzLnBsdWdpbnNbaV07c3x8ITE9PT10P3MmJiExPT09dCYmKHMuZGV0YWNoKCksZGVsZXRlIHRoaXMucGx1Z2luc1tpXSk6ZS5zZXQoaSxuZXcgbih0aGlzLHR8fHt9KSl9Zm9yKGNvbnN0W3QsaV1vZiBlKXRoaXMucGx1Z2luc1t0XT1pLGkuYXR0YWNoKCl9ZGV0YWNoUGx1Z2lucyh0KXt0PXR8fE9iamVjdC5rZXlzKHRoaXMucGx1Z2lucyk7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD10aGlzLnBsdWdpbnNbZV07dCYmdC5kZXRhY2goKSxkZWxldGUgdGhpcy5wbHVnaW5zW2VdfXJldHVybiB0aGlzLmVtaXQoXCJkZXRhY2hQbHVnaW5zXCIpLHRoaXN9fXZhciBiOyFmdW5jdGlvbih0KXt0W3QuSW5pdD0wXT1cIkluaXRcIix0W3QuRXJyb3I9MV09XCJFcnJvclwiLHRbdC5SZWFkeT0yXT1cIlJlYWR5XCIsdFt0LlBhbm5pbmc9M109XCJQYW5uaW5nXCIsdFt0Lk1vdXNlbW92ZT00XT1cIk1vdXNlbW92ZVwiLHRbdC5EZXN0cm95PTVdPVwiRGVzdHJveVwifShifHwoYj17fSkpO2NvbnN0IHY9W1wiYVwiLFwiYlwiLFwiY1wiLFwiZFwiLFwiZVwiLFwiZlwiXSx5PXtQQU5VUDpcIk1vdmUgdXBcIixQQU5ET1dOOlwiTW92ZSBkb3duXCIsUEFOTEVGVDpcIk1vdmUgbGVmdFwiLFBBTlJJR0hUOlwiTW92ZSByaWdodFwiLFpPT01JTjpcIlpvb20gaW5cIixaT09NT1VUOlwiWm9vbSBvdXRcIixUT0dHTEVaT09NOlwiVG9nZ2xlIHpvb20gbGV2ZWxcIixUT0dHTEUxVE8xOlwiVG9nZ2xlIHpvb20gbGV2ZWxcIixJVEVSQVRFWk9PTTpcIlRvZ2dsZSB6b29tIGxldmVsXCIsUk9UQVRFQ0NXOlwiUm90YXRlIGNvdW50ZXJjbG9ja3dpc2VcIixST1RBVEVDVzpcIlJvdGF0ZSBjbG9ja3dpc2VcIixGTElQWDpcIkZsaXAgaG9yaXpvbnRhbGx5XCIsRkxJUFk6XCJGbGlwIHZlcnRpY2FsbHlcIixGSVRYOlwiRml0IGhvcml6b250YWxseVwiLEZJVFk6XCJGaXQgdmVydGljYWxseVwiLFJFU0VUOlwiUmVzZXRcIixUT0dHTEVGUzpcIlRvZ2dsZSBmdWxsc2NyZWVuXCJ9LHc9e2NvbnRlbnQ6bnVsbCx3aWR0aDpcImF1dG9cIixoZWlnaHQ6XCJhdXRvXCIscGFuTW9kZTpcImRyYWdcIix0b3VjaDohMCxkcmFnTWluVGhyZXNob2xkOjMsbG9ja0F4aXM6ITEsbW91c2VNb3ZlRmFjdG9yOjEsbW91c2VNb3ZlRnJpY3Rpb246LjEyLHpvb206ITAscGluY2hUb1pvb206ITAscGFuT25seVpvb21lZDpcImF1dG9cIixtaW5TY2FsZToxLG1heFNjYWxlOjIsZnJpY3Rpb246LjI1LGRyYWdGcmljdGlvbjouMzUsZGVjZWxGcmljdGlvbjouMDUsY2xpY2s6XCJ0b2dnbGVab29tXCIsZGJsQ2xpY2s6ITEsd2hlZWw6XCJ6b29tXCIsd2hlZWxMaW1pdDo3LHNwaW5uZXI6ITAsYm91bmRzOlwiYXV0b1wiLGluZmluaXRlOiExLHJ1YmJlcmJhbmQ6ITAsYm91bmNlOiEwLG1heFZlbG9jaXR5Ojc1LHRyYW5zZm9ybVBhcmVudDohMSxjbGFzc2VzOntjb250ZW50OlwiZi1wYW56b29tX19jb250ZW50XCIsaXNMb2FkaW5nOlwiaXMtbG9hZGluZ1wiLGNhblpvb21JbjpcImNhbi16b29tX2luXCIsY2FuWm9vbU91dDpcImNhbi16b29tX291dFwiLGlzRHJhZ2dhYmxlOlwiaXMtZHJhZ2dhYmxlXCIsaXNEcmFnZ2luZzpcImlzLWRyYWdnaW5nXCIsaW5GdWxsc2NyZWVuOlwiaW4tZnVsbHNjcmVlblwiLGh0bWxIYXNGdWxsc2NyZWVuOlwid2l0aC1wYW56b29tLWluLWZ1bGxzY3JlZW5cIn0sbDEwbjp5fSx4PSc8ZGl2IGNsYXNzPVwiZi1zcGlubmVyXCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDUwIDUwXCI+PGNpcmNsZSBjeD1cIjI1XCIgY3k9XCIyNVwiIHI9XCIyMFwiPjwvY2lyY2xlPjxjaXJjbGUgY3g9XCIyNVwiIGN5PVwiMjVcIiByPVwiMjBcIj48L2NpcmNsZT48L3N2Zz48L2Rpdj4nLEU9dD0+dCYmbnVsbCE9PXQmJnQgaW5zdGFuY2VvZiBFbGVtZW50JiZcIm5vZGVUeXBlXCJpbiB0LFM9KHQsZSk9Pnt0JiZvKGUpLmZvckVhY2goKGU9Pnt0LmNsYXNzTGlzdC5yZW1vdmUoZSl9KSl9LFA9KHQsZSk9Pnt0JiZvKGUpLmZvckVhY2goKGU9Pnt0LmNsYXNzTGlzdC5hZGQoZSl9KSl9LEM9e2E6MSxiOjAsYzowLGQ6MSxlOjAsZjowfSxUPTFlNSxNPTFlNCxPPVwibW91c2Vtb3ZlXCIsQT1cImRyYWdcIixMPVwiY29udGVudFwiO2xldCB6PW51bGwsUj1udWxsO2NsYXNzIGsgZXh0ZW5kcyBte2dldCBmaXRzKCl7cmV0dXJuIHRoaXMuY29udGVudFJlY3Qud2lkdGgtdGhpcy5jb250ZW50UmVjdC5maXRXaWR0aDwxJiZ0aGlzLmNvbnRlbnRSZWN0LmhlaWdodC10aGlzLmNvbnRlbnRSZWN0LmZpdEhlaWdodDwxfWdldCBpc1RvdWNoRGV2aWNlKCl7cmV0dXJuIG51bGw9PT1SJiYoUj13aW5kb3cubWF0Y2hNZWRpYShcIihob3Zlcjogbm9uZSlcIikubWF0Y2hlcyksUn1nZXQgaXNNb2JpbGUoKXtyZXR1cm4gbnVsbD09PXomJih6PS9pUGhvbmV8aVBhZHxpUG9kfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSx6fWdldCBwYW5Nb2RlKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wYW5Nb2RlIT09T3x8dGhpcy5pc1RvdWNoRGV2aWNlP0E6T31nZXQgcGFuT25seVpvb21lZCgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLnBhbk9ubHlab29tZWQ7cmV0dXJuXCJhdXRvXCI9PT10P3RoaXMuaXNUb3VjaERldmljZTp0fWdldCBpc0luZmluaXRlKCl7cmV0dXJuIHRoaXMub3B0aW9uKFwiaW5maW5pdGVcIil9Z2V0IGFuZ2xlKCl7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKHRoaXMuY3VycmVudC5iLHRoaXMuY3VycmVudC5hKS9NYXRoLlBJfHwwfWdldCB0YXJnZXRBbmdsZSgpe3JldHVybiAxODAqTWF0aC5hdGFuMih0aGlzLnRhcmdldC5iLHRoaXMudGFyZ2V0LmEpL01hdGguUEl8fDB9Z2V0IHNjYWxlKCl7Y29uc3R7YTp0LGI6ZX09dGhpcy5jdXJyZW50O3JldHVybiBNYXRoLnNxcnQodCp0K2UqZSl8fDF9Z2V0IHRhcmdldFNjYWxlKCl7Y29uc3R7YTp0LGI6ZX09dGhpcy50YXJnZXQ7cmV0dXJuIE1hdGguc3FydCh0KnQrZSplKXx8MX1nZXQgbWluU2NhbGUoKXtyZXR1cm4gdGhpcy5vcHRpb24oXCJtaW5TY2FsZVwiKXx8MX1nZXQgZnVsbFNjYWxlKCl7Y29uc3R7Y29udGVudFJlY3Q6dH09dGhpcztyZXR1cm4gdC5mdWxsV2lkdGgvdC5maXRXaWR0aHx8MX1nZXQgbWF4U2NhbGUoKXtyZXR1cm4gdGhpcy5mdWxsU2NhbGUqKHRoaXMub3B0aW9uKFwibWF4U2NhbGVcIil8fDEpfHwxfWdldCBjb3ZlclNjYWxlKCl7Y29uc3R7Y29udGFpbmVyUmVjdDp0LGNvbnRlbnRSZWN0OmV9PXRoaXMsaT1NYXRoLm1heCh0LmhlaWdodC9lLmZpdEhlaWdodCx0LndpZHRoL2UuZml0V2lkdGgpfHwxO3JldHVybiBNYXRoLm1pbih0aGlzLmZ1bGxTY2FsZSxpKX1nZXQgaXNTY2FsaW5nKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMudGFyZ2V0U2NhbGUtdGhpcy5zY2FsZSk+MWUtNSYmIXRoaXMuaXNSZXN0aW5nfWdldCBpc0NvbnRlbnRMb2FkaW5nKCl7Y29uc3QgdD10aGlzLmNvbnRlbnQ7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpJiYhdC5jb21wbGV0ZX1nZXQgaXNSZXN0aW5nKCl7aWYodGhpcy5pc0JvdW5jaW5nWHx8dGhpcy5pc0JvdW5jaW5nWSlyZXR1cm4hMTtmb3IoY29uc3QgdCBvZiB2KXtjb25zdCBlPVwiZVwiPT10fHxcImZcIj09PXQ/MWUtNDoxZS01O2lmKE1hdGguYWJzKHRoaXMudGFyZ2V0W3RdLXRoaXMuY3VycmVudFt0XSk+ZSlyZXR1cm4hMX1yZXR1cm4hKCF0aGlzLmlnbm9yZUJvdW5kcyYmIXRoaXMuY2hlY2tCb3VuZHMoKS5pbkJvdW5kcyl9Y29uc3RydWN0b3IodCxlPXt9LGk9e30pe3ZhciBuO2lmKHN1cGVyKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicG9pbnRlclRyYWNrZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicmVzaXplT2JzZXJ2ZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidXBkYXRlVGltZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY2xpY2tUaW1lclwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyQUZcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNUaWNraW5nXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZ25vcmVCb3VuZHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzQm91bmNpbmdYXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc0JvdW5jaW5nWVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY2xpY2tzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRyYWNraW5nUG9pbnRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOltdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwd3RcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY3dkXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBtbWVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJmcmljdGlvblwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTowfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpiLkluaXR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzRHJhZ2dpbmdcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRhaW5lclwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRlbnRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzcGlubmVyXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRhaW5lclJlY3RcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6e3dpZHRoOjAsaGVpZ2h0OjAsaW5uZXJXaWR0aDowLGlubmVySGVpZ2h0OjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb250ZW50UmVjdFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjAsZnVsbFdpZHRoOjAsZnVsbEhlaWdodDowLGZpdFdpZHRoOjAsZml0SGVpZ2h0OjAsd2lkdGg6MCxoZWlnaHQ6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRyYWdTdGFydFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7eDowLHk6MCx0b3A6MCxsZWZ0OjAsdGltZTowfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZHJhZ09mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7eDowLHk6MCx0aW1lOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjdXJyZW50XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk9iamVjdC5hc3NpZ24oe30sQyl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRhcmdldFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpPYmplY3QuYXNzaWduKHt9LEMpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ2ZWxvY2l0eVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7YTowLGI6MCxjOjAsZDowLGU6MCxmOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsb2NrZWRBeGlzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSksIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIEVsZW1lbnQgTm90IEZvdW5kXCIpO3RoaXMuY29udGFpbmVyPXQsdGhpcy5pbml0Q29udGVudCgpLHRoaXMuYXR0YWNoUGx1Z2lucyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30say5QbHVnaW5zKSxpKSksdGhpcy5lbWl0KFwiYXR0YWNoUGx1Z2luc1wiKSx0aGlzLmVtaXQoXCJpbml0XCIpO2NvbnN0IG89dGhpcy5jb250ZW50O2lmKG8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLm9uTG9hZCksby5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0aGlzLm9uRXJyb3IpLHRoaXMuaXNDb250ZW50TG9hZGluZyl7aWYodGhpcy5vcHRpb24oXCJzcGlubmVyXCIpKXt0LmNsYXNzTGlzdC5hZGQodGhpcy5jbihcImlzTG9hZGluZ1wiKSk7Y29uc3QgZT1zKHgpOyF0LmNvbnRhaW5zKG8pfHxvLnBhcmVudEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MUGljdHVyZUVsZW1lbnQ/dGhpcy5zcGlubmVyPXQuYXBwZW5kQ2hpbGQoZSk6dGhpcy5zcGlubmVyPShudWxsPT09KG49by5wYXJlbnRFbGVtZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi5pbnNlcnRCZWZvcmUoZSxvKSl8fG51bGx9dGhpcy5lbWl0KFwiYmVmb3JlTG9hZFwiKX1lbHNlIHF1ZXVlTWljcm90YXNrKCgoKT0+e3RoaXMuZW5hYmxlKCl9KSl9aW5pdENvbnRlbnQoKXtjb25zdHtjb250YWluZXI6dH09dGhpcyxlPXRoaXMuY24oTCk7bGV0IGk9dGhpcy5vcHRpb24oTCl8fHQucXVlcnlTZWxlY3RvcihgLiR7ZX1gKTtpZihpfHwoaT10LnF1ZXJ5U2VsZWN0b3IoXCJpbWcscGljdHVyZVwiKXx8dC5maXJzdEVsZW1lbnRDaGlsZCxpJiZQKGksZSkpLGkgaW5zdGFuY2VvZiBIVE1MUGljdHVyZUVsZW1lbnQmJihpPWkucXVlcnlTZWxlY3RvcihcImltZ1wiKSksIWkpdGhyb3cgbmV3IEVycm9yKFwiTm8gY29udGVudCBmb3VuZFwiKTt0aGlzLmNvbnRlbnQ9aX1vbkxvYWQoKXtjb25zdHtzcGlubmVyOnQsY29udGFpbmVyOmUsc3RhdGU6aX09dGhpczt0JiYodC5yZW1vdmUoKSx0aGlzLnNwaW5uZXI9bnVsbCksdGhpcy5vcHRpb24oXCJzcGlubmVyXCIpJiZlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbihcImlzTG9hZGluZ1wiKSksdGhpcy5lbWl0KFwiYWZ0ZXJMb2FkXCIpLGk9PT1iLkluaXQ/dGhpcy5lbmFibGUoKTp0aGlzLnVwZGF0ZU1ldHJpY3MoKX1vbkVycm9yKCl7dGhpcy5zdGF0ZSE9PWIuRGVzdHJveSYmKHRoaXMuc3Bpbm5lciYmKHRoaXMuc3Bpbm5lci5yZW1vdmUoKSx0aGlzLnNwaW5uZXI9bnVsbCksdGhpcy5zdG9wKCksdGhpcy5kZXRhY2hFdmVudHMoKSx0aGlzLnN0YXRlPWIuRXJyb3IsdGhpcy5lbWl0KFwiZXJyb3JcIikpfWF0dGFjaE9ic2VydmVyKCl7dmFyIHQ7Y29uc3QgZT0oKT0+e2NvbnN0e2NvbnRhaW5lcjp0LGNvbnRhaW5lclJlY3Q6ZX09dGhpcztyZXR1cm4gTWF0aC5hYnMoZS53aWR0aC10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKT4uMXx8TWF0aC5hYnMoZS5oZWlnaHQtdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQpPi4xfTt0aGlzLnJlc2l6ZU9ic2VydmVyfHx2b2lkIDA9PT13aW5kb3cuUmVzaXplT2JzZXJ2ZXJ8fCh0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcigoKCk9Pnt0aGlzLnVwZGF0ZVRpbWVyfHwoZSgpPyh0aGlzLm9uUmVzaXplKCksdGhpcy5pc01vYmlsZSYmKHRoaXMudXBkYXRlVGltZXI9c2V0VGltZW91dCgoKCk9PntlKCkmJnRoaXMub25SZXNpemUoKSx0aGlzLnVwZGF0ZVRpbWVyPW51bGx9KSw1MDApKSk6dGhpcy51cGRhdGVUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZVRpbWVyKSx0aGlzLnVwZGF0ZVRpbWVyPW51bGwpKX0pKSksbnVsbD09PSh0PXRoaXMucmVzaXplT2JzZXJ2ZXIpfHx2b2lkIDA9PT10fHx0Lm9ic2VydmUodGhpcy5jb250YWluZXIpfWRldGFjaE9ic2VydmVyKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMucmVzaXplT2JzZXJ2ZXIpfHx2b2lkIDA9PT10fHx0LmRpc2Nvbm5lY3QoKX1hdHRhY2hFdmVudHMoKXtjb25zdHtjb250YWluZXI6dH09dGhpczt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayx7cGFzc2l2ZTohMSxjYXB0dXJlOiExfSksdC5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLm9uV2hlZWwse3Bhc3NpdmU6ITF9KSx0aGlzLnBvaW50ZXJUcmFja2VyPW5ldyBjKHQse3N0YXJ0OnRoaXMub25Qb2ludGVyRG93bixtb3ZlOnRoaXMub25Qb2ludGVyTW92ZSxlbmQ6dGhpcy5vblBvaW50ZXJVcH0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoTyx0aGlzLm9uTW91c2VNb3ZlKX1kZXRhY2hFdmVudHMoKXt2YXIgdDtjb25zdHtjb250YWluZXI6ZX09dGhpcztlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayx7cGFzc2l2ZTohMSxjYXB0dXJlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLm9uV2hlZWwse3Bhc3NpdmU6ITF9KSxudWxsPT09KHQ9dGhpcy5wb2ludGVyVHJhY2tlcil8fHZvaWQgMD09PXR8fHQuc3RvcCgpLHRoaXMucG9pbnRlclRyYWNrZXI9bnVsbCxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKE8sdGhpcy5vbk1vdXNlTW92ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLm9uS2V5ZG93biwhMCksdGhpcy5jbGlja1RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lciksdGhpcy5jbGlja1RpbWVyPW51bGwpLHRoaXMudXBkYXRlVGltZXImJihjbGVhclRpbWVvdXQodGhpcy51cGRhdGVUaW1lciksdGhpcy51cGRhdGVUaW1lcj1udWxsKX1hbmltYXRlKCl7dGhpcy5zZXRUYXJnZXRGb3JjZSgpO2NvbnN0IHQ9dGhpcy5mcmljdGlvbixlPXRoaXMub3B0aW9uKFwibWF4VmVsb2NpdHlcIik7Zm9yKGNvbnN0IGkgb2Ygdil0Pyh0aGlzLnZlbG9jaXR5W2ldKj0xLXQsZSYmIXRoaXMuaXNTY2FsaW5nJiYodGhpcy52ZWxvY2l0eVtpXT1NYXRoLm1heChNYXRoLm1pbih0aGlzLnZlbG9jaXR5W2ldLGUpLC0xKmUpKSx0aGlzLmN1cnJlbnRbaV0rPXRoaXMudmVsb2NpdHlbaV0pOnRoaXMuY3VycmVudFtpXT10aGlzLnRhcmdldFtpXTt0aGlzLnNldFRyYW5zZm9ybSgpLHRoaXMuc2V0RWRnZUZvcmNlKCksIXRoaXMuaXNSZXN0aW5nfHx0aGlzLmlzRHJhZ2dpbmc/dGhpcy5yQUY9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+dGhpcy5hbmltYXRlKCkpKTp0aGlzLnN0b3AoXCJjdXJyZW50XCIpfXNldFRhcmdldEZvcmNlKCl7Zm9yKGNvbnN0IHQgb2YgdilcImVcIj09PXQmJnRoaXMuaXNCb3VuY2luZ1h8fFwiZlwiPT09dCYmdGhpcy5pc0JvdW5jaW5nWXx8KHRoaXMudmVsb2NpdHlbdF09KDEvKDEtdGhpcy5mcmljdGlvbiktMSkqKHRoaXMudGFyZ2V0W3RdLXRoaXMuY3VycmVudFt0XSkpfWNoZWNrQm91bmRzKHQ9MCxlPTApe2NvbnN0e2N1cnJlbnQ6aX09dGhpcyxuPWkuZSt0LHM9aS5mK2Usbz10aGlzLmdldEJvdW5kcygpLHt4OmEseTpyfT1vLGw9YS5taW4sYz1hLm1heCxoPXIubWluLGQ9ci5tYXg7bGV0IHU9MCxmPTA7cmV0dXJuIGwhPT0xLzAmJm48bD91PWwtbjpjIT09MS8wJiZuPmMmJih1PWMtbiksaCE9PTEvMCYmczxoP2Y9aC1zOmQhPT0xLzAmJnM+ZCYmKGY9ZC1zKSxNYXRoLmFicyh1KTwxZS00JiYodT0wKSxNYXRoLmFicyhmKTwxZS00JiYoZj0wKSxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbykse3hEaWZmOnUseURpZmY6ZixpbkJvdW5kczohdSYmIWZ9KX1jbGFtcFRhcmdldEJvdW5kcygpe2NvbnN0e3RhcmdldDp0fT10aGlzLHt4OmUseTppfT10aGlzLmdldEJvdW5kcygpO2UubWluIT09MS8wJiYodC5lPU1hdGgubWF4KHQuZSxlLm1pbikpLGUubWF4IT09MS8wJiYodC5lPU1hdGgubWluKHQuZSxlLm1heCkpLGkubWluIT09MS8wJiYodC5mPU1hdGgubWF4KHQuZixpLm1pbikpLGkubWF4IT09MS8wJiYodC5mPU1hdGgubWluKHQuZixpLm1heCkpfWNhbGN1bGF0ZUNvbnRlbnREaW0odD10aGlzLmN1cnJlbnQpe2NvbnN0e2NvbnRlbnQ6ZSxjb250ZW50UmVjdDppfT10aGlzLHtmaXRXaWR0aDpuLGZpdEhlaWdodDpzLGZ1bGxXaWR0aDpvLGZ1bGxIZWlnaHQ6YX09aTtsZXQgcj1vLGw9YTtpZih0aGlzLm9wdGlvbihcInpvb21cIil8fDAhPT10aGlzLmFuZ2xlKXtjb25zdCBpPSEoZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpJiYoXCJub25lXCI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5tYXhXaWR0aHx8XCJub25lXCI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5tYXhIZWlnaHQpLGM9aT9vOm4saD1pP2E6cyxkPXRoaXMuZ2V0TWF0cml4KHQpLHU9bmV3IERPTVBvaW50KDAsMCkubWF0cml4VHJhbnNmb3JtKGQpLGY9bmV3IERPTVBvaW50KDArYywwKS5tYXRyaXhUcmFuc2Zvcm0oZCkscD1uZXcgRE9NUG9pbnQoMCtjLDAraCkubWF0cml4VHJhbnNmb3JtKGQpLGc9bmV3IERPTVBvaW50KDAsMCtoKS5tYXRyaXhUcmFuc2Zvcm0oZCksbT1NYXRoLmFicyhwLngtdS54KSxiPU1hdGguYWJzKHAueS11LnkpLHY9TWF0aC5hYnMoZy54LWYueCkseT1NYXRoLmFicyhnLnktZi55KTtyPU1hdGgubWF4KG0sdiksbD1NYXRoLm1heChiLHkpfXJldHVybntjb250ZW50V2lkdGg6cixjb250ZW50SGVpZ2h0Omx9fXNldEVkZ2VGb3JjZSgpe2lmKHRoaXMuaWdub3JlQm91bmRzfHx0aGlzLmlzRHJhZ2dpbmd8fHRoaXMucGFuTW9kZT09PU98fHRoaXMudGFyZ2V0U2NhbGU8dGhpcy5zY2FsZSlyZXR1cm4gdGhpcy5pc0JvdW5jaW5nWD0hMSx2b2lkKHRoaXMuaXNCb3VuY2luZ1k9ITEpO2NvbnN0e3RhcmdldDp0fT10aGlzLHt4OmUseTppLHhEaWZmOm4seURpZmY6c309dGhpcy5jaGVja0JvdW5kcygpO2NvbnN0IG89dGhpcy5vcHRpb24oXCJtYXhWZWxvY2l0eVwiKTtsZXQgYT10aGlzLnZlbG9jaXR5LmUscj10aGlzLnZlbG9jaXR5LmY7MCE9PW4/KHRoaXMuaXNCb3VuY2luZ1g9ITAsbiphPD0wP2ErPS4xNCpuOihhPS4xNCpuLGUubWluIT09MS8wJiYodGhpcy50YXJnZXQuZT1NYXRoLm1heCh0LmUsZS5taW4pKSxlLm1heCE9PTEvMCYmKHRoaXMudGFyZ2V0LmU9TWF0aC5taW4odC5lLGUubWF4KSkpLG8mJihhPU1hdGgubWF4KE1hdGgubWluKGEsbyksLTEqbykpKTp0aGlzLmlzQm91bmNpbmdYPSExLDAhPT1zPyh0aGlzLmlzQm91bmNpbmdZPSEwLHMqcjw9MD9yKz0uMTQqczoocj0uMTQqcyxpLm1pbiE9PTEvMCYmKHRoaXMudGFyZ2V0LmY9TWF0aC5tYXgodC5mLGkubWluKSksaS5tYXghPT0xLzAmJih0aGlzLnRhcmdldC5mPU1hdGgubWluKHQuZixpLm1heCkpKSxvJiYocj1NYXRoLm1heChNYXRoLm1pbihyLG8pLC0xKm8pKSk6dGhpcy5pc0JvdW5jaW5nWT0hMSx0aGlzLmlzQm91bmNpbmdYJiYodGhpcy52ZWxvY2l0eS5lPWEpLHRoaXMuaXNCb3VuY2luZ1kmJih0aGlzLnZlbG9jaXR5LmY9cil9ZW5hYmxlKCl7Y29uc3R7Y29udGVudDp0fT10aGlzLGU9bmV3IERPTU1hdHJpeFJlYWRPbmx5KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLnRyYW5zZm9ybSk7Zm9yKGNvbnN0IHQgb2Ygdil0aGlzLmN1cnJlbnRbdF09dGhpcy50YXJnZXRbdF09ZVt0XTt0aGlzLnVwZGF0ZU1ldHJpY3MoKSx0aGlzLmF0dGFjaE9ic2VydmVyKCksdGhpcy5hdHRhY2hFdmVudHMoKSx0aGlzLnN0YXRlPWIuUmVhZHksdGhpcy5lbWl0KFwicmVhZHlcIil9b25DbGljayh0KXt2YXIgZTtcImNsaWNrXCI9PT10LnR5cGUmJjA9PT10LmRldGFpbCYmKHRoaXMuZHJhZ09mZnNldC54PTAsdGhpcy5kcmFnT2Zmc2V0Lnk9MCksdGhpcy5pc0RyYWdnaW5nJiYobnVsbD09PShlPXRoaXMucG9pbnRlclRyYWNrZXIpfHx2b2lkIDA9PT1lfHxlLmNsZWFyKCksdGhpcy50cmFja2luZ1BvaW50cz1bXSx0aGlzLnN0YXJ0RGVjZWxBbmltKCkpO2NvbnN0IGk9dC50YXJnZXQ7aWYoIWl8fHQuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47aWYoaS5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdC5zdG9wUHJvcGFnYXRpb24oKTtpZigoKCk9Pntjb25zdCB0PXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gdCYmXCJSYW5nZVwiPT09dC50eXBlfSkoKSYmIWkuY2xvc2VzdChcImJ1dHRvblwiKSlyZXR1cm47Y29uc3Qgbj1pLmNsb3Nlc3QoXCJbZGF0YS1wYW56b29tLWFjdGlvbl1cIikscz1pLmNsb3Nlc3QoXCJbZGF0YS1wYW56b29tLWNoYW5nZV1cIiksbz1ufHxzLGE9byYmRShvKT9vLmRhdGFzZXQ6bnVsbDtpZihhKXtjb25zdCBlPWEucGFuem9vbUNoYW5nZSxpPWEucGFuem9vbUFjdGlvbjtpZigoZXx8aSkmJnQucHJldmVudERlZmF1bHQoKSxlKXtsZXQgdD17fTt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKHQpe2NvbnNvbGUmJmNvbnNvbGUud2FybihcIlRoZSBnaXZlbiBkYXRhIHdhcyBub3QgdmFsaWQgSlNPTlwiKX1yZXR1cm4gdm9pZCB0aGlzLmFwcGx5Q2hhbmdlKHQpfWlmKGkpcmV0dXJuIHZvaWQodGhpc1tpXSYmdGhpc1tpXSgpKX1pZihNYXRoLmFicyh0aGlzLmRyYWdPZmZzZXQueCk+M3x8TWF0aC5hYnModGhpcy5kcmFnT2Zmc2V0LnkpPjMpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx2b2lkIHQuc3RvcFByb3BhZ2F0aW9uKCk7aWYoaS5jbG9zZXN0KFwiW2RhdGEtZmFuY3lib3hdXCIpKXJldHVybjtjb25zdCByPXRoaXMuY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsPXRoaXMuZHJhZ1N0YXJ0O2lmKGwudGltZSYmIXRoaXMuY2FuWm9vbU91dCgpJiYoTWF0aC5hYnMoci54LWwueCk+Mnx8TWF0aC5hYnMoci55LWwueSk+MikpcmV0dXJuO3RoaXMuZHJhZ1N0YXJ0LnRpbWU9MDtjb25zdCBjPWU9Pnt0aGlzLm9wdGlvbihcInpvb21cIix0KSYmZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJi8oaXRlcmF0ZVpvb20pfCh0b2dnbGUoWm9vbXxGdWxsfENvdmVyfE1heCl8KHpvb21UbyhGaXR8Q292ZXJ8TWF4KSkpLy50ZXN0KGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW2VdJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXNbZV0oe2V2ZW50OnR9KSl9LGg9dGhpcy5vcHRpb24oXCJjbGlja1wiLHQpLGQ9dGhpcy5vcHRpb24oXCJkYmxDbGlja1wiLHQpO2Q/KHRoaXMuY2xpY2tzKyssMT09dGhpcy5jbGlja3MmJih0aGlzLmNsaWNrVGltZXI9c2V0VGltZW91dCgoKCk9PnsxPT09dGhpcy5jbGlja3M/KHRoaXMuZW1pdChcImNsaWNrXCIsdCksIXQuZGVmYXVsdFByZXZlbnRlZCYmaCYmYyhoKSk6KHRoaXMuZW1pdChcImRibENsaWNrXCIsdCksdC5kZWZhdWx0UHJldmVudGVkfHxjKGQpKSx0aGlzLmNsaWNrcz0wLHRoaXMuY2xpY2tUaW1lcj1udWxsfSksMzUwKSkpOih0aGlzLmVtaXQoXCJjbGlja1wiLHQpLCF0LmRlZmF1bHRQcmV2ZW50ZWQmJmgmJmMoaCkpfWFkZFRyYWNraW5nUG9pbnQodCl7Y29uc3QgZT10aGlzLnRyYWNraW5nUG9pbnRzLmZpbHRlcigodD0+dC50aW1lPkRhdGUubm93KCktMTAwKSk7ZS5wdXNoKHQpLHRoaXMudHJhY2tpbmdQb2ludHM9ZX1vblBvaW50ZXJEb3duKHQsZSxpKXt2YXIgbjtpZighMT09PXRoaXMub3B0aW9uKFwidG91Y2hcIix0KSlyZXR1cm4hMTt0aGlzLnB3dD0wLHRoaXMuZHJhZ09mZnNldD17eDowLHk6MCx0aW1lOjB9LHRoaXMudHJhY2tpbmdQb2ludHM9W107Y29uc3Qgcz10aGlzLmNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYodGhpcy5kcmFnU3RhcnQ9e3g6cy54LHk6cy55LHRvcDpzLnRvcCxsZWZ0OnMubGVmdCx0aW1lOkRhdGUubm93KCl9LHRoaXMuY2xpY2tUaW1lcilyZXR1cm4hMTtpZih0aGlzLnBhbk1vZGU9PT1PJiZ0aGlzLnRhcmdldFNjYWxlPjEpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLCExO2NvbnN0IG89dC5jb21wb3NlZFBhdGgoKVswXTtpZighaS5sZW5ndGgpe2lmKFtcIlRFWFRBUkVBXCIsXCJPUFRJT05cIixcIklOUFVUXCIsXCJTRUxFQ1RcIixcIlZJREVPXCIsXCJJRlJBTUVcIl0uaW5jbHVkZXMoby5ub2RlTmFtZSl8fG8uY2xvc2VzdChcIltjb250ZW50ZWRpdGFibGVdLFtkYXRhLXNlbGVjdGFibGVdLFtkYXRhLWRyYWdnYWJsZV0sW2RhdGEtY2xpY2thYmxlXSxbZGF0YS1wYW56b29tLWNoYW5nZV0sW2RhdGEtcGFuem9vbS1hY3Rpb25dXCIpKXJldHVybiExO251bGw9PT0obj13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpfHx2b2lkIDA9PT1ufHxuLnJlbW92ZUFsbFJhbmdlcygpfWlmKFwibW91c2Vkb3duXCI9PT10LnR5cGUpW1wiQVwiLFwiQlVUVE9OXCJdLmluY2x1ZGVzKG8ubm9kZU5hbWUpfHx0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihNYXRoLmFicyh0aGlzLnZlbG9jaXR5LmEpPi4zKXJldHVybiExO3JldHVybiB0aGlzLnRhcmdldC5lPXRoaXMuY3VycmVudC5lLHRoaXMudGFyZ2V0LmY9dGhpcy5jdXJyZW50LmYsdGhpcy5zdG9wKCksdGhpcy5pc0RyYWdnaW5nfHwodGhpcy5pc0RyYWdnaW5nPSEwLHRoaXMuYWRkVHJhY2tpbmdQb2ludChlKSx0aGlzLmVtaXQoXCJ0b3VjaFN0YXJ0XCIsdCkpLCEwfW9uUG9pbnRlck1vdmUodCxpLHMpe2lmKCExPT09dGhpcy5vcHRpb24oXCJ0b3VjaFwiLHQpKXJldHVybjtpZighdGhpcy5pc0RyYWdnaW5nKXJldHVybjtpZihpLmxlbmd0aDwyJiZ0aGlzLnBhbk9ubHlab29tZWQmJmUodGhpcy50YXJnZXRTY2FsZSk8PWUodGhpcy5taW5TY2FsZSkpcmV0dXJuO2lmKHRoaXMuZW1pdChcInRvdWNoTW92ZVwiLHQpLHQuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47dGhpcy5hZGRUcmFja2luZ1BvaW50KGlbMF0pO2NvbnN0e2NvbnRlbnQ6b309dGhpcyxhPWQoc1swXSxzWzFdKSxyPWQoaVswXSxpWzFdKTtsZXQgbD0wLGM9MDtpZihpLmxlbmd0aD4xKXtjb25zdCB0PW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bD1hLmNsaWVudFgtdC5sZWZ0LS41KnQud2lkdGgsYz1hLmNsaWVudFktdC50b3AtLjUqdC5oZWlnaHR9Y29uc3QgdT1oKHNbMF0sc1sxXSksZj1oKGlbMF0saVsxXSk7bGV0IHA9dT9mL3U6MSxnPXIuY2xpZW50WC1hLmNsaWVudFgsbT1yLmNsaWVudFktYS5jbGllbnRZO3RoaXMuZHJhZ09mZnNldC54Kz1nLHRoaXMuZHJhZ09mZnNldC55Kz1tLHRoaXMuZHJhZ09mZnNldC50aW1lPURhdGUubm93KCktdGhpcy5kcmFnU3RhcnQudGltZTtsZXQgYj1lKHRoaXMudGFyZ2V0U2NhbGUpPT09ZSh0aGlzLm1pblNjYWxlKSYmdGhpcy5vcHRpb24oXCJsb2NrQXhpc1wiKTtpZihiJiYhdGhpcy5sb2NrZWRBeGlzKWlmKFwieHlcIj09PWJ8fFwieVwiPT09Ynx8XCJ0b3VjaG1vdmVcIj09PXQudHlwZSl7aWYoTWF0aC5hYnModGhpcy5kcmFnT2Zmc2V0LngpPDYmJk1hdGguYWJzKHRoaXMuZHJhZ09mZnNldC55KTw2KXJldHVybiB2b2lkIHQucHJldmVudERlZmF1bHQoKTtjb25zdCBlPU1hdGguYWJzKDE4MCpNYXRoLmF0YW4yKHRoaXMuZHJhZ09mZnNldC55LHRoaXMuZHJhZ09mZnNldC54KS9NYXRoLlBJKTt0aGlzLmxvY2tlZEF4aXM9ZT40NSYmZTwxMzU/XCJ5XCI6XCJ4XCIsdGhpcy5kcmFnT2Zmc2V0Lng9MCx0aGlzLmRyYWdPZmZzZXQueT0wLGc9MCxtPTB9ZWxzZSB0aGlzLmxvY2tlZEF4aXM9YjtpZihuKHQudGFyZ2V0LHRoaXMuY29udGVudCkmJihiPVwieFwiLHRoaXMuZHJhZ09mZnNldC55PTApLGImJlwieHlcIiE9PWImJnRoaXMubG9ja2VkQXhpcyE9PWImJmUodGhpcy50YXJnZXRTY2FsZSk9PT1lKHRoaXMubWluU2NhbGUpKXJldHVybjt0LmNhbmNlbGFibGUmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuY24oXCJpc0RyYWdnaW5nXCIpKTtjb25zdCB2PXRoaXMuY2hlY2tCb3VuZHMoZyxtKTt0aGlzLm9wdGlvbihcInJ1YmJlcmJhbmRcIik/KFwieFwiIT09dGhpcy5pc0luZmluaXRlJiYodi54RGlmZj4wJiZnPDB8fHYueERpZmY8MCYmZz4wKSYmKGcqPU1hdGgubWF4KDAsLjUtTWF0aC5hYnMoLjc1L3RoaXMuY29udGVudFJlY3QuZml0V2lkdGgqdi54RGlmZikpKSxcInlcIiE9PXRoaXMuaXNJbmZpbml0ZSYmKHYueURpZmY+MCYmbTwwfHx2LnlEaWZmPDAmJm0+MCkmJihtKj1NYXRoLm1heCgwLC41LU1hdGguYWJzKC43NS90aGlzLmNvbnRlbnRSZWN0LmZpdEhlaWdodCp2LnlEaWZmKSkpKToodi54RGlmZiYmKGc9MCksdi55RGlmZiYmKG09MCkpO2NvbnN0IHk9dGhpcy50YXJnZXRTY2FsZSx3PXRoaXMubWluU2NhbGUseD10aGlzLm1heFNjYWxlO3k8LjUqdyYmKHA9TWF0aC5tYXgocCx3KSkseT4xLjUqeCYmKHA9TWF0aC5taW4ocCx4KSksXCJ5XCI9PT10aGlzLmxvY2tlZEF4aXMmJmUoeSk9PT1lKHcpJiYoZz0wKSxcInhcIj09PXRoaXMubG9ja2VkQXhpcyYmZSh5KT09PWUodykmJihtPTApLHRoaXMuYXBwbHlDaGFuZ2Uoe29yaWdpblg6bCxvcmlnaW5ZOmMscGFuWDpnLHBhblk6bSxzY2FsZTpwLGZyaWN0aW9uOnRoaXMub3B0aW9uKFwiZHJhZ0ZyaWN0aW9uXCIpLGlnbm9yZUJvdW5kczohMH0pfW9uUG9pbnRlclVwKHQsZSxpKXtpZihpLmxlbmd0aClyZXR1cm4gdGhpcy5kcmFnT2Zmc2V0Lng9MCx0aGlzLmRyYWdPZmZzZXQueT0wLHZvaWQodGhpcy50cmFja2luZ1BvaW50cz1bXSk7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNuKFwiaXNEcmFnZ2luZ1wiKSksdGhpcy5pc0RyYWdnaW5nJiYodGhpcy5hZGRUcmFja2luZ1BvaW50KGUpLHRoaXMucGFuT25seVpvb21lZCYmdGhpcy5jb250ZW50UmVjdC53aWR0aC10aGlzLmNvbnRlbnRSZWN0LmZpdFdpZHRoPDEmJnRoaXMuY29udGVudFJlY3QuaGVpZ2h0LXRoaXMuY29udGVudFJlY3QuZml0SGVpZ2h0PDEmJih0aGlzLnRyYWNraW5nUG9pbnRzPVtdKSxuKHQudGFyZ2V0LHRoaXMuY29udGVudCkmJlwieVwiPT09dGhpcy5sb2NrZWRBeGlzJiYodGhpcy50cmFja2luZ1BvaW50cz1bXSksdGhpcy5lbWl0KFwidG91Y2hFbmRcIix0KSx0aGlzLmlzRHJhZ2dpbmc9ITEsdGhpcy5sb2NrZWRBeGlzPSExLHRoaXMuc3RhdGUhPT1iLkRlc3Ryb3kmJih0LmRlZmF1bHRQcmV2ZW50ZWR8fHRoaXMuc3RhcnREZWNlbEFuaW0oKSkpfXN0YXJ0RGVjZWxBbmltKCl7dmFyIHQ7Y29uc3QgaT10aGlzLmlzU2NhbGluZzt0aGlzLnJBRiYmKGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuckFGKSx0aGlzLnJBRj1udWxsKSx0aGlzLmlzQm91bmNpbmdYPSExLHRoaXMuaXNCb3VuY2luZ1k9ITE7Zm9yKGNvbnN0IHQgb2Ygdil0aGlzLnZlbG9jaXR5W3RdPTA7dGhpcy50YXJnZXQuZT10aGlzLmN1cnJlbnQuZSx0aGlzLnRhcmdldC5mPXRoaXMuY3VycmVudC5mLFModGhpcy5jb250YWluZXIsXCJpcy1zY2FsaW5nXCIpLFModGhpcy5jb250YWluZXIsXCJpcy1hbmltYXRpbmdcIiksdGhpcy5pc1RpY2tpbmc9ITE7Y29uc3R7dHJhY2tpbmdQb2ludHM6bn09dGhpcyxzPW5bMF0sbz1uW24ubGVuZ3RoLTFdO2xldCBhPTAscj0wLGw9MDtvJiZzJiYoYT1vLmNsaWVudFgtcy5jbGllbnRYLHI9by5jbGllbnRZLXMuY2xpZW50WSxsPW8udGltZS1zLnRpbWUpO2NvbnN0IGM9KG51bGw9PT0odD13aW5kb3cudmlzdWFsVmlld3BvcnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNjYWxlKXx8MTsxIT09YyYmKGEqPWMscio9Yyk7bGV0IGg9MCxkPTAsdT0wLGY9MCxwPXRoaXMub3B0aW9uKFwiZGVjZWxGcmljdGlvblwiKTtjb25zdCBnPXRoaXMudGFyZ2V0U2NhbGU7aWYobD4wKXt1PU1hdGguYWJzKGEpPjM/YS8obC8zMCk6MCxmPU1hdGguYWJzKHIpPjM/ci8obC8zMCk6MDtjb25zdCB0PXRoaXMub3B0aW9uKFwibWF4VmVsb2NpdHlcIik7dCYmKHU9TWF0aC5tYXgoTWF0aC5taW4odSx0KSwtMSp0KSxmPU1hdGgubWF4KE1hdGgubWluKGYsdCksLTEqdCkpfXUmJihoPXUvKDEvKDEtcCktMSkpLGYmJihkPWYvKDEvKDEtcCktMSkpLChcInlcIj09PXRoaXMub3B0aW9uKFwibG9ja0F4aXNcIil8fFwieHlcIj09PXRoaXMub3B0aW9uKFwibG9ja0F4aXNcIikmJlwieVwiPT09dGhpcy5sb2NrZWRBeGlzJiZlKGcpPT09dGhpcy5taW5TY2FsZSkmJihoPXU9MCksKFwieFwiPT09dGhpcy5vcHRpb24oXCJsb2NrQXhpc1wiKXx8XCJ4eVwiPT09dGhpcy5vcHRpb24oXCJsb2NrQXhpc1wiKSYmXCJ4XCI9PT10aGlzLmxvY2tlZEF4aXMmJmUoZyk9PT10aGlzLm1pblNjYWxlKSYmKGQ9Zj0wKTtjb25zdCBtPXRoaXMuZHJhZ09mZnNldC54LGI9dGhpcy5kcmFnT2Zmc2V0LnkseT10aGlzLm9wdGlvbihcImRyYWdNaW5UaHJlc2hvbGRcIil8fDA7TWF0aC5hYnMobSk8eSYmTWF0aC5hYnMoYik8eSYmKGg9ZD0wLHU9Zj0wKSwodGhpcy5vcHRpb24oXCJ6b29tXCIpJiYoZzx0aGlzLm1pblNjYWxlLTFlLTV8fGc+dGhpcy5tYXhTY2FsZSsxZS01KXx8aSYmIWgmJiFkKSYmKHA9LjM1KSx0aGlzLmFwcGx5Q2hhbmdlKHtwYW5YOmgscGFuWTpkLGZyaWN0aW9uOnB9KSx0aGlzLmVtaXQoXCJkZWNlbFwiLHUsZixtLGIpfW9uV2hlZWwodCl7dmFyIGU9Wy10LmRlbHRhWHx8MCwtdC5kZWx0YVl8fDAsLXQuZGV0YWlsfHwwXS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKGUpPk1hdGguYWJzKHQpP2U6dH0pKTtjb25zdCBpPU1hdGgubWF4KC0xLE1hdGgubWluKDEsZSkpO2lmKHRoaXMuZW1pdChcIndoZWVsXCIsdCxpKSx0aGlzLnBhbk1vZGU9PT1PKXJldHVybjtpZih0LmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO2NvbnN0IG49dGhpcy5vcHRpb24oXCJ3aGVlbFwiKTtcInBhblwiPT09bj8odC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucGFuT25seVpvb21lZCYmIXRoaXMuY2FuWm9vbU91dCgpfHx0aGlzLmFwcGx5Q2hhbmdlKHtwYW5YOjIqLXQuZGVsdGFYLHBhblk6MiotdC5kZWx0YVksYm91bmNlOiExfSkpOlwiem9vbVwiPT09biYmITEhPT10aGlzLm9wdGlvbihcInpvb21cIikmJnRoaXMuem9vbVdpdGhXaGVlbCh0KX1vbk1vdXNlTW92ZSh0KXt0aGlzLnBhbldpdGhNb3VzZSh0KX1vbktleWRvd24odCl7XCJFc2NhcGVcIj09PXQua2V5JiZ0aGlzLnRvZ2dsZUZTKCl9b25SZXNpemUoKXt0aGlzLnVwZGF0ZU1ldHJpY3MoKSx0aGlzLmNoZWNrQm91bmRzKCkuaW5Cb3VuZHN8fHRoaXMucmVxdWVzdFRpY2soKX1zZXRUcmFuc2Zvcm0oKXt0aGlzLmVtaXQoXCJiZWZvcmVUcmFuc2Zvcm1cIik7Y29uc3R7Y3VycmVudDp0LHRhcmdldDppLGNvbnRlbnQ6bixjb250ZW50UmVjdDpzfT10aGlzLG89T2JqZWN0LmFzc2lnbih7fSxDKTtmb3IoY29uc3QgbiBvZiB2KXtjb25zdCBzPVwiZVwiPT1ufHxcImZcIj09PW4/TTpUO29bbl09ZSh0W25dLHMpLE1hdGguYWJzKGlbbl0tdFtuXSk8KFwiZVwiPT1ufHxcImZcIj09PW4/LjUxOi4wMDEpJiYodFtuXT1pW25dKX1sZXR7YTphLGI6cixjOmwsZDpjLGU6aCxmOmR9PW8sdT1gbWF0cml4KCR7YX0sICR7cn0sICR7bH0sICR7Y30sICR7aH0sICR7ZH0pYCxmPW4ucGFyZW50RWxlbWVudCBpbnN0YW5jZW9mIEhUTUxQaWN0dXJlRWxlbWVudD9uLnBhcmVudEVsZW1lbnQ6bjtpZih0aGlzLm9wdGlvbihcInRyYW5zZm9ybVBhcmVudFwiKSYmKGY9Zi5wYXJlbnRFbGVtZW50fHxmKSxmLnN0eWxlLnRyYW5zZm9ybT09PXUpcmV0dXJuO2Yuc3R5bGUudHJhbnNmb3JtPXU7Y29uc3R7Y29udGVudFdpZHRoOnAsY29udGVudEhlaWdodDpnfT10aGlzLmNhbGN1bGF0ZUNvbnRlbnREaW0oKTtzLndpZHRoPXAscy5oZWlnaHQ9Zyx0aGlzLmVtaXQoXCJhZnRlclRyYW5zZm9ybVwiKX11cGRhdGVNZXRyaWNzKHQ9ITEpe3ZhciBpO2lmKCF0aGlzfHx0aGlzLnN0YXRlPT09Yi5EZXN0cm95KXJldHVybjtpZih0aGlzLmlzQ29udGVudExvYWRpbmcpcmV0dXJuO2NvbnN0IG49TWF0aC5tYXgoMSwobnVsbD09PShpPXdpbmRvdy52aXN1YWxWaWV3cG9ydCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2NhbGUpfHwxKSx7Y29udGFpbmVyOnMsY29udGVudDpvfT10aGlzLGE9byBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQscj1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lcik7bGV0IGM9ci53aWR0aCpuLGg9ci5oZWlnaHQqbjtjb25zdCBkPXBhcnNlRmxvYXQobC5wYWRkaW5nVG9wKStwYXJzZUZsb2F0KGwucGFkZGluZ0JvdHRvbSksdT1jLShwYXJzZUZsb2F0KGwucGFkZGluZ0xlZnQpK3BhcnNlRmxvYXQobC5wYWRkaW5nUmlnaHQpKSxmPWgtZDt0aGlzLmNvbnRhaW5lclJlY3Q9e3dpZHRoOmMsaGVpZ2h0OmgsaW5uZXJXaWR0aDp1LGlubmVySGVpZ2h0OmZ9O2xldCBwPXRoaXMub3B0aW9uKFwid2lkdGhcIil8fFwiYXV0b1wiLGc9dGhpcy5vcHRpb24oXCJoZWlnaHRcIil8fFwiYXV0b1wiO1wiYXV0b1wiPT09cCYmKHA9cGFyc2VGbG9hdChvLmRhdGFzZXQud2lkdGh8fFwiXCIpfHwodD0+e2xldCBlPTA7cmV0dXJuIGU9dCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/dC5uYXR1cmFsV2lkdGg6dCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ/dC53aWR0aC5iYXNlVmFsLnZhbHVlOk1hdGgubWF4KHQub2Zmc2V0V2lkdGgsdC5zY3JvbGxXaWR0aCksZXx8MH0pKG8pKSxcImF1dG9cIj09PWcmJihnPXBhcnNlRmxvYXQoby5kYXRhc2V0LmhlaWdodHx8XCJcIil8fCh0PT57bGV0IGU9MDtyZXR1cm4gZT10IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD90Lm5hdHVyYWxIZWlnaHQ6dCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ/dC5oZWlnaHQuYmFzZVZhbC52YWx1ZTpNYXRoLm1heCh0Lm9mZnNldEhlaWdodCx0LnNjcm9sbEhlaWdodCksZXx8MH0pKG8pKTtsZXQgbT1vLnBhcmVudEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MUGljdHVyZUVsZW1lbnQ/by5wYXJlbnRFbGVtZW50Om87dGhpcy5vcHRpb24oXCJ0cmFuc2Zvcm1QYXJlbnRcIikmJihtPW0ucGFyZW50RWxlbWVudHx8bSk7Y29uc3Qgdj1tLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiO20uc3R5bGUuc2V0UHJvcGVydHkoXCJ0cmFuc2Zvcm1cIixcIm5vbmVcIixcImltcG9ydGFudFwiKSxhJiYobS5zdHlsZS53aWR0aD1cIlwiLG0uc3R5bGUuaGVpZ2h0PVwiXCIpLG0ub2Zmc2V0SGVpZ2h0O2NvbnN0IHk9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsZXQgdz15LndpZHRoKm4seD15LmhlaWdodCpuLEU9MCxTPTA7YSYmKE1hdGguYWJzKHAtdyk+MXx8TWF0aC5hYnMoZy14KT4xKSYmKHt3aWR0aDp3LGhlaWdodDp4LHRvcDpFLGxlZnQ6U309KCh0LGUsaSxuKT0+e2NvbnN0IHM9aS9uO3JldHVybiBzPnQvZT8oaT10LG49dC9zKTooaT1lKnMsbj1lKSx7d2lkdGg6aSxoZWlnaHQ6bix0b3A6LjUqKGUtbiksbGVmdDouNSoodC1pKX19KSh3LHgscCxnKSksdGhpcy5jb250ZW50UmVjdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jb250ZW50UmVjdCkse3RvcDp5LnRvcC1yLnRvcCtFLGJvdHRvbTpyLmJvdHRvbS15LmJvdHRvbStFLGxlZnQ6eS5sZWZ0LXIubGVmdCtTLHJpZ2h0OnIucmlnaHQteS5yaWdodCtTLGZpdFdpZHRoOncsZml0SGVpZ2h0Ongsd2lkdGg6dyxoZWlnaHQ6eCxmdWxsV2lkdGg6cCxmdWxsSGVpZ2h0Omd9KSxtLnN0eWxlLmNzc1RleHQ9dixhJiYobS5zdHlsZS53aWR0aD1gJHt3fXB4YCxtLnN0eWxlLmhlaWdodD1gJHt4fXB4YCksdGhpcy5zZXRUcmFuc2Zvcm0oKSwhMCE9PXQmJnRoaXMuZW1pdChcInJlZnJlc2hcIiksdGhpcy5pZ25vcmVCb3VuZHN8fChlKHRoaXMudGFyZ2V0U2NhbGUpPGUodGhpcy5taW5TY2FsZSk/dGhpcy56b29tVG8odGhpcy5taW5TY2FsZSx7ZnJpY3Rpb246MH0pOnRoaXMudGFyZ2V0U2NhbGU+dGhpcy5tYXhTY2FsZT90aGlzLnpvb21Ubyh0aGlzLm1heFNjYWxlLHtmcmljdGlvbjowfSk6dGhpcy5zdGF0ZT09PWIuSW5pdHx8dGhpcy5jaGVja0JvdW5kcygpLmluQm91bmRzfHx0aGlzLnJlcXVlc3RUaWNrKCkpLHRoaXMudXBkYXRlQ29udHJvbHMoKX1jYWxjdWxhdGVCb3VuZHMoKXtjb25zdHtjb250ZW50V2lkdGg6dCxjb250ZW50SGVpZ2h0Oml9PXRoaXMuY2FsY3VsYXRlQ29udGVudERpbSh0aGlzLnRhcmdldCkse3RhcmdldFNjYWxlOm4sbG9ja2VkQXhpczpzfT10aGlzLHtmaXRXaWR0aDpvLGZpdEhlaWdodDphfT10aGlzLmNvbnRlbnRSZWN0O2xldCByPTAsbD0wLGM9MCxoPTA7Y29uc3QgZD10aGlzLm9wdGlvbihcImluZmluaXRlXCIpO2lmKCEwPT09ZHx8cyYmZD09PXMpcj0tMS8wLGM9MS8wLGw9LTEvMCxoPTEvMDtlbHNle2xldHtjb250YWluZXJSZWN0OnMsY29udGVudFJlY3Q6ZH09dGhpcyx1PWUobypuLE0pLGY9ZShhKm4sTSkse2lubmVyV2lkdGg6cCxpbm5lckhlaWdodDpnfT1zO2lmKHMud2lkdGg9PT11JiYocD1zLndpZHRoKSxzLndpZHRoPT09ZiYmKGc9cy5oZWlnaHQpLHQ+cCl7Yz0uNSoodC1wKSxyPS0xKmM7bGV0IGU9LjUqKGQucmlnaHQtZC5sZWZ0KTtyKz1lLGMrPWV9aWYobz5wJiZ0PHAmJihyLT0uNSooby1wKSxjLT0uNSooby1wKSksaT5nKXtoPS41KihpLWcpLGw9LTEqaDtsZXQgdD0uNSooZC5ib3R0b20tZC50b3ApO2wrPXQsaCs9dH1hPmcmJmk8ZyYmKHItPS41KihhLWcpLGMtPS41KihhLWcpKX1yZXR1cm57eDp7bWluOnIsbWF4OmN9LHk6e21pbjpsLG1heDpofX19Z2V0Qm91bmRzKCl7Y29uc3QgdD10aGlzLm9wdGlvbihcImJvdW5kc1wiKTtyZXR1cm5cImF1dG9cIiE9PXQ/dDp0aGlzLmNhbGN1bGF0ZUJvdW5kcygpfXVwZGF0ZUNvbnRyb2xzKCl7Y29uc3QgdD10aGlzLGk9dC5jb250YWluZXIse3Bhbk1vZGU6bixjb250ZW50UmVjdDpzLGZ1bGxTY2FsZTpvLHRhcmdldFNjYWxlOnIsY292ZXJTY2FsZTpsLG1heFNjYWxlOmMsbWluU2NhbGU6aH09dDtsZXQgZD17dG9nZ2xlTWF4OnItaDwuNSooYy1oKT9jOmgsdG9nZ2xlQ292ZXI6ci1oPC41KihsLWgpP2w6aCx0b2dnbGVab29tOnItaDwuNSooby1oKT9vOmh9W3Qub3B0aW9uKFwiY2xpY2tcIil8fFwiXCJdfHxoLHU9dC5jYW5ab29tSW4oKSxmPXQuY2FuWm9vbU91dCgpLHA9bj09PUEmJiEhdGhpcy5vcHRpb24oXCJ0b3VjaFwiKSxnPWYmJnA7aWYocCYmKGUocik8ZShoKSYmIXRoaXMucGFuT25seVpvb21lZCYmKGc9ITApLChlKHMud2lkdGgsMSk+ZShzLmZpdFdpZHRoLDEpfHxlKHMuaGVpZ2h0LDEpPmUocy5maXRIZWlnaHQsMSkpJiYoZz0hMCkpLGUocy53aWR0aCpyLDEpPGUocy5maXRXaWR0aCwxKSYmKGc9ITEpLG49PT1PJiYoZz0hMSksYShpLHRoaXMuY24oXCJpc0RyYWdnYWJsZVwiKSxnKSwhdGhpcy5vcHRpb24oXCJ6b29tXCIpKXJldHVybjtsZXQgbT11JiZlKGQpPmUociksYj0hbSYmIWcmJmYmJmUoZCk8ZShyKTthKGksdGhpcy5jbihcImNhblpvb21JblwiKSxtKSxhKGksdGhpcy5jbihcImNhblpvb21PdXRcIiksYik7Zm9yKGNvbnN0IHQgb2YgaS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYW56b29tLWFjdGlvbj1cInpvb21JblwiXScpKXU/KHQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiksdC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSk6KHQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcIlwiKSx0LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSk7Zm9yKGNvbnN0IHQgb2YgaS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYW56b29tLWFjdGlvbj1cInpvb21PdXRcIl0nKSlmPyh0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLHQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIikpOih0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJcIiksdC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIikpO2Zvcihjb25zdCB0IG9mIGkucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFuem9vbS1hY3Rpb249XCJ0b2dnbGVab29tXCJdLFtkYXRhLXBhbnpvb20tYWN0aW9uPVwiaXRlcmF0ZVpvb21cIl0nKSl7dXx8Zj8odC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSx0LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpKToodC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiXCIpLHQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpKTtjb25zdCBlPXQucXVlcnlTZWxlY3RvcihcImdcIik7ZSYmKGUuc3R5bGUuZGlzcGxheT11P1wiXCI6XCJub25lXCIpfX1wYW5Ubyh7eDp0PXRoaXMudGFyZ2V0LmUseTplPXRoaXMudGFyZ2V0LmYsc2NhbGU6aT10aGlzLnRhcmdldFNjYWxlLGZyaWN0aW9uOm49dGhpcy5vcHRpb24oXCJmcmljdGlvblwiKSxhbmdsZTpzPTAsb3JpZ2luWDpvPTAsb3JpZ2luWTphPTAsZmxpcFg6cj0hMSxmbGlwWTpsPSExLGlnbm9yZUJvdW5kczpjPSExfSl7dGhpcy5zdGF0ZSE9PWIuRGVzdHJveSYmdGhpcy5hcHBseUNoYW5nZSh7cGFuWDp0LXRoaXMudGFyZ2V0LmUscGFuWTplLXRoaXMudGFyZ2V0LmYsc2NhbGU6aS90aGlzLnRhcmdldFNjYWxlLGFuZ2xlOnMsb3JpZ2luWDpvLG9yaWdpblk6YSxmcmljdGlvbjpuLGZsaXBYOnIsZmxpcFk6bCxpZ25vcmVCb3VuZHM6Y30pfWFwcGx5Q2hhbmdlKHtwYW5YOnQ9MCxwYW5ZOmk9MCxzY2FsZTpuPTEsYW5nbGU6cz0wLG9yaWdpblg6bz0tdGhpcy5jdXJyZW50LmUsb3JpZ2luWTphPS10aGlzLmN1cnJlbnQuZixmcmljdGlvbjpyPXRoaXMub3B0aW9uKFwiZnJpY3Rpb25cIiksZmxpcFg6bD0hMSxmbGlwWTpjPSExLGlnbm9yZUJvdW5kczpoPSExLGJvdW5jZTpkPXRoaXMub3B0aW9uKFwiYm91bmNlXCIpfSl7Y29uc3QgdT10aGlzLnN0YXRlO2lmKHU9PT1iLkRlc3Ryb3kpcmV0dXJuO3RoaXMuckFGJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yQUYpLHRoaXMuckFGPW51bGwpLHRoaXMuZnJpY3Rpb249cnx8MCx0aGlzLmlnbm9yZUJvdW5kcz1oO2NvbnN0e2N1cnJlbnQ6Zn09dGhpcyxwPWYuZSxnPWYuZixtPXRoaXMuZ2V0TWF0cml4KHRoaXMudGFyZ2V0KTtsZXQgeT0obmV3IERPTU1hdHJpeCkudHJhbnNsYXRlKHAsZykudHJhbnNsYXRlKG8sYSkudHJhbnNsYXRlKHQsaSk7aWYodGhpcy5vcHRpb24oXCJ6b29tXCIpKXtpZighaCl7Y29uc3QgdD10aGlzLnRhcmdldFNjYWxlLGU9dGhpcy5taW5TY2FsZSxpPXRoaXMubWF4U2NhbGU7dCpuPGUmJihuPWUvdCksdCpuPmkmJihuPWkvdCl9eT15LnNjYWxlKG4pfXk9eS50cmFuc2xhdGUoLW8sLWEpLnRyYW5zbGF0ZSgtcCwtZykubXVsdGlwbHkobSkscyYmKHk9eS5yb3RhdGUocykpLGwmJih5PXkuc2NhbGUoLTEsMSkpLGMmJih5PXkuc2NhbGUoMSwtMSkpO2Zvcihjb25zdCB0IG9mIHYpXCJlXCIhPT10JiZcImZcIiE9PXQmJih5W3RdPnRoaXMubWluU2NhbGUrMWUtNXx8eVt0XTx0aGlzLm1pblNjYWxlLTFlLTUpP3RoaXMudGFyZ2V0W3RdPXlbdF06dGhpcy50YXJnZXRbdF09ZSh5W3RdLE0pOyh0aGlzLnRhcmdldFNjYWxlPHRoaXMuc2NhbGV8fE1hdGguYWJzKG4tMSk+LjF8fHRoaXMucGFuTW9kZT09PU98fCExPT09ZCkmJiFoJiZ0aGlzLmNsYW1wVGFyZ2V0Qm91bmRzKCksdT09PWIuSW5pdD90aGlzLmFuaW1hdGUoKTp0aGlzLmlzUmVzdGluZ3x8KHRoaXMuc3RhdGU9Yi5QYW5uaW5nLHRoaXMucmVxdWVzdFRpY2soKSl9c3RvcCh0PSExKXtpZih0aGlzLnN0YXRlPT09Yi5Jbml0fHx0aGlzLnN0YXRlPT09Yi5EZXN0cm95KXJldHVybjtjb25zdCBlPXRoaXMuaXNUaWNraW5nO3RoaXMuckFGJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yQUYpLHRoaXMuckFGPW51bGwpLHRoaXMuaXNCb3VuY2luZ1g9ITEsdGhpcy5pc0JvdW5jaW5nWT0hMTtmb3IoY29uc3QgZSBvZiB2KXRoaXMudmVsb2NpdHlbZV09MCxcImN1cnJlbnRcIj09PXQ/dGhpcy5jdXJyZW50W2VdPXRoaXMudGFyZ2V0W2VdOlwidGFyZ2V0XCI9PT10JiYodGhpcy50YXJnZXRbZV09dGhpcy5jdXJyZW50W2VdKTt0aGlzLnNldFRyYW5zZm9ybSgpLFModGhpcy5jb250YWluZXIsXCJpcy1zY2FsaW5nXCIpLFModGhpcy5jb250YWluZXIsXCJpcy1hbmltYXRpbmdcIiksdGhpcy5pc1RpY2tpbmc9ITEsdGhpcy5zdGF0ZT1iLlJlYWR5LGUmJih0aGlzLmVtaXQoXCJlbmRBbmltYXRpb25cIiksdGhpcy51cGRhdGVDb250cm9scygpKX1yZXF1ZXN0VGljaygpe3RoaXMuaXNUaWNraW5nfHwodGhpcy5lbWl0KFwic3RhcnRBbmltYXRpb25cIiksdGhpcy51cGRhdGVDb250cm9scygpLFAodGhpcy5jb250YWluZXIsXCJpcy1hbmltYXRpbmdcIiksdGhpcy5pc1NjYWxpbmcmJlAodGhpcy5jb250YWluZXIsXCJpcy1zY2FsaW5nXCIpKSx0aGlzLmlzVGlja2luZz0hMCx0aGlzLnJBRnx8KHRoaXMuckFGPXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PnRoaXMuYW5pbWF0ZSgpKSkpfXBhbldpdGhNb3VzZSh0LGk9dGhpcy5vcHRpb24oXCJtb3VzZU1vdmVGcmljdGlvblwiKSl7aWYodGhpcy5wbW1lPXQsdGhpcy5wYW5Nb2RlIT09T3x8IXQpcmV0dXJuO2lmKGUodGhpcy50YXJnZXRTY2FsZSk8PWUodGhpcy5taW5TY2FsZSkpcmV0dXJuO3RoaXMuZW1pdChcIm1vdXNlTW92ZVwiLHQpO2NvbnN0e2NvbnRhaW5lcjpuLGNvbnRhaW5lclJlY3Q6cyxjb250ZW50UmVjdDpvfT10aGlzLGE9cy53aWR0aCxyPXMuaGVpZ2h0LGw9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPSh0LmNsaWVudFh8fDApLWwubGVmdCxoPSh0LmNsaWVudFl8fDApLWwudG9wO2xldHtjb250ZW50V2lkdGg6ZCxjb250ZW50SGVpZ2h0OnV9PXRoaXMuY2FsY3VsYXRlQ29udGVudERpbSh0aGlzLnRhcmdldCk7Y29uc3QgZj10aGlzLm9wdGlvbihcIm1vdXNlTW92ZUZhY3RvclwiKTtmPjEmJihkIT09YSYmKGQqPWYpLHUhPT1yJiYodSo9ZikpO2xldCBwPS41KihkLWEpLWMvYSoxMDAvMTAwKihkLWEpO3ArPS41KihvLnJpZ2h0LW8ubGVmdCk7bGV0IGc9LjUqKHUtciktaC9yKjEwMC8xMDAqKHUtcik7Zys9LjUqKG8uYm90dG9tLW8udG9wKSx0aGlzLmFwcGx5Q2hhbmdlKHtwYW5YOnAtdGhpcy50YXJnZXQuZSxwYW5ZOmctdGhpcy50YXJnZXQuZixmcmljdGlvbjppfSl9em9vbVdpdGhXaGVlbCh0KXtpZih0aGlzLnN0YXRlPT09Yi5EZXN0cm95fHx0aGlzLnN0YXRlPT09Yi5Jbml0KXJldHVybjtjb25zdCBpPURhdGUubm93KCk7aWYoaS10aGlzLnB3dDw0NSlyZXR1cm4gdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5wd3Q9aTt2YXIgbj1bLXQuZGVsdGFYfHwwLC10LmRlbHRhWXx8MCwtdC5kZXRhaWx8fDBdLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hYnMoZSk+TWF0aC5hYnModCk/ZTp0fSkpO2NvbnN0IHM9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxuKSkse3RhcmdldFNjYWxlOm8sbWF4U2NhbGU6YSxtaW5TY2FsZTpyfT10aGlzO2xldCBsPW8qKDEwMCs0NSpzKS8xMDA7ZShsKTxlKHIpJiZlKG8pPD1lKHIpPyh0aGlzLmN3ZCs9TWF0aC5hYnMocyksbD1yKTplKGwpPmUoYSkmJmUobyk+PWUoYSk/KHRoaXMuY3dkKz1NYXRoLmFicyhzKSxsPWEpOih0aGlzLmN3ZD0wLGw9TWF0aC5tYXgoTWF0aC5taW4obCxhKSxyKSksdGhpcy5jd2Q+dGhpcy5vcHRpb24oXCJ3aGVlbExpbWl0XCIpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGUobCkhPT1lKG8pJiZ0aGlzLnpvb21UbyhsLHtldmVudDp0fSkpfWNhblpvb21Jbigpe3JldHVybiB0aGlzLm9wdGlvbihcInpvb21cIikmJihlKHRoaXMuY29udGVudFJlY3Qud2lkdGgsMSk8ZSh0aGlzLmNvbnRlbnRSZWN0LmZpdFdpZHRoLDEpfHxlKHRoaXMudGFyZ2V0U2NhbGUpPGUodGhpcy5tYXhTY2FsZSkpfWNhblpvb21PdXQoKXtyZXR1cm4gdGhpcy5vcHRpb24oXCJ6b29tXCIpJiZlKHRoaXMudGFyZ2V0U2NhbGUpPmUodGhpcy5taW5TY2FsZSl9em9vbUluKHQ9MS4yNSxlKXt0aGlzLnpvb21Ubyh0aGlzLnRhcmdldFNjYWxlKnQsZSl9em9vbU91dCh0PS44LGUpe3RoaXMuem9vbVRvKHRoaXMudGFyZ2V0U2NhbGUqdCxlKX16b29tVG9GaXQodCl7dGhpcy56b29tVG8oXCJmaXRcIix0KX16b29tVG9Db3Zlcih0KXt0aGlzLnpvb21UbyhcImNvdmVyXCIsdCl9em9vbVRvRnVsbCh0KXt0aGlzLnpvb21UbyhcImZ1bGxcIix0KX16b29tVG9NYXgodCl7dGhpcy56b29tVG8oXCJtYXhcIix0KX10b2dnbGVab29tKHQpe3RoaXMuem9vbVRvKHRoaXMudGFyZ2V0U2NhbGUtdGhpcy5taW5TY2FsZTwuNSoodGhpcy5mdWxsU2NhbGUtdGhpcy5taW5TY2FsZSk/XCJmdWxsXCI6XCJmaXRcIix0KX10b2dnbGVNYXgodCl7dGhpcy56b29tVG8odGhpcy50YXJnZXRTY2FsZS10aGlzLm1pblNjYWxlPC41Kih0aGlzLm1heFNjYWxlLXRoaXMubWluU2NhbGUpP1wibWF4XCI6XCJmaXRcIix0KX10b2dnbGVDb3Zlcih0KXt0aGlzLnpvb21Ubyh0aGlzLnRhcmdldFNjYWxlLXRoaXMubWluU2NhbGU8LjUqKHRoaXMuY292ZXJTY2FsZS10aGlzLm1pblNjYWxlKT9cImNvdmVyXCI6XCJmaXRcIix0KX1pdGVyYXRlWm9vbSh0KXt0aGlzLnpvb21UbyhcIm5leHRcIix0KX16b29tVG8odD0xLHtmcmljdGlvbjplPVwiYXV0b1wiLG9yaWdpblg6aT1cImF1dG9cIixvcmlnaW5ZOm49XCJhdXRvXCIsZXZlbnQ6c309e30pe2lmKHRoaXMuaXNDb250ZW50TG9hZGluZ3x8dGhpcy5zdGF0ZT09PWIuRGVzdHJveSlyZXR1cm47Y29uc3R7dGFyZ2V0U2NhbGU6b309dGhpczt0aGlzLnN0b3AoKTtsZXQgYT0xO2lmKHRoaXMucGFuTW9kZT09PU8mJihzPXRoaXMucG1tZXx8cyksc3x8XCJhdXRvXCI9PT1pfHxcImF1dG9cIj09PW4pe2NvbnN0IHQ9dGhpcy5jb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGU9dGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1zP3MuY2xpZW50WDplLmxlZnQrLjUqZS53aWR0aCxhPXM/cy5jbGllbnRZOmUudG9wKy41KmUuaGVpZ2h0O2k9by10LmxlZnQtLjUqdC53aWR0aCxuPWEtdC50b3AtLjUqdC5oZWlnaHR9Y29uc3Qgcj10aGlzLmZ1bGxTY2FsZSxsPXRoaXMubWF4U2NhbGUsYz10aGlzLmNvdmVyU2NhbGU7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpYT10L298fDE7ZWxzZSBpZihcImZ1bGxcIj09PXQpYT1yL298fDE7ZWxzZSBpZihcImNvdmVyXCI9PT10KWE9Yy9vfHwxO2Vsc2UgaWYoXCJtYXhcIj09PXQpYT1sL298fDE7ZWxzZSBpZihcImZpdFwiPT09dClhPTEvb3x8MTtlbHNlIGlmKFwibmV4dFwiPT09dCl7bGV0IHQ9WzEscixsXS5zb3J0KCgodCxlKT0+dC1lKSksZT10LmZpbmRJbmRleCgodD0+dD5vKzFlLTUpKTthPXRbZV0vb3x8MS9vfWU9XCJhdXRvXCI9PT1lP2E+MT8uMTU6LjI1OmUsdGhpcy5hcHBseUNoYW5nZSh7c2NhbGU6YSxvcmlnaW5YOmksb3JpZ2luWTpuLGZyaWN0aW9uOmV9KSxzJiZ0aGlzLnBhbk1vZGU9PT1PJiZ0aGlzLnBhbldpdGhNb3VzZShzLGUpfXJvdGF0ZUNDVygpe3RoaXMuYXBwbHlDaGFuZ2Uoe2FuZ2xlOi05MH0pfXJvdGF0ZUNXKCl7dGhpcy5hcHBseUNoYW5nZSh7YW5nbGU6OTB9KX1mbGlwWCgpe3RoaXMuYXBwbHlDaGFuZ2Uoe2ZsaXBYOiEwfSl9ZmxpcFkoKXt0aGlzLmFwcGx5Q2hhbmdlKHtmbGlwWTohMH0pfWZpdFgoKXt0aGlzLnN0b3AoXCJ0YXJnZXRcIik7Y29uc3R7Y29udGFpbmVyUmVjdDp0LGNvbnRlbnRSZWN0OmUsdGFyZ2V0Oml9PXRoaXM7dGhpcy5hcHBseUNoYW5nZSh7cGFuWDouNSp0LndpZHRoLShlLmxlZnQrLjUqZS5maXRXaWR0aCktaS5lLHBhblk6LjUqdC5oZWlnaHQtKGUudG9wKy41KmUuZml0SGVpZ2h0KS1pLmYsc2NhbGU6dC53aWR0aC9lLmZpdFdpZHRoL3RoaXMudGFyZ2V0U2NhbGUsb3JpZ2luWDowLG9yaWdpblk6MCxpZ25vcmVCb3VuZHM6ITB9KX1maXRZKCl7dGhpcy5zdG9wKFwidGFyZ2V0XCIpO2NvbnN0e2NvbnRhaW5lclJlY3Q6dCxjb250ZW50UmVjdDplLHRhcmdldDppfT10aGlzO3RoaXMuYXBwbHlDaGFuZ2Uoe3Bhblg6LjUqdC53aWR0aC0oZS5sZWZ0Ky41KmUuZml0V2lkdGgpLWkuZSxwYW5ZOi41KnQuaW5uZXJIZWlnaHQtKGUudG9wKy41KmUuZml0SGVpZ2h0KS1pLmYsc2NhbGU6dC5oZWlnaHQvZS5maXRIZWlnaHQvdGhpcy50YXJnZXRTY2FsZSxvcmlnaW5YOjAsb3JpZ2luWTowLGlnbm9yZUJvdW5kczohMH0pfXRvZ2dsZUZTKCl7Y29uc3R7Y29udGFpbmVyOnR9PXRoaXMsZT10aGlzLmNuKFwiaW5GdWxsc2NyZWVuXCIpLGk9dGhpcy5jbihcImh0bWxIYXNGdWxsc2NyZWVuXCIpO3QuY2xhc3NMaXN0LnRvZ2dsZShlKTtjb25zdCBuPXQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpO24/KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKGkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5vbktleWRvd24sITApKTooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLm9uS2V5ZG93biwhMCkpLHRoaXMudXBkYXRlTWV0cmljcygpLHRoaXMuZW1pdChuP1wiZW50ZXJGU1wiOlwiZXhpdEZTXCIpfWdldE1hdHJpeCh0PXRoaXMuY3VycmVudCl7Y29uc3R7YTplLGI6aSxjOm4sZDpzLGU6byxmOmF9PXQ7cmV0dXJuIG5ldyBET01NYXRyaXgoW2UsaSxuLHMsbyxhXSl9cmVzZXQodCl7aWYodGhpcy5zdGF0ZSE9PWIuSW5pdCYmdGhpcy5zdGF0ZSE9PWIuRGVzdHJveSl7dGhpcy5zdG9wKFwiY3VycmVudFwiKTtmb3IoY29uc3QgdCBvZiB2KXRoaXMudGFyZ2V0W3RdPUNbdF07dGhpcy50YXJnZXQuYT10aGlzLm1pblNjYWxlLHRoaXMudGFyZ2V0LmQ9dGhpcy5taW5TY2FsZSx0aGlzLmNsYW1wVGFyZ2V0Qm91bmRzKCksdGhpcy5pc1Jlc3Rpbmd8fCh0aGlzLmZyaWN0aW9uPXZvaWQgMD09PXQ/dGhpcy5vcHRpb24oXCJmcmljdGlvblwiKTp0LHRoaXMuc3RhdGU9Yi5QYW5uaW5nLHRoaXMucmVxdWVzdFRpY2soKSl9fWRlc3Ryb3koKXt0aGlzLnN0b3AoKSx0aGlzLnN0YXRlPWIuRGVzdHJveSx0aGlzLmRldGFjaEV2ZW50cygpLHRoaXMuZGV0YWNoT2JzZXJ2ZXIoKTtjb25zdHtjb250YWluZXI6dCxjb250ZW50OmV9PXRoaXMsaT10aGlzLm9wdGlvbihcImNsYXNzZXNcIil8fHt9O2Zvcihjb25zdCBlIG9mIE9iamVjdC52YWx1ZXMoaSkpdC5jbGFzc0xpc3QucmVtb3ZlKGUrXCJcIik7ZSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLm9uTG9hZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0aGlzLm9uRXJyb3IpKSx0aGlzLmRldGFjaFBsdWdpbnMoKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGssXCJkZWZhdWx0c1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp3fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGssXCJQbHVnaW5zXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnt9fSk7Y29uc3QgST1mdW5jdGlvbih0LGUpe2xldCBpPSEwO3JldHVybiguLi5uKT0+e2kmJihpPSExLHQoLi4ubiksc2V0VGltZW91dCgoKCk9PntpPSEwfSksZSkpfX0sRD0odCxlKT0+e2xldCBpPVtdO3JldHVybiB0LmNoaWxkTm9kZXMuZm9yRWFjaCgodD0+e3Qubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8ZSYmIXQubWF0Y2hlcyhlKXx8aS5wdXNoKHQpfSkpLGl9LEY9e3ZpZXdwb3J0Om51bGwsdHJhY2s6bnVsbCxlbmFibGVkOiEwLHNsaWRlczpbXSxheGlzOlwieFwiLHRyYW5zaXRpb246XCJmYWRlXCIscHJlbG9hZDoxLHNsaWRlc1BlclBhZ2U6XCJhdXRvXCIsaW5pdGlhbFBhZ2U6MCxmcmljdGlvbjouMTIsUGFuem9vbTp7ZGVjZWxGcmljdGlvbjouMTJ9LGNlbnRlcjohMCxpbmZpbml0ZTohMCxmaWxsOiEwLGRyYWdGcmVlOiExLGFkYXB0aXZlSGVpZ2h0OiExLGRpcmVjdGlvbjpcImx0clwiLGNsYXNzZXM6e2NvbnRhaW5lcjpcImYtY2Fyb3VzZWxcIix2aWV3cG9ydDpcImYtY2Fyb3VzZWxfX3ZpZXdwb3J0XCIsdHJhY2s6XCJmLWNhcm91c2VsX190cmFja1wiLHNsaWRlOlwiZi1jYXJvdXNlbF9fc2xpZGVcIixpc0xUUjpcImlzLWx0clwiLGlzUlRMOlwiaXMtcnRsXCIsaXNIb3Jpem9udGFsOlwiaXMtaG9yaXpvbnRhbFwiLGlzVmVydGljYWw6XCJpcy12ZXJ0aWNhbFwiLGluVHJhbnNpdGlvbjpcImluLXRyYW5zaXRpb25cIixpc1NlbGVjdGVkOlwiaXMtc2VsZWN0ZWRcIn0sbDEwbjp7TkVYVDpcIk5leHQgc2xpZGVcIixQUkVWOlwiUHJldmlvdXMgc2xpZGVcIixHT1RPOlwiR28gdG8gc2xpZGUgIyVkXCJ9fTt2YXIgajshZnVuY3Rpb24odCl7dFt0LkluaXQ9MF09XCJJbml0XCIsdFt0LlJlYWR5PTFdPVwiUmVhZHlcIix0W3QuRGVzdHJveT0yXT1cIkRlc3Ryb3lcIn0oanx8KGo9e30pKTtjb25zdCBIPXQ9PntpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXQ9e2h0bWw6dH07ZWxzZXtjb25zdCBlPXQudGh1bWI7dm9pZCAwIT09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYodC50aHVtYlNyYz1lKSxlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCYmKHQudGh1bWJFbD1lLHQudGh1bWJFbFNyYz1lLnNyYyx0LnRodW1iU3JjPWUuc3JjKSxkZWxldGUgdC50aHVtYil9cmV0dXJuIE9iamVjdC5hc3NpZ24oe2h0bWw6XCJcIixlbDpudWxsLGlzRG9tOiExLGNsYXNzOlwiXCIsY3VzdG9tQ2xhc3M6XCJcIixpbmRleDotMSxkaW06MCxnYXA6MCxwb3M6MCx0cmFuc2l0aW9uOiExfSx0KX0sQj0odD17fSk9Pk9iamVjdC5hc3NpZ24oe2luZGV4Oi0xLHNsaWRlczpbXSxkaW06MCxwb3M6LTF9LHQpO2NsYXNzIE4gZXh0ZW5kcyBne2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpbnN0YW5jZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9YXR0YWNoKCl7fWRldGFjaCgpe319Y29uc3QgXz17Y2xhc3Nlczp7bGlzdDpcImYtY2Fyb3VzZWxfX2RvdHNcIixpc0R5bmFtaWM6XCJpcy1keW5hbWljXCIsaGFzRG90czpcImhhcy1kb3RzXCIsZG90OlwiZi1jYXJvdXNlbF9fZG90XCIsaXNCZWZvcmVQcmV2OlwiaXMtYmVmb3JlLXByZXZcIixpc1ByZXY6XCJpcy1wcmV2XCIsaXNDdXJyZW50OlwiaXMtY3VycmVudFwiLGlzTmV4dDpcImlzLW5leHRcIixpc0FmdGVyTmV4dDpcImlzLWFmdGVyLW5leHRcIn0sZG90VHBsOic8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNhcm91c2VsLXBhZ2U9XCIlaVwiIGFyaWEtbGFiZWw9XCJ7e0dPVE99fVwiPjxzcGFuIGNsYXNzPVwiZi1jYXJvdXNlbF9fZG90XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPjwvYnV0dG9uPicsZHluYW1pY0Zyb206MTEsbWF4Q291bnQ6MS8wLG1pbkNvdW50OjJ9O2NsYXNzICQgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzRHluYW1pY1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibGlzdFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSl9b25SZWZyZXNoKCl7dGhpcy5yZWZyZXNoKCl9YnVpbGQoKXtsZXQgdD10aGlzLmxpc3Q7aWYoIXQpe3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLFAodCx0aGlzLmNuKFwibGlzdFwiKSksdC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0YWJsaXN0XCIpO2NvbnN0IGU9dGhpcy5pbnN0YW5jZS5jb250YWluZXI7ZS5hcHBlbmRDaGlsZCh0KSxQKGUsdGhpcy5jbihcImhhc0RvdHNcIikpLHRoaXMubGlzdD10fXJldHVybiB0fXJlZnJlc2goKXt2YXIgdDtjb25zdCBlPXRoaXMuaW5zdGFuY2UucGFnZXMubGVuZ3RoLGk9TWF0aC5taW4oMix0aGlzLm9wdGlvbihcIm1pbkNvdW50XCIpKSxuPU1hdGgubWF4KDJlMyx0aGlzLm9wdGlvbihcIm1heENvdW50XCIpKSxzPXRoaXMub3B0aW9uKFwiZHluYW1pY0Zyb21cIik7aWYoZTxpfHxlPm4pcmV0dXJuIHZvaWQgdGhpcy5jbGVhbnVwKCk7Y29uc3Qgbz1cIm51bWJlclwiPT10eXBlb2YgcyYmZT41JiZlPj1zLHI9IXRoaXMubGlzdHx8dGhpcy5pc0R5bmFtaWMhPT1vfHx0aGlzLmxpc3QuY2hpbGRyZW4ubGVuZ3RoIT09ZTtyJiZ0aGlzLmNsZWFudXAoKTtjb25zdCBsPXRoaXMuYnVpbGQoKTtpZihhKGwsdGhpcy5jbihcImlzRHluYW1pY1wiKSwhIW8pLHIpZm9yKGxldCB0PTA7dDxlO3QrKylsLmFwcGVuZCh0aGlzLmNyZWF0ZUl0ZW0odCkpO2xldCBjLGg9MDtmb3IoY29uc3QgZSBvZlsuLi5sLmNoaWxkcmVuXSl7Y29uc3QgaT1oPT09dGhpcy5pbnN0YW5jZS5wYWdlO2kmJihjPWUpLGEoZSx0aGlzLmNuKFwiaXNDdXJyZW50XCIpLGkpLG51bGw9PT0odD1lLmNoaWxkcmVuWzBdKXx8dm9pZCAwPT09dHx8dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsaT9cInRydWVcIjpcImZhbHNlXCIpO2Zvcihjb25zdCB0IG9mW1wiaXNCZWZvcmVQcmV2XCIsXCJpc1ByZXZcIixcImlzTmV4dFwiLFwiaXNBZnRlck5leHRcIl0pUyhlLHRoaXMuY24odCkpO2grK31pZihjPWN8fGwuZmlyc3RDaGlsZCxvJiZjKXtjb25zdCB0PWMucHJldmlvdXNFbGVtZW50U2libGluZyxlPXQmJnQucHJldmlvdXNFbGVtZW50U2libGluZztQKHQsdGhpcy5jbihcImlzUHJldlwiKSksUChlLHRoaXMuY24oXCJpc0JlZm9yZVByZXZcIikpO2NvbnN0IGk9Yy5uZXh0RWxlbWVudFNpYmxpbmcsbj1pJiZpLm5leHRFbGVtZW50U2libGluZztQKGksdGhpcy5jbihcImlzTmV4dFwiKSksUChuLHRoaXMuY24oXCJpc0FmdGVyTmV4dFwiKSl9dGhpcy5pc0R5bmFtaWM9b31jcmVhdGVJdGVtKHQ9MCl7dmFyIGU7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7aS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIik7Y29uc3Qgbj1zKHRoaXMuaW5zdGFuY2UubG9jYWxpemUodGhpcy5vcHRpb24oXCJkb3RUcGxcIiksW1tcIiVkXCIsdCsxXV0pLnJlcGxhY2UoL1xcJWkvZyx0K1wiXCIpKTtyZXR1cm4gaS5hcHBlbmRDaGlsZChuKSxudWxsPT09KGU9aS5jaGlsZHJlblswXSl8fHZvaWQgMD09PWV8fGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwidGFiXCIpLGl9Y2xlYW51cCgpe3RoaXMubGlzdCYmKHRoaXMubGlzdC5yZW1vdmUoKSx0aGlzLmxpc3Q9bnVsbCksdGhpcy5pc0R5bmFtaWM9ITEsUyh0aGlzLmluc3RhbmNlLmNvbnRhaW5lcix0aGlzLmNuKFwiaGFzRG90c1wiKSl9YXR0YWNoKCl7dGhpcy5pbnN0YW5jZS5vbihbXCJyZWZyZXNoXCIsXCJjaGFuZ2VcIl0sdGhpcy5vblJlZnJlc2gpfWRldGFjaCgpe3RoaXMuaW5zdGFuY2Uub2ZmKFtcInJlZnJlc2hcIixcImNoYW5nZVwiXSx0aGlzLm9uUmVmcmVzaCksdGhpcy5jbGVhbnVwKCl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkLFwiZGVmYXVsdHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6X30pO2NvbnN0IFc9XCJkaXNhYmxlZFwiLFg9XCJuZXh0XCIscT1cInByZXZcIjtjbGFzcyBZIGV4dGVuZHMgTntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb250YWluZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicHJldlwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJuZXh0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzRG9tXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSl9b25SZWZyZXNoKCl7Y29uc3QgdD10aGlzLmluc3RhbmNlLGU9dC5wYWdlcy5sZW5ndGgsaT10LnBhZ2U7aWYoZTwyKXJldHVybiB2b2lkIHRoaXMuY2xlYW51cCgpO3RoaXMuYnVpbGQoKTtsZXQgbj10aGlzLnByZXYscz10aGlzLm5leHQ7biYmcyYmKG4ucmVtb3ZlQXR0cmlidXRlKFcpLHMucmVtb3ZlQXR0cmlidXRlKFcpLHQuaXNJbmZpbml0ZXx8KGk8PTAmJm4uc2V0QXR0cmlidXRlKFcsXCJcIiksaT49ZS0xJiZzLnNldEF0dHJpYnV0ZShXLFwiXCIpKSl9YWRkQnRuKHQpe3ZhciBlO2NvbnN0IGk9dGhpcy5pbnN0YW5jZSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7bi5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSxuLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsaS5sb2NhbGl6ZShge3ske3QudG9VcHBlckNhc2UoKX19fWApKSxQKG4sdGhpcy5jbihcImJ1dHRvblwiKStcIiBcIit0aGlzLmNuKHQ9PT1YP1wiaXNOZXh0XCI6XCJpc1ByZXZcIikpO2NvbnN0IHM9aS5pc1JUTD90PT09WD9xOlg6dDt2YXIgbztyZXR1cm4gbi5pbm5lckhUTUw9aS5sb2NhbGl6ZSh0aGlzLm9wdGlvbihgJHtzfVRwbGApKSxuLmRhdGFzZXRbYGNhcm91c2VsJHtvPXQsbz9vLm1hdGNoKFwiXlthLXpdXCIpP28uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrby5zdWJzdHJpbmcoMSk6bzpcIlwifWBdPVwidHJ1ZVwiLG51bGw9PT0oZT10aGlzLmNvbnRhaW5lcil8fHZvaWQgMD09PWV8fGUuYXBwZW5kQ2hpbGQobiksbn1idWlsZCgpe2NvbnN0IHQ9dGhpcy5pbnN0YW5jZS5jb250YWluZXIsZT10aGlzLmNuKFwiY29udGFpbmVyXCIpO2xldHtjb250YWluZXI6aSxwcmV2Om4sbmV4dDpzfT10aGlzO2l8fChpPXQucXVlcnlTZWxlY3RvcihcIi5cIitlKSx0aGlzLmlzRG9tPSEhaSksaXx8KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxQKGksZSksdC5hcHBlbmRDaGlsZChpKSksdGhpcy5jb250YWluZXI9aSxzfHwocz1pLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jYXJvdXNlbC1uZXh0XVwiKSksc3x8KHM9dGhpcy5hZGRCdG4oWCkpLHRoaXMubmV4dD1zLG58fChuPWkucXVlcnlTZWxlY3RvcihcIltkYXRhLWNhcm91c2VsLXByZXZdXCIpKSxufHwobj10aGlzLmFkZEJ0bihxKSksdGhpcy5wcmV2PW59Y2xlYW51cCgpe3RoaXMuaXNEb218fCh0aGlzLnByZXYmJnRoaXMucHJldi5yZW1vdmUoKSx0aGlzLm5leHQmJnRoaXMubmV4dC5yZW1vdmUoKSx0aGlzLmNvbnRhaW5lciYmdGhpcy5jb250YWluZXIucmVtb3ZlKCkpLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuY29udGFpbmVyPW51bGwsdGhpcy5pc0RvbT0hMX1hdHRhY2goKXt0aGlzLmluc3RhbmNlLm9uKFtcInJlZnJlc2hcIixcImNoYW5nZVwiXSx0aGlzLm9uUmVmcmVzaCl9ZGV0YWNoKCl7dGhpcy5pbnN0YW5jZS5vZmYoW1wicmVmcmVzaFwiLFwiY2hhbmdlXCJdLHRoaXMub25SZWZyZXNoKSx0aGlzLmNsZWFudXAoKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KFksXCJkZWZhdWx0c1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7Y2xhc3Nlczp7Y29udGFpbmVyOlwiZi1jYXJvdXNlbF9fbmF2XCIsYnV0dG9uOlwiZi1idXR0b25cIixpc05leHQ6XCJpcy1uZXh0XCIsaXNQcmV2OlwiaXMtcHJldlwifSxuZXh0VHBsOic8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgdGFiaW5kZXg9XCItMVwiPjxwYXRoIGQ9XCJNOSAzbDkgOS05IDlcIi8+PC9zdmc+JyxwcmV2VHBsOic8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgdGFiaW5kZXg9XCItMVwiPjxwYXRoIGQ9XCJNMTUgM2wtOSA5IDkgOVwiLz48L3N2Zz4nfX0pO2NsYXNzIFYgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNlbGVjdGVkSW5kZXhcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidGFyZ2V0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm5hdlwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSl9YWRkQXNUYXJnZXRGb3IodCl7dGhpcy50YXJnZXQ9dGhpcy5pbnN0YW5jZSx0aGlzLm5hdj10LHRoaXMuYXR0YWNoRXZlbnRzKCl9YWRkQXNOYXZGb3IodCl7dGhpcy5uYXY9dGhpcy5pbnN0YW5jZSx0aGlzLnRhcmdldD10LHRoaXMuYXR0YWNoRXZlbnRzKCl9YXR0YWNoRXZlbnRzKCl7Y29uc3R7bmF2OnQsdGFyZ2V0OmV9PXRoaXM7dCYmZSYmKHQub3B0aW9ucy5pbml0aWFsU2xpZGU9ZS5vcHRpb25zLmluaXRpYWxQYWdlLHQuc3RhdGU9PT1qLlJlYWR5P3RoaXMub25OYXZSZWFkeSh0KTp0Lm9uKFwicmVhZHlcIix0aGlzLm9uTmF2UmVhZHkpLGUuc3RhdGU9PT1qLlJlYWR5P3RoaXMub25UYXJnZXRSZWFkeShlKTplLm9uKFwicmVhZHlcIix0aGlzLm9uVGFyZ2V0UmVhZHkpKX1vbk5hdlJlYWR5KHQpe3Qub24oXCJjcmVhdGVTbGlkZVwiLHRoaXMub25OYXZDcmVhdGVTbGlkZSksdC5vbihcIlBhbnpvb20uY2xpY2tcIix0aGlzLm9uTmF2Q2xpY2spLHQub24oXCJQYW56b29tLnRvdWNoRW5kXCIsdGhpcy5vbk5hdlRvdWNoKSx0aGlzLm9uVGFyZ2V0Q2hhbmdlKCl9b25UYXJnZXRSZWFkeSh0KXt0Lm9uKFwiY2hhbmdlXCIsdGhpcy5vblRhcmdldENoYW5nZSksdC5vbihcIlBhbnpvb20ucmVmcmVzaFwiLHRoaXMub25UYXJnZXRDaGFuZ2UpLHRoaXMub25UYXJnZXRDaGFuZ2UoKX1vbk5hdkNsaWNrKHQsZSxpKXt0aGlzLm9uTmF2VG91Y2godCx0LnBhbnpvb20saSl9b25OYXZUb3VjaCh0LGUsaSl7dmFyIG4scztpZihNYXRoLmFicyhlLmRyYWdPZmZzZXQueCk+M3x8TWF0aC5hYnMoZS5kcmFnT2Zmc2V0LnkpPjMpcmV0dXJuO2NvbnN0IG89aS50YXJnZXQse25hdjphLHRhcmdldDpyfT10aGlzO2lmKCFhfHwhcnx8IW8pcmV0dXJuO2NvbnN0IGw9by5jbG9zZXN0KFwiW2RhdGEtaW5kZXhdXCIpO2lmKGkuc3RvcFByb3BhZ2F0aW9uKCksaS5wcmV2ZW50RGVmYXVsdCgpLCFsKXJldHVybjtjb25zdCBjPXBhcnNlSW50KGwuZGF0YXNldC5pbmRleHx8XCJcIiwxMCl8fDAsaD1yLmdldFBhZ2VGb3JTbGlkZShjKSxkPWEuZ2V0UGFnZUZvclNsaWRlKGMpO2Euc2xpZGVUbyhkKSxyLnNsaWRlVG8oaCx7ZnJpY3Rpb246KG51bGw9PT0ocz1udWxsPT09KG49dGhpcy5uYXYpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBsdWdpbnMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLlN5bmMub3B0aW9uKFwiZnJpY3Rpb25cIikpfHwwfSksdGhpcy5tYXJrU2VsZWN0ZWRTbGlkZShjKX1vbk5hdkNyZWF0ZVNsaWRlKHQsZSl7ZS5pbmRleD09PXRoaXMuc2VsZWN0ZWRJbmRleCYmdGhpcy5tYXJrU2VsZWN0ZWRTbGlkZShlLmluZGV4KX1vblRhcmdldENoYW5nZSgpe3ZhciB0LGU7Y29uc3R7dGFyZ2V0OmksbmF2Om59PXRoaXM7aWYoIWl8fCFuKXJldHVybjtpZihuLnN0YXRlIT09ai5SZWFkeXx8aS5zdGF0ZSE9PWouUmVhZHkpcmV0dXJuO2NvbnN0IHM9bnVsbD09PShlPW51bGw9PT0odD1pLnBhZ2VzW2kucGFnZV0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNsaWRlc1swXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaW5kZXgsbz1uLmdldFBhZ2VGb3JTbGlkZShzKTt0aGlzLm1hcmtTZWxlY3RlZFNsaWRlKHMpLG4uc2xpZGVUbyhvLG51bGw9PT1uLnByZXZQYWdlJiZudWxsPT09aS5wcmV2UGFnZT97ZnJpY3Rpb246MH06dm9pZCAwKX1tYXJrU2VsZWN0ZWRTbGlkZSh0KXtjb25zdCBlPXRoaXMubmF2O2UmJmUuc3RhdGU9PT1qLlJlYWR5JiYodGhpcy5zZWxlY3RlZEluZGV4PXQsWy4uLmUuc2xpZGVzXS5tYXAoKGU9PntlLmVsJiZlLmVsLmNsYXNzTGlzdFtlLmluZGV4PT09dD9cImFkZFwiOlwicmVtb3ZlXCJdKFwiaXMtbmF2LXNlbGVjdGVkXCIpfSkpKX1hdHRhY2goKXtjb25zdCB0PXRoaXM7bGV0IGU9dC5vcHRpb25zLnRhcmdldCxpPXQub3B0aW9ucy5uYXY7ZT90LmFkZEFzTmF2Rm9yKGUpOmkmJnQuYWRkQXNUYXJnZXRGb3IoaSl9ZGV0YWNoKCl7Y29uc3QgdD10aGlzLGU9dC5uYXYsaT10LnRhcmdldDtlJiYoZS5vZmYoXCJyZWFkeVwiLHQub25OYXZSZWFkeSksZS5vZmYoXCJjcmVhdGVTbGlkZVwiLHQub25OYXZDcmVhdGVTbGlkZSksZS5vZmYoXCJQYW56b29tLmNsaWNrXCIsdC5vbk5hdkNsaWNrKSxlLm9mZihcIlBhbnpvb20udG91Y2hFbmRcIix0Lm9uTmF2VG91Y2gpKSx0Lm5hdj1udWxsLGkmJihpLm9mZihcInJlYWR5XCIsdC5vblRhcmdldFJlYWR5KSxpLm9mZihcInJlZnJlc2hcIix0Lm9uVGFyZ2V0Q2hhbmdlKSxpLm9mZihcImNoYW5nZVwiLHQub25UYXJnZXRDaGFuZ2UpKSx0LnRhcmdldD1udWxsfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoVixcImRlZmF1bHRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOntmcmljdGlvbjouMzV9fSk7Y29uc3QgWj17TmF2aWdhdGlvbjpZLERvdHM6JCxTeW5jOlZ9LFU9XCJhbmltYXRpb25lbmRcIixHPVwiaXNTZWxlY3RlZFwiLEs9XCJzbGlkZVwiO2NsYXNzIEogZXh0ZW5kcyBte2dldCBheGlzKCl7cmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsP1wiZVwiOlwiZlwifWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5zdGF0ZT09PWouUmVhZHl9Z2V0IGlzSW5maW5pdGUoKXtsZXQgdD0hMTtjb25zdHtjb250ZW50RGltOmUsdmlld3BvcnREaW06aSxwYWdlczpuLHNsaWRlczpzfT10aGlzLG89c1swXTtyZXR1cm4gbi5sZW5ndGg+PTImJm8mJmUrby5kaW0+PWkmJih0PXRoaXMub3B0aW9uKFwiaW5maW5pdGVcIikpLHR9Z2V0IGlzUlRMKCl7cmV0dXJuXCJydGxcIj09PXRoaXMub3B0aW9uKFwiZGlyZWN0aW9uXCIpfWdldCBpc0hvcml6b250YWwoKXtyZXR1cm5cInhcIj09PXRoaXMub3B0aW9uKFwiYXhpc1wiKX1jb25zdHJ1Y3Rvcih0LGU9e30saT17fSl7aWYoc3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImJwXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOlwiXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxwXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInVzZXJPcHRpb25zXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ1c2VyUGx1Z2luc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhdGVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ai5Jbml0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYWdlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByZXZQYWdlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRhaW5lclwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInZpZXdwb3J0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRyYWNrXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNsaWRlc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFnZXNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6W119KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhbnpvb21cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaW5UcmFuc2l0aW9uXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm5ldyBTZXR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRlbnREaW1cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidmlld3BvcnREaW1cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6MH0pLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpKSwhdHx8IUUodCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gRWxlbWVudCBmb3VuZFwiKTt0aGlzLmNvbnRhaW5lcj10LHRoaXMuc2xpZGVOZXh0PUkodGhpcy5zbGlkZU5leHQuYmluZCh0aGlzKSwxNTApLHRoaXMuc2xpZGVQcmV2PUkodGhpcy5zbGlkZVByZXYuYmluZCh0aGlzKSwxNTApLHRoaXMudXNlck9wdGlvbnM9ZSx0aGlzLnVzZXJQbHVnaW5zPWkscXVldWVNaWNyb3Rhc2soKCgpPT57dGhpcy5wcm9jZXNzT3B0aW9ucygpfSkpfXByb2Nlc3NPcHRpb25zKCl7dmFyIHQsZTtjb25zdCBpPWYoe30sSi5kZWZhdWx0cyx0aGlzLnVzZXJPcHRpb25zKTtsZXQgbj1cIlwiO2NvbnN0IHM9aS5icmVha3BvaW50cztpZihzJiZ1KHMpKWZvcihjb25zdFt0LGVdb2YgT2JqZWN0LmVudHJpZXMocykpd2luZG93Lm1hdGNoTWVkaWEodCkubWF0Y2hlcyYmdShlKSYmKG4rPXQsZihpLGUpKTtuPT09dGhpcy5icCYmdGhpcy5zdGF0ZSE9PWouSW5pdHx8KHRoaXMuYnA9bix0aGlzLnN0YXRlPT09ai5SZWFkeSYmKGkuaW5pdGlhbFNsaWRlPShudWxsPT09KGU9bnVsbD09PSh0PXRoaXMucGFnZXNbdGhpcy5wYWdlXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2xpZGVzWzBdKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbmRleCl8fDApLHRoaXMuc3RhdGUhPT1qLkluaXQmJnRoaXMuZGVzdHJveSgpLHN1cGVyLnNldE9wdGlvbnMoaSksITE9PT10aGlzLm9wdGlvbihcImVuYWJsZWRcIik/dGhpcy5hdHRhY2hFdmVudHMoKTpzZXRUaW1lb3V0KCgoKT0+e3RoaXMuaW5pdCgpfSksMCkpfWluaXQoKXt0aGlzLnN0YXRlPWouSW5pdCx0aGlzLmVtaXQoXCJpbml0XCIpLHRoaXMuYXR0YWNoUGx1Z2lucyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sSi5QbHVnaW5zKSx0aGlzLnVzZXJQbHVnaW5zKSksdGhpcy5lbWl0KFwiYXR0YWNoUGx1Z2luc1wiKSx0aGlzLmluaXRMYXlvdXQoKSx0aGlzLmluaXRTbGlkZXMoKSx0aGlzLnVwZGF0ZU1ldHJpY3MoKSx0aGlzLnNldEluaXRpYWxQb3NpdGlvbigpLHRoaXMuaW5pdFBhbnpvb20oKSx0aGlzLmF0dGFjaEV2ZW50cygpLHRoaXMuc3RhdGU9ai5SZWFkeSx0aGlzLmVtaXQoXCJyZWFkeVwiKX1pbml0TGF5b3V0KCl7Y29uc3R7Y29udGFpbmVyOnR9PXRoaXMsZT10aGlzLm9wdGlvbihcImNsYXNzZXNcIik7UCh0LHRoaXMuY24oXCJjb250YWluZXJcIikpLGEodCxlLmlzTFRSLCF0aGlzLmlzUlRMKSxhKHQsZS5pc1JUTCx0aGlzLmlzUlRMKSxhKHQsZS5pc1ZlcnRpY2FsLCF0aGlzLmlzSG9yaXpvbnRhbCksYSh0LGUuaXNIb3Jpem9udGFsLHRoaXMuaXNIb3Jpem9udGFsKTtsZXQgaT10aGlzLm9wdGlvbihcInZpZXdwb3J0XCIpfHx0LnF1ZXJ5U2VsZWN0b3IoYC4ke2Uudmlld3BvcnR9YCk7aXx8KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxQKGksZS52aWV3cG9ydCksaS5hcHBlbmQoLi4uRCh0LGAuJHtlLnNsaWRlfWApKSx0LnByZXBlbmQoaSkpLGkuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMub25TY3JvbGwpO2xldCBuPXRoaXMub3B0aW9uKFwidHJhY2tcIil8fHQucXVlcnlTZWxlY3RvcihgLiR7ZS50cmFja31gKTtufHwobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFAobixlLnRyYWNrKSxuLmFwcGVuZCguLi5BcnJheS5mcm9tKGkuY2hpbGROb2RlcykpKSxuLnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLFwicG9saXRlXCIpLGkuY29udGFpbnMobil8fGkucHJlcGVuZChuKSx0aGlzLnZpZXdwb3J0PWksdGhpcy50cmFjaz1uLHRoaXMuZW1pdChcImluaXRMYXlvdXRcIil9aW5pdFNsaWRlcygpe2NvbnN0e3RyYWNrOnR9PXRoaXM7aWYoIXQpcmV0dXJuO2NvbnN0IGU9Wy4uLnRoaXMuc2xpZGVzXSxpPVtdO1suLi5EKHQsYC4ke3RoaXMuY24oSyl9YCldLmZvckVhY2goKHQ9PntpZihFKHQpKXtjb25zdCBlPUgoe2VsOnQsaXNEb206ITAsaW5kZXg6dGhpcy5zbGlkZXMubGVuZ3RofSk7aS5wdXNoKGUpfX0pKTtmb3IobGV0IHQgb2ZbLi4udGhpcy5vcHRpb24oXCJzbGlkZXNcIixbXSl8fFtdLC4uLmVdKXtjb25zdCBlPUgodCk7aS5wdXNoKGUpfXRoaXMuc2xpZGVzPWk7Zm9yKGxldCB0PTA7dDx0aGlzLnNsaWRlcy5sZW5ndGg7dCsrKXRoaXMuc2xpZGVzW3RdLmluZGV4PXQ7Zm9yKGNvbnN0IHQgb2YgaSl0aGlzLmVtaXQoXCJiZWZvcmVJbml0U2xpZGVcIix0LHQuaW5kZXgpLHRoaXMuZW1pdChcImluaXRTbGlkZVwiLHQsdC5pbmRleCk7dGhpcy5lbWl0KFwiaW5pdFNsaWRlc1wiKX1zZXRJbml0aWFsUGFnZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb24oXCJpbml0aWFsU2xpZGVcIik7dGhpcy5wYWdlPVwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuZ2V0UGFnZUZvclNsaWRlKHQpOnBhcnNlSW50KHRoaXMub3B0aW9uKFwiaW5pdGlhbFBhZ2VcIiwwKStcIlwiLDEwKXx8MH1zZXRJbml0aWFsUG9zaXRpb24oKXtjb25zdHt0cmFjazp0LHBhZ2VzOmUsaXNIb3Jpem9udGFsOml9PXRoaXM7aWYoIXR8fCFlLmxlbmd0aClyZXR1cm47bGV0IG49dGhpcy5wYWdlO2Vbbl18fCh0aGlzLnBhZ2U9bj0wKTtjb25zdCBzPShlW25dLnBvc3x8MCkqKHRoaXMuaXNSVEwmJmk/MTotMSksbz1pP2Ake3N9cHhgOlwiMFwiLGE9aT9cIjBcIjpgJHtzfXB4YDt0LnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoJHtvfSwgJHthfSwgMCkgc2NhbGUoMSlgLHRoaXMub3B0aW9uKFwiYWRhcHRpdmVIZWlnaHRcIikmJnRoaXMuc2V0Vmlld3BvcnRIZWlnaHQoKX1pbml0UGFuem9vbSgpe3RoaXMucGFuem9vbSYmKHRoaXMucGFuem9vbS5kZXN0cm95KCksdGhpcy5wYW56b29tPW51bGwpO2NvbnN0IHQ9dGhpcy5vcHRpb24oXCJQYW56b29tXCIpfHx7fTt0aGlzLnBhbnpvb209bmV3IGsodGhpcy52aWV3cG9ydCxmKHt9LHtjb250ZW50OnRoaXMudHJhY2ssem9vbTohMSxwYW5Pbmx5Wm9vbWVkOiExLGxvY2tBeGlzOnRoaXMuaXNIb3Jpem9udGFsP1wieFwiOlwieVwiLGluZmluaXRlOnRoaXMuaXNJbmZpbml0ZSxjbGljazohMSxkYmxDbGljazohMSx0b3VjaDp0PT4hKHRoaXMucGFnZXMubGVuZ3RoPDImJiF0Lm9wdGlvbnMuaW5maW5pdGUpLGJvdW5kczooKT0+dGhpcy5nZXRCb3VuZHMoKSxtYXhWZWxvY2l0eTp0PT5NYXRoLmFicyh0LnRhcmdldFt0aGlzLmF4aXNdLXQuY3VycmVudFt0aGlzLmF4aXNdKTwyKnRoaXMudmlld3BvcnREaW0/MTAwOjB9LHQpKSx0aGlzLnBhbnpvb20ub24oXCIqXCIsKCh0LGUsLi4uaSk9Pnt0aGlzLmVtaXQoYFBhbnpvb20uJHtlfWAsdCwuLi5pKX0pKSx0aGlzLnBhbnpvb20ub24oXCJkZWNlbFwiLHRoaXMub25EZWNlbCksdGhpcy5wYW56b29tLm9uKFwicmVmcmVzaFwiLHRoaXMub25SZWZyZXNoKSx0aGlzLnBhbnpvb20ub24oXCJiZWZvcmVUcmFuc2Zvcm1cIix0aGlzLm9uQmVmb3JlVHJhbnNmb3JtKSx0aGlzLnBhbnpvb20ub24oXCJlbmRBbmltYXRpb25cIix0aGlzLm9uRW5kQW5pbWF0aW9uKX1hdHRhY2hFdmVudHMoKXtjb25zdCB0PXRoaXMuY29udGFpbmVyO3QmJih0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayx7cGFzc2l2ZTohMSxjYXB0dXJlOiExfSksdC5hZGRFdmVudExpc3RlbmVyKFwic2xpZGVUb1wiLHRoaXMub25TbGlkZVRvKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uUmVzaXplKX1jcmVhdGVQYWdlcygpe2xldCB0PVtdO2NvbnN0e2NvbnRlbnREaW06ZSx2aWV3cG9ydERpbTppfT10aGlzO2xldCBuPXRoaXMub3B0aW9uKFwic2xpZGVzUGVyUGFnZVwiKTtuPShcImF1dG9cIj09PW58fGU8PWkpJiYhMSE9PXRoaXMub3B0aW9uKFwiZmlsbFwiKT8xLzA6cGFyc2VGbG9hdChuK1wiXCIpO2xldCBzPTAsbz0wLGE9MDtmb3IoY29uc3QgZSBvZiB0aGlzLnNsaWRlcykoIXQubGVuZ3RofHxvK2UuZGltLWk+LjA1fHxhPj1uKSYmKHQucHVzaChCKCkpLHM9dC5sZW5ndGgtMSxvPTAsYT0wKSx0W3NdLnNsaWRlcy5wdXNoKGUpLG8rPWUuZGltK2UuZ2FwLGErKztyZXR1cm4gdH1wcm9jZXNzUGFnZXMoKXtjb25zdCB0PXRoaXMucGFnZXMse2NvbnRlbnREaW06aSx2aWV3cG9ydERpbTpuLGlzSW5maW5pdGU6c309dGhpcyxvPXRoaXMub3B0aW9uKFwiY2VudGVyXCIpLGE9dGhpcy5vcHRpb24oXCJmaWxsXCIpLHI9YSYmbyYmaT5uJiYhcztpZih0LmZvckVhY2goKCh0LGUpPT57dmFyIHM7dC5pbmRleD1lLHQucG9zPShudWxsPT09KHM9dC5zbGlkZXNbMF0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnBvcyl8fDAsdC5kaW09MDtmb3IoY29uc3RbZSxpXW9mIHQuc2xpZGVzLmVudHJpZXMoKSl0LmRpbSs9aS5kaW0sZTx0LnNsaWRlcy5sZW5ndGgtMSYmKHQuZGltKz1pLmdhcCk7ciYmdC5wb3MrLjUqdC5kaW08LjUqbj90LnBvcz0wOnImJnQucG9zKy41KnQuZGltPj1pLS41Km4/dC5wb3M9aS1uOm8mJih0LnBvcys9LS41KihuLXQuZGltKSl9KSksdC5mb3JFYWNoKCgodCxvKT0+e2EmJiFzJiZpPm4mJih0LnBvcz1NYXRoLm1heCh0LnBvcywwKSx0LnBvcz1NYXRoLm1pbih0LnBvcyxpLW4pKSx0LnBvcz1lKHQucG9zLDFlMyksdC5kaW09ZSh0LmRpbSwxZTMpLE1hdGguYWJzKHQucG9zKTw9LjEmJih0LnBvcz0wKX0pKSxzKXJldHVybiB0O2NvbnN0IGw9W107bGV0IGM7cmV0dXJuIHQuZm9yRWFjaCgodD0+e2NvbnN0IGU9T2JqZWN0LmFzc2lnbih7fSx0KTtjJiZlLnBvcz09PWMucG9zPyhjLmRpbSs9ZS5kaW0sYy5zbGlkZXM9Wy4uLmMuc2xpZGVzLC4uLmUuc2xpZGVzXSk6KGUuaW5kZXg9bC5sZW5ndGgsYz1lLGwucHVzaChlKSl9KSksbH1nZXRQYWdlRnJvbUluZGV4KHQ9MCl7Y29uc3QgZT10aGlzLnBhZ2VzLmxlbmd0aDtsZXQgaTtyZXR1cm4gdD1wYXJzZUludCgodHx8MCkudG9TdHJpbmcoKSl8fDAsaT10aGlzLmlzSW5maW5pdGU/KHQlZStlKSVlOk1hdGgubWF4KE1hdGgubWluKHQsZS0xKSwwKSxpfWdldFNsaWRlTWV0cmljcyh0KXt2YXIgaSxuO2NvbnN0IHM9dGhpcy5pc0hvcml6b250YWw/XCJ3aWR0aFwiOlwiaGVpZ2h0XCI7bGV0IG89MCxhPTAscj10LmVsO2NvbnN0IGw9ciYmIXIucGFyZW50Tm9kZTtpZihyP289cGFyc2VGbG9hdChyLmRhdGFzZXRbc118fFwiXCIpfHwwOihyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsKHRoaXMudHJhY2t8fGRvY3VtZW50LmJvZHkpLnByZXBlbmQocikpLFAocix0aGlzLmNuKEspK1wiIFwiK3QuY2xhc3MrXCIgXCIrdC5jdXN0b21DbGFzcyksbylyLnN0eWxlW3NdPWAke299cHhgLHIuc3R5bGVbXCJ3aWR0aFwiPT09cz9cImhlaWdodFwiOlwid2lkdGhcIl09XCJcIjtlbHNle2wmJih0aGlzLnRyYWNrfHxkb2N1bWVudC5ib2R5KS5wcmVwZW5kKHIpO2NvbnN0IHQ9TWF0aC5tYXgoMSwobnVsbD09PShpPXdpbmRvdy52aXN1YWxWaWV3cG9ydCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2NhbGUpfHwxKTtvPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbc10qdH1jb25zdCBjPWdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuXCJjb250ZW50LWJveFwiPT09Yy5ib3hTaXppbmcmJih0aGlzLmlzSG9yaXpvbnRhbD8obys9cGFyc2VGbG9hdChjLnBhZGRpbmdMZWZ0KXx8MCxvKz1wYXJzZUZsb2F0KGMucGFkZGluZ1JpZ2h0KXx8MCk6KG8rPXBhcnNlRmxvYXQoYy5wYWRkaW5nVG9wKXx8MCxvKz1wYXJzZUZsb2F0KGMucGFkZGluZ0JvdHRvbSl8fDApKSxhPXBhcnNlRmxvYXQoY1t0aGlzLmlzSG9yaXpvbnRhbD9cIm1hcmdpblJpZ2h0XCI6XCJtYXJnaW5Cb3R0b21cIl0pfHwwLGw/bnVsbD09PShuPXIucGFyZW50RWxlbWVudCl8fHZvaWQgMD09PW58fG4ucmVtb3ZlQ2hpbGQocik6dC5lbHx8ci5yZW1vdmUoKSx7ZGltOmUobywxZTMpLGdhcDplKGEsMWUzKX19Z2V0Qm91bmRzKCl7Y29uc3R7aXNJbmZpbml0ZTp0LGlzUlRMOmUsaXNIb3Jpem9udGFsOmkscGFnZXM6bn09dGhpcztsZXQgcz17bWluOjAsbWF4OjB9O2lmKHQpcz17bWluOi0xLzAsbWF4OjEvMH07ZWxzZSBpZihuLmxlbmd0aCl7Y29uc3QgdD1uWzBdLnBvcyxvPW5bbi5sZW5ndGgtMV0ucG9zO3M9ZSYmaT97bWluOnQsbWF4Om99OnttaW46LTEqbyxtYXg6LTEqdH19cmV0dXJue3g6aT9zOnttaW46MCxtYXg6MH0seTppP3ttaW46MCxtYXg6MH06c319cmVwb3NpdGlvblNsaWRlcygpe2xldCB0LHtpc0hvcml6b250YWw6aSxpc1JUTDpuLGlzSW5maW5pdGU6cyx2aWV3cG9ydDpvLHZpZXdwb3J0RGltOmEsY29udGVudERpbTpyLHBhZ2U6bCxwYWdlczpjLHNsaWRlczpoLHBhbnpvb206ZH09dGhpcyx1PTAsZj0wLHA9MCxnPTA7ZD9nPS0xKmQuY3VycmVudFt0aGlzLmF4aXNdOmNbbF0mJihnPWNbbF0ucG9zfHwwKSx0PWk/bj9cInJpZ2h0XCI6XCJsZWZ0XCI6XCJ0b3BcIixuJiZpJiYoZyo9LTEpO2Zvcihjb25zdCBpIG9mIGgpe2NvbnN0IG49aS5lbDtuPyhcInRvcFwiPT09dD8obi5zdHlsZS5yaWdodD1cIlwiLG4uc3R5bGUubGVmdD1cIlwiKTpuLnN0eWxlLnRvcD1cIlwiLGkuaW5kZXghPT11P24uc3R5bGVbdF09MD09PWY/XCJcIjpgJHtlKGYsMWUzKX1weGA6bi5zdHlsZVt0XT1cIlwiLHArPWkuZGltK2kuZ2FwLHUrKyk6Zis9aS5kaW0raS5nYXB9aWYocyYmcCYmbyl7bGV0IG49Z2V0Q29tcHV0ZWRTdHlsZShvKSxzPVwicGFkZGluZ1wiLGw9aT9cIlJpZ2h0XCI6XCJCb3R0b21cIixjPXBhcnNlRmxvYXQobltzKyhpP1wiTGVmdFwiOlwiVG9wXCIpXSk7Zy09YyxhKz1jLGErPXBhcnNlRmxvYXQobltzK2xdKTtmb3IoY29uc3QgaSBvZiBoKWkuZWwmJihlKGkucG9zKTxlKGEpJiZlKGkucG9zK2kuZGltK2kuZ2FwKTxlKGcpJiZlKGcpPmUoci1hKSYmKGkuZWwuc3R5bGVbdF09YCR7ZShmK3AsMWUzKX1weGApLGUoaS5wb3MraS5nYXApPj1lKHItYSkmJmUoaS5wb3MpPmUoZythKSYmZShnKTxlKGEpJiYoaS5lbC5zdHlsZVt0XT1gLSR7ZShwLDFlMyl9cHhgKSl9bGV0IG0sYix2PVsuLi50aGlzLmluVHJhbnNpdGlvbl07aWYodi5sZW5ndGg+MSYmKG09Y1t2WzBdXSxiPWNbdlsxXV0pLG0mJmIpe2xldCBpPTA7Zm9yKGNvbnN0IG4gb2YgaCluLmVsP3RoaXMuaW5UcmFuc2l0aW9uLmhhcyhuLmluZGV4KSYmbS5zbGlkZXMuaW5kZXhPZihuKTwwJiYobi5lbC5zdHlsZVt0XT1gJHtlKGkrKG0ucG9zLWIucG9zKSwxZTMpfXB4YCk6aSs9bi5kaW0rbi5nYXB9fWNyZWF0ZVNsaWRlRWwodCl7Y29uc3R7dHJhY2s6ZSxzbGlkZXM6aX09dGhpcztpZighZXx8IXQpcmV0dXJuO2lmKHQuZWwmJnQuZWwucGFyZW50Tm9kZSlyZXR1cm47Y29uc3Qgbj10LmVsfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1Aobix0aGlzLmNuKEspKSxQKG4sdC5jbGFzcyksUChuLHQuY3VzdG9tQ2xhc3MpO2NvbnN0IHM9dC5odG1sO3MmJihzIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/bi5hcHBlbmRDaGlsZChzKTpuLmlubmVySFRNTD10Lmh0bWwrXCJcIik7Y29uc3Qgbz1bXTtpLmZvckVhY2goKCh0LGUpPT57dC5lbCYmby5wdXNoKGUpfSkpO2NvbnN0IGE9dC5pbmRleDtsZXQgcj1udWxsO2lmKG8ubGVuZ3RoKXtyPWlbby5yZWR1Y2UoKCh0LGUpPT5NYXRoLmFicyhlLWEpPE1hdGguYWJzKHQtYSk/ZTp0KSldfWNvbnN0IGw9ciYmci5lbCYmci5lbC5wYXJlbnROb2RlP3IuaW5kZXg8dC5pbmRleD9yLmVsLm5leHRTaWJsaW5nOnIuZWw6bnVsbDtlLmluc2VydEJlZm9yZShuLGUuY29udGFpbnMobCk/bDpudWxsKSx0LmVsPW4sdGhpcy5lbWl0KFwiY3JlYXRlU2xpZGVcIix0KX1yZW1vdmVTbGlkZUVsKHQsZT0hMSl7Y29uc3QgaT10LmVsO2lmKCFpfHwhaS5wYXJlbnROb2RlKXJldHVybjtjb25zdCBuPXRoaXMuY24oRyk7aWYoaS5jbGFzc0xpc3QuY29udGFpbnMobikmJihTKGksbiksdGhpcy5lbWl0KFwidW5zZWxlY3RTbGlkZVwiLHQpKSx0LmlzRG9tJiYhZSlyZXR1cm4gaS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSxpLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiksdm9pZChpLnN0eWxlLmxlZnQ9XCJcIik7dGhpcy5lbWl0KFwicmVtb3ZlU2xpZGVcIix0KTtjb25zdCBzPW5ldyBDdXN0b21FdmVudChVKTtpLmRpc3BhdGNoRXZlbnQocyksdC5lbCYmKHQuZWwucmVtb3ZlKCksdC5lbD1udWxsKX10cmFuc2l0aW9uVG8odD0wLGU9dGhpcy5vcHRpb24oXCJ0cmFuc2l0aW9uXCIpKXt2YXIgaSxuLHMsbztpZighZSlyZXR1cm4hMTtjb25zdCBhPXRoaXMucGFnZSx7cGFnZXM6cixwYW56b29tOmx9PXRoaXM7dD1wYXJzZUludCgodHx8MCkudG9TdHJpbmcoKSl8fDA7Y29uc3QgYz10aGlzLmdldFBhZ2VGcm9tSW5kZXgodCk7aWYoIWx8fCFyW2NdfHxyLmxlbmd0aDwyfHxNYXRoLmFicygoKG51bGw9PT0obj1udWxsPT09KGk9clthXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2xpZGVzWzBdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kaW0pfHwwKS10aGlzLnZpZXdwb3J0RGltKT4xKXJldHVybiExO2NvbnN0IGg9dD5hPzE6LTEsZD1yW2NdLnBvcyoodGhpcy5pc1JUTD8xOi0xKTtpZihhPT09YyYmTWF0aC5hYnMoZC1sLnRhcmdldFt0aGlzLmF4aXNdKTwxKXJldHVybiExO3RoaXMuY2xlYXJUcmFuc2l0aW9ucygpO2NvbnN0IHU9bC5pc1Jlc3Rpbmc7UCh0aGlzLmNvbnRhaW5lcix0aGlzLmNuKFwiaW5UcmFuc2l0aW9uXCIpKTtjb25zdCBmPShudWxsPT09KHM9clthXSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuc2xpZGVzWzBdKXx8bnVsbCxwPShudWxsPT09KG89cltjXSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uc2xpZGVzWzBdKXx8bnVsbDt0aGlzLmluVHJhbnNpdGlvbi5hZGQocC5pbmRleCksdGhpcy5jcmVhdGVTbGlkZUVsKHApO2xldCBnPWYuZWwsbT1wLmVsO3V8fGU9PT1LfHwoZT1cImZhZGVGYXN0XCIsZz1udWxsKTtjb25zdCBiPXRoaXMuaXNSVEw/XCJuZXh0XCI6XCJwcmV2XCIsdj10aGlzLmlzUlRMP1wicHJldlwiOlwibmV4dFwiO3JldHVybiBnJiYodGhpcy5pblRyYW5zaXRpb24uYWRkKGYuaW5kZXgpLGYudHJhbnNpdGlvbj1lLGcuYWRkRXZlbnRMaXN0ZW5lcihVLHRoaXMub25BbmltYXRpb25FbmQpLGcuY2xhc3NMaXN0LmFkZChgZi0ke2V9T3V0YCxgdG8tJHtoPjA/djpifWApKSxtJiYocC50cmFuc2l0aW9uPWUsbS5hZGRFdmVudExpc3RlbmVyKFUsdGhpcy5vbkFuaW1hdGlvbkVuZCksbS5jbGFzc0xpc3QuYWRkKGBmLSR7ZX1JbmAsYGZyb20tJHtoPjA/Yjp2fWApKSxsLmN1cnJlbnRbdGhpcy5heGlzXT1kLGwudGFyZ2V0W3RoaXMuYXhpc109ZCxsLnJlcXVlc3RUaWNrKCksdGhpcy5vbkNoYW5nZShjKSwhMH1tYW5hZ2VTbGlkZVZpc2libGl0eSgpe2NvbnN0IHQ9bmV3IFNldCxlPW5ldyBTZXQsaT10aGlzLmdldFZpc2libGVTbGlkZXMocGFyc2VGbG9hdCh0aGlzLm9wdGlvbihcInByZWxvYWRcIiwwKStcIlwiKXx8MCk7Zm9yKGNvbnN0IG4gb2YgdGhpcy5zbGlkZXMpaS5oYXMobik/dC5hZGQobik6ZS5hZGQobik7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pblRyYW5zaXRpb24pdC5hZGQodGhpcy5zbGlkZXNbZV0pO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5jcmVhdGVTbGlkZUVsKGUpLHRoaXMubGF6eUxvYWRTbGlkZShlKTtmb3IoY29uc3QgaSBvZiBlKXQuaGFzKGkpfHx0aGlzLnJlbW92ZVNsaWRlRWwoaSk7dGhpcy5tYXJrU2VsZWN0ZWRTbGlkZXMoKSx0aGlzLnJlcG9zaXRpb25TbGlkZXMoKX1tYXJrU2VsZWN0ZWRTbGlkZXMoKXtpZighdGhpcy5wYWdlc1t0aGlzLnBhZ2VdfHwhdGhpcy5wYWdlc1t0aGlzLnBhZ2VdLnNsaWRlcylyZXR1cm47Y29uc3QgdD1cImFyaWEtaGlkZGVuXCI7bGV0IGU9dGhpcy5jbihHKTtpZihlKWZvcihjb25zdCBpIG9mIHRoaXMuc2xpZGVzKXtjb25zdCBuPWkuZWw7biYmKG4uZGF0YXNldC5pbmRleD1gJHtpLmluZGV4fWAsbi5jbGFzc0xpc3QuY29udGFpbnMoXCJmLXRodW1ic19fc2xpZGVcIik/dGhpcy5nZXRWaXNpYmxlU2xpZGVzKDApLmhhcyhpKT9uLnJlbW92ZUF0dHJpYnV0ZSh0KTpuLnNldEF0dHJpYnV0ZSh0LFwidHJ1ZVwiKTp0aGlzLnBhZ2VzW3RoaXMucGFnZV0uc2xpZGVzLmluY2x1ZGVzKGkpPyhuLmNsYXNzTGlzdC5jb250YWlucyhlKXx8KFAobixlKSx0aGlzLmVtaXQoXCJzZWxlY3RTbGlkZVwiLGkpKSxuLnJlbW92ZUF0dHJpYnV0ZSh0KSk6KG4uY2xhc3NMaXN0LmNvbnRhaW5zKGUpJiYoUyhuLGUpLHRoaXMuZW1pdChcInVuc2VsZWN0U2xpZGVcIixpKSksbi5zZXRBdHRyaWJ1dGUodCxcInRydWVcIikpKX19ZmxpcEluZmluaXRlVHJhY2soKXtjb25zdCB0PXRoaXMucGFuem9vbTtpZighdHx8IXRoaXMuaXNJbmZpbml0ZSlyZXR1cm47Y29uc3QgZT1cInhcIj09PXRoaXMub3B0aW9uKFwiYXhpc1wiKT9cImVcIjpcImZcIix7dmlld3BvcnREaW06aSxjb250ZW50RGltOm59PXRoaXM7bGV0IHM9dC5jdXJyZW50W2VdLG89dC50YXJnZXRbZV0tcyxhPTAscj0uNSppLGw9bjt0aGlzLmlzUlRMJiZ0aGlzLmlzSG9yaXpvbnRhbD8oczwtciYmKGE9LTEscys9bCkscz5sLXImJihhPTEscy09bCkpOihzPnImJihhPTEscy09bCksczwtbCtyJiYoYT0tMSxzKz1sKSksYSYmKHQuY3VycmVudFtlXT1zLHQudGFyZ2V0W2VdPXMrbyl9bGF6eUxvYWRTbGlkZSh0KXtjb25zdCBlPXRoaXMsaT10JiZ0LmVsO2lmKCFpKXJldHVybjtjb25zdCBuPW5ldyBTZXQsbz1cImYtZmFkZUluXCI7aS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtbGF6eS1zcmNzZXRdXCIpLmZvckVhY2goKHQ9Pnt0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCYmbi5hZGQodCl9KSk7bGV0IGE9QXJyYXkuZnJvbShpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1sYXp5LXNyY11cIikpO2kuZGF0YXNldC5sYXp5U3JjJiZhLnB1c2goaSksYS5tYXAoKHQ9Pnt0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9uLmFkZCh0KTpFKHQpJiYodC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9YHVybCgnJHt0LmRhdGFzZXQubGF6eVNyY3x8XCJcIn0nKWAsZGVsZXRlIHQuZGF0YXNldC5sYXp5U3JjKX0pKTtjb25zdCByPSh0LGksbik9PntuJiYobi5yZW1vdmUoKSxuPW51bGwpLGkuY29tcGxldGUmJihpLmNsYXNzTGlzdC5hZGQobyksc2V0VGltZW91dCgoKCk9PntpLmNsYXNzTGlzdC5yZW1vdmUobyl9KSwzNTApLGkuc3R5bGUudmlzaWJpbGl0eT1cIlwiKSx0aGlzLm9wdGlvbihcImFkYXB0aXZlSGVpZ2h0XCIpJiZ0LmVsJiZ0aGlzLnBhZ2VzW3RoaXMucGFnZV0uc2xpZGVzLmluZGV4T2YodCk+LTEmJihlLnVwZGF0ZU1ldHJpY3MoKSxlLnNldFZpZXdwb3J0SGVpZ2h0KCkpLHRoaXMuZW1pdChcImxvYWRcIix0KX07Zm9yKGNvbnN0IGUgb2Ygbil7bGV0IGk9bnVsbDtlLnNyYz1lLmRhdGFzZXQubGF6eVNyY3NldHx8ZS5kYXRhc2V0LmxhenlTcmN8fFwiXCIsZGVsZXRlIGUuZGF0YXNldC5sYXp5U3JjLGRlbGV0ZSBlLmRhdGFzZXQubGF6eVNyY3NldCxlLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgoKT0+e3IodCxlLGkpfSkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKCk9PntyKHQsZSxpKX0pKSxzZXRUaW1lb3V0KCgoKT0+e2UucGFyZW50Tm9kZSYmdC5lbCYmKGUuY29tcGxldGU/cih0LGUsaSk6KGk9cyh4KSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksZSkpKX0pLDMwMCl9fW9uQW5pbWF0aW9uRW5kKHQpe3ZhciBlO2NvbnN0IGk9dC50YXJnZXQsbj1pP3BhcnNlSW50KGkuZGF0YXNldC5pbmRleHx8XCJcIiwxMCl8fDA6LTEscz10aGlzLnNsaWRlc1tuXSxvPXQuYW5pbWF0aW9uTmFtZTtpZighaXx8IXN8fCFvKXJldHVybjtjb25zdCBhPSEhdGhpcy5pblRyYW5zaXRpb24uaGFzKG4pJiZzLnRyYW5zaXRpb247YSYmby5zdWJzdHJpbmcoMCxhLmxlbmd0aCsyKT09PWBmLSR7YX1gJiZ0aGlzLmluVHJhbnNpdGlvbi5kZWxldGUobiksdGhpcy5pblRyYW5zaXRpb24uc2l6ZXx8dGhpcy5jbGVhclRyYW5zaXRpb25zKCksbj09PXRoaXMucGFnZSYmKG51bGw9PT0oZT10aGlzLnBhbnpvb20pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzUmVzdGluZykmJnRoaXMuZW1pdChcInNldHRsZVwiKX1vbkRlY2VsKHQsZT0wLGk9MCxuPTAscz0wKXtjb25zdHtpc1JUTDpvLGlzSG9yaXpvbnRhbDphLGF4aXM6cixwYWdlczpsfT10aGlzLGM9bC5sZW5ndGgsaD1NYXRoLmFicyhNYXRoLmF0YW4yKGksZSkvKE1hdGguUEkvMTgwKSk7bGV0IGQ9MDtpZihkPWg+NDUmJmg8MTM1P2E/MDppOmE/ZTowLCFjKXJldHVybjtjb25zdCB1PXRoaXMub3B0aW9uKFwiZHJhZ0ZyZWVcIik7bGV0IGY9dGhpcy5wYWdlLHA9byYmYT8xOi0xO2NvbnN0IGc9dC50YXJnZXRbcl0qcCxtPXQuY3VycmVudFtyXSpwO2xldHtwYWdlSW5kZXg6Yn09dGhpcy5nZXRQYWdlRnJvbVBvc2l0aW9uKGcpLHtwYWdlSW5kZXg6dn09dGhpcy5nZXRQYWdlRnJvbVBvc2l0aW9uKG0pO3U/dGhpcy5vbkNoYW5nZShiKTooTWF0aC5hYnMoZCk+NT8obFtmXS5kaW08ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrKHRoaXMuaXNIb3Jpem9udGFsP1wiV2lkdGhcIjpcIkhlaWdodFwiKV0tMSYmKGY9diksZj1vJiZhP2Q8MD9mLTE6ZisxOmQ8MD9mKzE6Zi0xKTpmPTA9PT1uJiYwPT09cz9mOnYsdGhpcy5zbGlkZVRvKGYse3RyYW5zaXRpb246ITEsZnJpY3Rpb246dC5vcHRpb24oXCJkZWNlbEZyaWN0aW9uXCIpfSkpfW9uQ2xpY2sodCl7Y29uc3QgZT10LnRhcmdldCxpPWUmJkUoZSk/ZS5kYXRhc2V0Om51bGw7bGV0IG4scztpJiYodm9pZCAwIT09aS5jYXJvdXNlbFBhZ2U/KHM9XCJzbGlkZVRvXCIsbj1pLmNhcm91c2VsUGFnZSk6dm9pZCAwIT09aS5jYXJvdXNlbE5leHQ/cz1cInNsaWRlTmV4dFwiOnZvaWQgMCE9PWkuY2Fyb3VzZWxQcmV2JiYocz1cInNsaWRlUHJldlwiKSkscz8odC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksZSYmIWUuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIikmJnRoaXNbc10obikpOnRoaXMuZW1pdChcImNsaWNrXCIsdCl9b25TbGlkZVRvKHQpe2NvbnN0IGU9dC5kZXRhaWx8fDA7dGhpcy5zbGlkZVRvKHRoaXMuZ2V0UGFnZUZvclNsaWRlKGUpLHtmcmljdGlvbjowfSl9b25DaGFuZ2UodCxlPTApe2NvbnN0IGk9dGhpcy5wYWdlO3RoaXMucHJldlBhZ2U9aSx0aGlzLnBhZ2U9dCx0aGlzLm9wdGlvbihcImFkYXB0aXZlSGVpZ2h0XCIpJiZ0aGlzLnNldFZpZXdwb3J0SGVpZ2h0KCksdCE9PWkmJih0aGlzLm1hcmtTZWxlY3RlZFNsaWRlcygpLHRoaXMuZW1pdChcImNoYW5nZVwiLHQsaSxlKSl9b25SZWZyZXNoKCl7bGV0IHQ9dGhpcy5jb250ZW50RGltLGU9dGhpcy52aWV3cG9ydERpbTt0aGlzLnVwZGF0ZU1ldHJpY3MoKSx0aGlzLmNvbnRlbnREaW09PT10JiZ0aGlzLnZpZXdwb3J0RGltPT09ZXx8dGhpcy5zbGlkZVRvKHRoaXMucGFnZSx7ZnJpY3Rpb246MCx0cmFuc2l0aW9uOiExfSl9b25TY3JvbGwoKXt2YXIgdDtudWxsPT09KHQ9dGhpcy52aWV3cG9ydCl8fHZvaWQgMD09PXR8fHQuc2Nyb2xsKDAsMCl9b25SZXNpemUoKXt0aGlzLm9wdGlvbihcImJyZWFrcG9pbnRzXCIpJiZ0aGlzLnByb2Nlc3NPcHRpb25zKCl9b25CZWZvcmVUcmFuc2Zvcm0odCl7dGhpcy5scCE9PXQuY3VycmVudFt0aGlzLmF4aXNdJiYodGhpcy5mbGlwSW5maW5pdGVUcmFjaygpLHRoaXMubWFuYWdlU2xpZGVWaXNpYmxpdHkoKSksdGhpcy5scD10LmN1cnJlbnQuZX1vbkVuZEFuaW1hdGlvbigpe3RoaXMuaW5UcmFuc2l0aW9uLnNpemV8fHRoaXMuZW1pdChcInNldHRsZVwiKX1yZUluaXQodD1udWxsLGU9bnVsbCl7dGhpcy5kZXN0cm95KCksdGhpcy5zdGF0ZT1qLkluaXQsdGhpcy51c2VyT3B0aW9ucz10fHx0aGlzLnVzZXJPcHRpb25zLHRoaXMudXNlclBsdWdpbnM9ZXx8dGhpcy51c2VyUGx1Z2lucyx0aGlzLnByb2Nlc3NPcHRpb25zKCl9c2xpZGVUbyh0PTAse2ZyaWN0aW9uOmU9dGhpcy5vcHRpb24oXCJmcmljdGlvblwiKSx0cmFuc2l0aW9uOmk9dGhpcy5vcHRpb24oXCJ0cmFuc2l0aW9uXCIpfT17fSl7aWYodGhpcy5zdGF0ZT09PWouRGVzdHJveSlyZXR1cm47dD1wYXJzZUludCgodHx8MCkudG9TdHJpbmcoKSl8fDA7Y29uc3Qgbj10aGlzLmdldFBhZ2VGcm9tSW5kZXgodCkse2F4aXM6cyxpc0hvcml6b250YWw6byxpc1JUTDphLHBhZ2VzOnIscGFuem9vbTpsfT10aGlzLGM9ci5sZW5ndGgsaD1hJiZvPzE6LTE7aWYoIWx8fCFjKXJldHVybjtpZih0aGlzLnBhZ2UhPT1uKXtjb25zdCBlPW5ldyBFdmVudChcImJlZm9yZUNoYW5nZVwiLHtidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9KTtpZih0aGlzLmVtaXQoXCJiZWZvcmVDaGFuZ2VcIixlLHQpLGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm59aWYodGhpcy50cmFuc2l0aW9uVG8odCxpKSlyZXR1cm47bGV0IGQ9cltuXS5wb3M7aWYodGhpcy5pc0luZmluaXRlKXtjb25zdCBlPXRoaXMuY29udGVudERpbSxpPWwudGFyZ2V0W3NdKmg7aWYoMj09PWMpZCs9ZSpNYXRoLmZsb29yKHBhcnNlRmxvYXQodCtcIlwiKS8yKTtlbHNle2Q9W2QsZC1lLGQrZV0ucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyhlLWkpPE1hdGguYWJzKHQtaSk/ZTp0fSkpfX1kKj1oLE1hdGguYWJzKGwudGFyZ2V0W3NdLWQpPDF8fChsLnBhblRvKHt4Om8/ZDowLHk6bz8wOmQsZnJpY3Rpb246ZX0pLHRoaXMub25DaGFuZ2UobikpfXNsaWRlVG9DbG9zZXN0KHQpe2lmKHRoaXMucGFuem9vbSl7Y29uc3R7cGFnZUluZGV4OmV9PXRoaXMuZ2V0UGFnZUZyb21Qb3NpdGlvbih0aGlzLnBhbnpvb20uY3VycmVudFt0aGlzLmlzSG9yaXpvbnRhbD9cImVcIjpcImZcIl0pO3RoaXMuc2xpZGVUbyhlLHQpfX1zbGlkZU5leHQoKXt0aGlzLnNsaWRlVG8odGhpcy5wYWdlKzEpfXNsaWRlUHJldigpe3RoaXMuc2xpZGVUbyh0aGlzLnBhZ2UtMSl9Y2xlYXJUcmFuc2l0aW9ucygpe3RoaXMuaW5UcmFuc2l0aW9uLmNsZWFyKCksUyh0aGlzLmNvbnRhaW5lcix0aGlzLmNuKFwiaW5UcmFuc2l0aW9uXCIpKTtjb25zdCB0PVtcInRvLXByZXZcIixcInRvLW5leHRcIixcImZyb20tcHJldlwiLFwiZnJvbS1uZXh0XCJdO2Zvcihjb25zdCBlIG9mIHRoaXMuc2xpZGVzKXtjb25zdCBpPWUuZWw7aWYoaSl7aS5yZW1vdmVFdmVudExpc3RlbmVyKFUsdGhpcy5vbkFuaW1hdGlvbkVuZCksaS5jbGFzc0xpc3QucmVtb3ZlKC4uLnQpO2NvbnN0IG49ZS50cmFuc2l0aW9uO24mJmkuY2xhc3NMaXN0LnJlbW92ZShgZi0ke259T3V0YCxgZi0ke259SW5gKX19dGhpcy5tYW5hZ2VTbGlkZVZpc2libGl0eSgpfWFkZFNsaWRlKHQsZSl7dmFyIGksbixzLG87Y29uc3QgYT10aGlzLnBhbnpvb20scj0obnVsbD09PShpPXRoaXMucGFnZXNbdGhpcy5wYWdlXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucG9zKXx8MCxsPShudWxsPT09KG49dGhpcy5wYWdlc1t0aGlzLnBhZ2VdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kaW0pfHwwLGM9dGhpcy5jb250ZW50RGltPHRoaXMudmlld3BvcnREaW07bGV0IGg9QXJyYXkuaXNBcnJheShlKT9lOltlXTtjb25zdCBkPVtdO2Zvcihjb25zdCB0IG9mIGgpZC5wdXNoKEgodCkpO3RoaXMuc2xpZGVzLnNwbGljZSh0LDAsLi4uZCk7Zm9yKGxldCB0PTA7dDx0aGlzLnNsaWRlcy5sZW5ndGg7dCsrKXRoaXMuc2xpZGVzW3RdLmluZGV4PXQ7Zm9yKGNvbnN0IHQgb2YgZCl0aGlzLmVtaXQoXCJiZWZvcmVJbml0U2xpZGVcIix0LHQuaW5kZXgpO2lmKHRoaXMucGFnZT49dCYmKHRoaXMucGFnZSs9ZC5sZW5ndGgpLHRoaXMudXBkYXRlTWV0cmljcygpLGEpe2NvbnN0IGU9KG51bGw9PT0ocz10aGlzLnBhZ2VzW3RoaXMucGFnZV0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnBvcyl8fDAsaT0obnVsbD09PShvPXRoaXMucGFnZXNbdGhpcy5wYWdlXSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZGltKXx8MCxuPXRoaXMucGFnZXMubGVuZ3RofHwxLGg9dGhpcy5pc1JUTD9sLWk6aS1sLGQ9dGhpcy5pc1JUTD9yLWU6ZS1yO2MmJjE9PT1uPyh0PD10aGlzLnBhZ2UmJihhLmN1cnJlbnRbdGhpcy5heGlzXS09aCxhLnRhcmdldFt0aGlzLmF4aXNdLT1oKSxhLnBhblRvKHtbdGhpcy5pc0hvcml6b250YWw/XCJ4XCI6XCJ5XCJdOi0xKmV9KSk6ZCYmdDw9dGhpcy5wYWdlJiYoYS50YXJnZXRbdGhpcy5heGlzXS09ZCxhLmN1cnJlbnRbdGhpcy5heGlzXS09ZCxhLnJlcXVlc3RUaWNrKCkpfWZvcihjb25zdCB0IG9mIGQpdGhpcy5lbWl0KFwiaW5pdFNsaWRlXCIsdCx0LmluZGV4KX1wcmVwZW5kU2xpZGUodCl7dGhpcy5hZGRTbGlkZSgwLHQpfWFwcGVuZFNsaWRlKHQpe3RoaXMuYWRkU2xpZGUodGhpcy5zbGlkZXMubGVuZ3RoLHQpfXJlbW92ZVNsaWRlKHQpe2NvbnN0IGU9dGhpcy5zbGlkZXMubGVuZ3RoO3Q9KHQlZStlKSVlLHRoaXMucmVtb3ZlU2xpZGVFbCh0aGlzLnNsaWRlc1t0XSwhMCksdGhpcy5zbGlkZXMuc3BsaWNlKHQsMSk7Zm9yKGxldCB0PTA7dDx0aGlzLnNsaWRlcy5sZW5ndGg7dCsrKXRoaXMuc2xpZGVzW3RdLmluZGV4PXQ7dGhpcy51cGRhdGVNZXRyaWNzKCksdGhpcy5zbGlkZVRvKHRoaXMucGFnZSx7ZnJpY3Rpb246MCx0cmFuc2l0aW9uOiExfSl9dXBkYXRlTWV0cmljcygpe2NvbnN0e3Bhbnpvb206dCx2aWV3cG9ydDppLHRyYWNrOm4sc2xpZGVzOnMsaXNIb3Jpem9udGFsOm8saXNJbmZpbml0ZTphfT10aGlzO2lmKCFuKXJldHVybjtjb25zdCByPW8/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsbD1vP1wib2Zmc2V0V2lkdGhcIjpcIm9mZnNldEhlaWdodFwiO2lmKGkpe2xldCB0PU1hdGgubWF4KGlbbF0sZShpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3JdLDFlMykpLG49Z2V0Q29tcHV0ZWRTdHlsZShpKSxzPVwicGFkZGluZ1wiLGE9bz9cIlJpZ2h0XCI6XCJCb3R0b21cIjt0LT1wYXJzZUZsb2F0KG5bcysobz9cIkxlZnRcIjpcIlRvcFwiKV0pK3BhcnNlRmxvYXQobltzK2FdKSx0aGlzLnZpZXdwb3J0RGltPXR9bGV0IGMsaD0wO2Zvcihjb25zdFt0LGldb2Ygcy5lbnRyaWVzKCkpe2xldCBuPTAsbz0wOyFpLmVsJiZjPyhuPWMuZGltLG89Yy5nYXApOigoe2RpbTpuLGdhcDpvfT10aGlzLmdldFNsaWRlTWV0cmljcyhpKSksYz1pKSxuPWUobiwxZTMpLG89ZShvLDFlMyksaS5kaW09bixpLmdhcD1vLGkucG9zPWgsaCs9biwoYXx8dDxzLmxlbmd0aC0xKSYmKGgrPW8pfWg9ZShoLDFlMyksdGhpcy5jb250ZW50RGltPWgsdCYmKHQuY29udGVudFJlY3Rbcl09aCx0LmNvbnRlbnRSZWN0W1wiZVwiPT09dGhpcy5heGlzP1wiZnVsbFdpZHRoXCI6XCJmdWxsSGVpZ2h0XCJdPWgpLHRoaXMucGFnZXM9dGhpcy5jcmVhdGVQYWdlcygpLHRoaXMucGFnZXM9dGhpcy5wcm9jZXNzUGFnZXMoKSx0aGlzLnN0YXRlPT09ai5Jbml0JiZ0aGlzLnNldEluaXRpYWxQYWdlKCksdGhpcy5wYWdlPU1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5wYWdlLHRoaXMucGFnZXMubGVuZ3RoLTEpKSx0aGlzLm1hbmFnZVNsaWRlVmlzaWJsaXR5KCksdGhpcy5lbWl0KFwicmVmcmVzaFwiKX1nZXRQcm9ncmVzcyh0LGk9ITEsbj0hMSl7dm9pZCAwPT09dCYmKHQ9dGhpcy5wYWdlKTtjb25zdCBzPXRoaXMsbz1zLnBhbnpvb20sYT1zLmNvbnRlbnREaW0scj1zLnBhZ2VzW3RdfHwwO2lmKCFyfHwhbylyZXR1cm4gdD50aGlzLnBhZ2U/LTE6MTtsZXQgbD0tMSpvLmN1cnJlbnQuZSxjPWUoKGwtci5wb3MpLygxKnIuZGltKSwxZTMpLGg9YyxkPWM7dGhpcy5pc0luZmluaXRlJiYhMCE9PW4mJihoPWUoKGwtci5wb3MrYSkvKDEqci5kaW0pLDFlMyksZD1lKChsLXIucG9zLWEpLygxKnIuZGltKSwxZTMpKTtsZXQgdT1bYyxoLGRdLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hYnMoZSk8TWF0aC5hYnModCk/ZTp0fSkpO3JldHVybiBpP3U6dT4xPzE6dTwtMT8tMTp1fXNldFZpZXdwb3J0SGVpZ2h0KCl7Y29uc3R7cGFnZTp0LHBhZ2VzOmUsdmlld3BvcnQ6aSxpc0hvcml6b250YWw6bn09dGhpcztpZighaXx8IWVbdF0pcmV0dXJuO2xldCBzPTA7biYmdGhpcy50cmFjayYmKHRoaXMudHJhY2suc3R5bGUuaGVpZ2h0PVwiYXV0b1wiLGVbdF0uc2xpZGVzLmZvckVhY2goKHQ9Pnt0LmVsJiYocz1NYXRoLm1heChzLHQuZWwub2Zmc2V0SGVpZ2h0KSl9KSkpLGkuc3R5bGUuaGVpZ2h0PXM/YCR7c31weGA6XCJcIn1nZXRQYWdlRm9yU2xpZGUodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYWdlcylmb3IoY29uc3QgaSBvZiBlLnNsaWRlcylpZihpLmluZGV4PT09dClyZXR1cm4gZS5pbmRleDtyZXR1cm4tMX1nZXRWaXNpYmxlU2xpZGVzKHQ9MCl7dmFyIGU7Y29uc3QgaT1uZXcgU2V0O2xldHtjb250ZW50RGltOm4sdmlld3BvcnREaW06cyxwYWdlczpvLHBhZ2U6YX09dGhpcztuPW4rKG51bGw9PT0oZT10aGlzLnNsaWRlc1t0aGlzLnNsaWRlcy5sZW5ndGgtMV0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdhcCl8fDA7bGV0IHI9MDtyPXRoaXMucGFuem9vbSYmdGhpcy5wYW56b29tLnN0YXRlIT09Yi5Jbml0JiZ0aGlzLnBhbnpvb20uc3RhdGUhPT1iLkRlc3Ryb3k/LTEqdGhpcy5wYW56b29tLmN1cnJlbnRbdGhpcy5heGlzXTpvW2FdJiZvW2FdLnBvc3x8MCx0aGlzLmlzSW5maW5pdGUmJihyLT1NYXRoLmZsb29yKHIvbikqbiksdGhpcy5pc1JUTCYmdGhpcy5pc0hvcml6b250YWwmJihyKj0tMSk7Y29uc3QgbD1yLXMqdCxjPXIrcyoodCsxKSxoPXRoaXMuaXNJbmZpbml0ZT9bLTEsMCwxXTpbMF07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zbGlkZXMpZm9yKGNvbnN0IGUgb2YgaCl7Y29uc3Qgcz10LnBvcytlKm4sbz1zK3QuZGltK3QuZ2FwO3M8YyYmbz5sJiZpLmFkZCh0KX1yZXR1cm4gaX1nZXRQYWdlRnJvbVBvc2l0aW9uKHQpe3ZhciBlO2NvbnN0e3ZpZXdwb3J0RGltOmksY29udGVudERpbTpufT10aGlzLHM9dGhpcy5wYWdlcy5sZW5ndGgsbz10aGlzLnNsaWRlcy5sZW5ndGgsYT10aGlzLnNsaWRlc1tvLTFdO2xldCByPTAsbD0wLGM9MDtjb25zdCBoPXRoaXMub3B0aW9uKFwiY2VudGVyXCIpO2gmJih0Kz0uNSppKSx0aGlzLmlzSW5maW5pdGV8fCh0PU1hdGgubWF4KChudWxsPT09KGU9dGhpcy5zbGlkZXNbMF0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBvcyl8fDAsTWF0aC5taW4odCxhLnBvcykpKTtjb25zdCBkPW4rYS5nYXA7Yz1NYXRoLmZsb29yKHQvZCl8fDAsdC09YypkO2xldCB1PWEsZj10aGlzLnNsaWRlcy5maW5kKChlPT57Y29uc3QgaT10Kyh1JiYhaD8uNSp1LmRpbTowKTtyZXR1cm4gdT1lLGUucG9zPD1pJiZlLnBvcytlLmRpbStlLmdhcD5pfSkpO3JldHVybiBmfHwoZj1hKSxsPXRoaXMuZ2V0UGFnZUZvclNsaWRlKGYuaW5kZXgpLHI9bCtjKnMse3BhZ2U6cixwYWdlSW5kZXg6bH19ZGVzdHJveSgpe2lmKFtqLkRlc3Ryb3ldLmluY2x1ZGVzKHRoaXMuc3RhdGUpKXJldHVybjt0aGlzLnN0YXRlPWouRGVzdHJveTtjb25zdHtjb250YWluZXI6dCx2aWV3cG9ydDplLHRyYWNrOmksc2xpZGVzOm4scGFuem9vbTpzfT10aGlzLG89dGhpcy5vcHRpb24oXCJjbGFzc2VzXCIpO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrLHtwYXNzaXZlOiExLGNhcHR1cmU6ITF9KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzbGlkZVRvXCIsdGhpcy5vblNsaWRlVG8pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vblJlc2l6ZSkscyYmKHMuZGVzdHJveSgpLHRoaXMucGFuem9vbT1udWxsKSxuJiZuLmZvckVhY2goKHQ9Pnt0aGlzLnJlbW92ZVNsaWRlRWwodCl9KSksdGhpcy5kZXRhY2hQbHVnaW5zKCksZSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMub25TY3JvbGwpLGUub2Zmc2V0UGFyZW50JiZpJiZpLm9mZnNldFBhcmVudCYmZS5yZXBsYWNlV2l0aCguLi5pLmNoaWxkTm9kZXMpKTtmb3IoY29uc3RbZSxpXW9mIE9iamVjdC5lbnRyaWVzKG8pKVwiY29udGFpbmVyXCIhPT1lJiZpJiZ0LmNsYXNzTGlzdC5yZW1vdmUoaSk7dGhpcy50cmFjaz1udWxsLHRoaXMudmlld3BvcnQ9bnVsbCx0aGlzLnBhZ2U9MCx0aGlzLnNsaWRlcz1bXTtjb25zdCBhPXRoaXMuZXZlbnRzLmdldChcInJlYWR5XCIpO3RoaXMuZXZlbnRzPW5ldyBNYXAsYSYmdGhpcy5ldmVudHMuc2V0KFwicmVhZHlcIixhKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KEosXCJQYW56b29tXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmt9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSixcImRlZmF1bHRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkZ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSixcIlBsdWdpbnNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Wn0pO2NvbnN0IFE9ZnVuY3Rpb24odCl7aWYoIUUodCkpcmV0dXJuIDA7Y29uc3QgZT13aW5kb3cuc2Nyb2xsWSxpPXdpbmRvdy5pbm5lckhlaWdodCxuPWUraSxzPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1zLnkrZSxhPXMuaGVpZ2h0LHI9bythO2lmKGU+cnx8bjxvKXJldHVybiAwO2lmKGU8byYmbj5yKXJldHVybiAxMDA7aWYobzxlJiZyPm4pcmV0dXJuIDEwMDtsZXQgbD1hO288ZSYmKGwtPWUtbykscj5uJiYobC09ci1uKTtjb25zdCBjPWwvaSoxMDA7cmV0dXJuIE1hdGgucm91bmQoYyl9LHR0PSEoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5kb2N1bWVudHx8IXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtsZXQgZXQ7Y29uc3QgaXQ9W1wiYVtocmVmXVwiLFwiYXJlYVtocmVmXVwiLCdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pOm5vdCguZmFuY3lib3gtZm9jdXMtZ3VhcmQpXCIsXCJpZnJhbWVcIixcIm9iamVjdFwiLFwiZW1iZWRcIixcInZpZGVvXCIsXCJhdWRpb1wiLFwiW2NvbnRlbnRlZGl0YWJsZV1cIiwnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknXS5qb2luKFwiLFwiKSxudD10PT57aWYodCYmdHQpe3ZvaWQgMD09PWV0JiZkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLmZvY3VzKHtnZXQgcHJldmVudFNjcm9sbCgpe3JldHVybiBldD0hMCwhMX19KTt0cnl7aWYoZXQpdC5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pO2Vsc2V7Y29uc3QgZT13aW5kb3cuc2Nyb2xsWXx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsaT13aW5kb3cuc2Nyb2xsWHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O3QuZm9jdXMoKSxkb2N1bWVudC5ib2R5LnNjcm9sbFRvKHt0b3A6ZSxsZWZ0OmksYmVoYXZpb3I6XCJhdXRvXCJ9KX19Y2F0Y2godCl7fX19LHN0PXtkcmFnVG9DbG9zZTohMCxoaWRlU2Nyb2xsYmFyOiEwLENhcm91c2VsOntjbGFzc2VzOntjb250YWluZXI6XCJmYW5jeWJveF9fY2Fyb3VzZWxcIix2aWV3cG9ydDpcImZhbmN5Ym94X192aWV3cG9ydFwiLHRyYWNrOlwiZmFuY3lib3hfX3RyYWNrXCIsc2xpZGU6XCJmYW5jeWJveF9fc2xpZGVcIn19LGNvbnRlbnRDbGljazpcInRvZ2dsZVpvb21cIixjb250ZW50RGJsQ2xpY2s6ITEsYmFja2Ryb3BDbGljazpcImNsb3NlXCIsYW5pbWF0ZWQ6ITAsaWRsZTozNTAwLHNob3dDbGFzczpcImYtem9vbUluVXBcIixoaWRlQ2xhc3M6XCJmLWZhZGVPdXRcIixjb21tb25DYXB0aW9uOiExLHBhcmVudEVsOm51bGwsc3RhcnRJbmRleDowLGwxMG46T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHkpLHtDTE9TRTpcIkNsb3NlXCIsTkVYVDpcIk5leHRcIixQUkVWOlwiUHJldmlvdXNcIixNT0RBTDpcIllvdSBjYW4gY2xvc2UgdGhpcyBtb2RhbCBjb250ZW50IHdpdGggdGhlIEVTQyBrZXlcIixFUlJPUjpcIlNvbWV0aGluZyBXZW50IFdyb25nLCBQbGVhc2UgVHJ5IEFnYWluIExhdGVyXCIsSU1BR0VfRVJST1I6XCJJbWFnZSBOb3QgRm91bmRcIixFTEVNRU5UX05PVF9GT1VORDpcIkhUTUwgRWxlbWVudCBOb3QgRm91bmRcIixBSkFYX05PVF9GT1VORDpcIkVycm9yIExvYWRpbmcgQUpBWCA6IE5vdCBGb3VuZFwiLEFKQVhfRk9SQklEREVOOlwiRXJyb3IgTG9hZGluZyBBSkFYIDogRm9yYmlkZGVuXCIsSUZSQU1FX0VSUk9SOlwiRXJyb3IgTG9hZGluZyBQYWdlXCIsVE9HR0xFX1pPT006XCJUb2dnbGUgem9vbSBsZXZlbFwiLFRPR0dMRV9USFVNQlM6XCJUb2dnbGUgdGh1bWJuYWlsc1wiLFRPR0dMRV9TTElERVNIT1c6XCJUb2dnbGUgc2xpZGVzaG93XCIsVE9HR0xFX0ZVTExTQ1JFRU46XCJUb2dnbGUgZnVsbC1zY3JlZW4gbW9kZVwiLERPV05MT0FEOlwiRG93bmxvYWRcIn0pLHRwbDp7Y2xvc2VCdXR0b246JzxidXR0b24gZGF0YS1mYW5jeWJveC1jbG9zZSBjbGFzcz1cImYtYnV0dG9uIGlzLWNsb3NlLWJ0blwiIHRpdGxlPVwie3tDTE9TRX19XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHRhYmluZGV4PVwiLTFcIj48cGF0aCBkPVwiTTIwIDIwTDQgNG0xNiAwTDQgMjBcIi8+PC9zdmc+PC9idXR0b24+JyxtYWluOic8ZGl2IGNsYXNzPVwiZmFuY3lib3hfX2NvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCJ7e01PREFMfX1cIiB0YWJpbmRleD1cIi0xXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJmYW5jeWJveF9fYmFja2Ryb3BcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImZhbmN5Ym94X19jYXJvdXNlbFwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiZmFuY3lib3hfX2Zvb3RlclwiPjwvZGl2PlxcbiAgPC9kaXY+J30sZ3JvdXBBbGw6ITEsZ3JvdXBBdHRyOlwiZGF0YS1mYW5jeWJveFwiLGRlZmF1bHRUeXBlOlwiaW1hZ2VcIixkZWZhdWx0RGlzcGxheTpcImJsb2NrXCIsYXV0b0ZvY3VzOiEwLHRyYXBGb2N1czohMCxwbGFjZUZvY3VzQmFjazohMCxjbG9zZUJ1dHRvbjpcImF1dG9cIixrZXlib2FyZDp7RXNjYXBlOlwiY2xvc2VcIixEZWxldGU6XCJjbG9zZVwiLEJhY2tzcGFjZTpcImNsb3NlXCIsUGFnZVVwOlwibmV4dFwiLFBhZ2VEb3duOlwicHJldlwiLEFycm93VXA6XCJwcmV2XCIsQXJyb3dEb3duOlwibmV4dFwiLEFycm93UmlnaHQ6XCJuZXh0XCIsQXJyb3dMZWZ0OlwicHJldlwifSxGdWxsc2NyZWVuOnthdXRvU3RhcnQ6ITF9LGNvbXBhY3Q6KCk9PndpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTc4cHgpLCAobWF4LWhlaWdodDogNTc4cHgpXCIpLm1hdGNoZXMsd2hlZWw6XCJ6b29tXCJ9O3ZhciBvdCxhdDshZnVuY3Rpb24odCl7dFt0LkluaXQ9MF09XCJJbml0XCIsdFt0LlJlYWR5PTFdPVwiUmVhZHlcIix0W3QuQ2xvc2luZz0yXT1cIkNsb3NpbmdcIix0W3QuQ3VzdG9tQ2xvc2luZz0zXT1cIkN1c3RvbUNsb3NpbmdcIix0W3QuRGVzdHJveT00XT1cIkRlc3Ryb3lcIn0ob3R8fChvdD17fSkpLGZ1bmN0aW9uKHQpe3RbdC5Mb2FkaW5nPTBdPVwiTG9hZGluZ1wiLHRbdC5PcGVuaW5nPTFdPVwiT3BlbmluZ1wiLHRbdC5SZWFkeT0yXT1cIlJlYWR5XCIsdFt0LkNsb3Npbmc9M109XCJDbG9zaW5nXCJ9KGF0fHwoYXQ9e30pKTtjb25zdCBydD0oKT0+e3F1ZXVlTWljcm90YXNrKCgoKT0+eygoKT0+e2NvbnN0e3NsdWc6dCxpbmRleDplfT1sdC5wYXJzZVVSTCgpLGk9aGUuZ2V0SW5zdGFuY2UoKTtpZihpJiYhMSE9PWkub3B0aW9uKFwiSGFzaFwiKSl7Y29uc3Qgbj1pLmNhcm91c2VsO2lmKHQmJm4pe2ZvcihsZXQgZSBvZiBuLnNsaWRlcylpZihlLnNsdWcmJmUuc2x1Zz09PXQpcmV0dXJuIG4uc2xpZGVUbyhlLmluZGV4KTtpZih0PT09aS5vcHRpb24oXCJzbHVnXCIpKXJldHVybiBuLnNsaWRlVG8oZS0xKTtjb25zdCBzPWkuZ2V0U2xpZGUoKSxvPXMmJnMudHJpZ2dlckVsJiZzLnRyaWdnZXJFbC5kYXRhc2V0O2lmKG8mJm8uZmFuY3lib3g9PT10KXJldHVybiBuLnNsaWRlVG8oZS0xKX1sdC5oYXNTaWxlbnRDbG9zZT0hMCxpLmNsb3NlKCl9bHQuc3RhcnRGcm9tVXJsKCl9KSgpfSkpfTtjbGFzcyBsdCBleHRlbmRzIE57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwib3JpZ0hhc2hcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6XCJcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidGltZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pfW9uQ2hhbmdlKCl7Y29uc3QgdD10aGlzLmluc3RhbmNlLGU9dC5jYXJvdXNlbDt0aGlzLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcik7Y29uc3QgaT10LmdldFNsaWRlKCk7aWYoIWV8fCFpKXJldHVybjtjb25zdCBuPXQuaXNPcGVuaW5nU2xpZGUoaSkscz1uZXcgVVJMKGRvY3VtZW50LlVSTCkuaGFzaDtsZXQgbyxhPWkuc2x1Z3x8dm9pZCAwLHI9aS50cmlnZ2VyRWx8fHZvaWQgMDtvPWF8fHRoaXMuaW5zdGFuY2Uub3B0aW9uKFwic2x1Z1wiKSwhbyYmciYmci5kYXRhc2V0JiYobz1yLmRhdGFzZXQuZmFuY3lib3gpO2xldCBsPVwiXCI7byYmXCJ0cnVlXCIhPT1vJiYobD1cIiNcIitvKyghYSYmZS5zbGlkZXMubGVuZ3RoPjE/XCItXCIrKGkuaW5kZXgrMSk6XCJcIikpLG4mJih0aGlzLm9yaWdIYXNoPXMhPT1sP3M6XCJcIiksbCYmcyE9PWwmJih0aGlzLnRpbWVyPXNldFRpbWVvdXQoKCgpPT57dHJ5e3Quc3RhdGU9PT1vdC5SZWFkeSYmd2luZG93Lmhpc3Rvcnlbbj9cInB1c2hTdGF0ZVwiOlwicmVwbGFjZVN0YXRlXCJdKHt9LGRvY3VtZW50LnRpdGxlLHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSt3aW5kb3cubG9jYXRpb24uc2VhcmNoK2wpfWNhdGNoKHQpe319KSwzMDApKX1vbkNsb3NlKCl7aWYodGhpcy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLCEwIT09bHQuaGFzU2lsZW50Q2xvc2UpdHJ5e3dpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSxkb2N1bWVudC50aXRsZSx3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUrd2luZG93LmxvY2F0aW9uLnNlYXJjaCsodGhpcy5vcmlnSGFzaHx8XCJcIikpfWNhdGNoKHQpe319YXR0YWNoKCl7Y29uc3QgdD10aGlzLmluc3RhbmNlO3Qub24oW1wiQ2Fyb3VzZWwucmVhZHlcIixcIkNhcm91c2VsLmNoYW5nZVwiXSx0aGlzLm9uQ2hhbmdlKSx0Lm9uKFwiY2xvc2VcIix0aGlzLm9uQ2xvc2UpfWRldGFjaCgpe2NvbnN0IHQ9dGhpcy5pbnN0YW5jZTt0Lm9mZihbXCJDYXJvdXNlbC5yZWFkeVwiLFwiQ2Fyb3VzZWwuY2hhbmdlXCJdLHRoaXMub25DaGFuZ2UpLHQub2ZmKFwiY2xvc2VcIix0aGlzLm9uQ2xvc2UpfXN0YXRpYyBwYXJzZVVSTCgpe2NvbnN0IHQ9d2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksZT10LnNwbGl0KFwiLVwiKSxpPWVbZS5sZW5ndGgtMV0sbj1pJiYvXlxcKz9cXGQrJC8udGVzdChpKSYmcGFyc2VJbnQoZS5wb3AoKXx8XCIxXCIsMTApfHwxO3JldHVybntoYXNoOnQsc2x1ZzplLmpvaW4oXCItXCIpLGluZGV4Om59fXN0YXRpYyBzdGFydEZyb21VcmwoKXtpZihsdC5oYXNTaWxlbnRDbG9zZT0hMSxoZS5nZXRJbnN0YW5jZSgpfHwhMT09PWhlLmRlZmF1bHRzLkhhc2gpcmV0dXJuO2NvbnN0e2hhc2g6dCxzbHVnOmUsaW5kZXg6aX09bHQucGFyc2VVUkwoKTtpZighZSlyZXR1cm47bGV0IG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc2x1Zz1cIiR7dH1cIl1gKTtpZihuJiZuLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2xpY2tcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwfSkpLGhlLmdldEluc3RhbmNlKCkpcmV0dXJuO2NvbnN0IHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtZmFuY3lib3g9XCIke2V9XCJdYCk7cy5sZW5ndGgmJihuPXNbaS0xXSxuJiZuLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2xpY2tcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwfSkpKX1zdGF0aWMgZGVzdHJveSgpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHJ0LCExKX19ZnVuY3Rpb24gY3QoKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIixydCwhMSksc2V0VGltZW91dCgoKCk9PntsdC5zdGFydEZyb21VcmwoKX0pLDUwMCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGx0LFwiZGVmYXVsdHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6e319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobHQsXCJoYXNTaWxlbnRDbG9zZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTohMX0pLHR0JiYoL2NvbXBsZXRlfGludGVyYWN0aXZlfGxvYWRlZC8udGVzdChkb2N1bWVudC5yZWFkeVN0YXRlKT9jdCgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsY3QpKTtjb25zdCBodD1cImlzLXpvb21pbmctaW5cIjtjbGFzcyBkdCBleHRlbmRzIE57b25DcmVhdGVTbGlkZSh0LGUsaSl7Y29uc3Qgbj10aGlzLmluc3RhbmNlLm9wdGlvbkZvcihpLFwic3JjXCIpfHxcIlwiO2kuZWwmJlwiaW1hZ2VcIj09PWkudHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIG4mJnRoaXMuc2V0SW1hZ2UoaSxuKX1vblJlbW92ZVNsaWRlKHQsZSxpKXtpLnBhbnpvb20mJmkucGFuem9vbS5kZXN0cm95KCksaS5wYW56b29tPXZvaWQgMCxpLmltYWdlRWw9dm9pZCAwfW9uQ2hhbmdlKHQsZSxpLG4pe1ModGhpcy5pbnN0YW5jZS5jb250YWluZXIsaHQpO2Zvcihjb25zdCB0IG9mIGUuc2xpZGVzKXtjb25zdCBlPXQucGFuem9vbTtlJiZ0LmluZGV4IT09aSYmZS5yZXNldCguMzUpfX1vbkNsb3NlKCl7dmFyIHQ7Y29uc3QgZT10aGlzLmluc3RhbmNlLGk9ZS5jb250YWluZXIsbj1lLmdldFNsaWRlKCk7aWYoIWl8fCFpLnBhcmVudEVsZW1lbnR8fCFuKXJldHVybjtjb25zdHtlbDpzLGNvbnRlbnRFbDpvLHBhbnpvb206YSx0aHVtYkVsU3JjOnJ9PW47aWYoIXN8fCFyfHwhb3x8IWF8fGEuaXNDb250ZW50TG9hZGluZ3x8YS5zdGF0ZT09PWIuSW5pdHx8YS5zdGF0ZT09PWIuRGVzdHJveSlyZXR1cm47YS51cGRhdGVNZXRyaWNzKCk7bGV0IGw9dGhpcy5nZXRab29tSW5mbyhuKTtpZighbClyZXR1cm47dGhpcy5pbnN0YW5jZS5zdGF0ZT1vdC5DdXN0b21DbG9zaW5nLGkuY2xhc3NMaXN0LnJlbW92ZShodCksaS5jbGFzc0xpc3QuYWRkKFwiaXMtem9vbWluZy1vdXRcIiksby5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9YHVybCgnJHtyfScpYDtjb25zdCBjPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7MT09PSgobnVsbD09PSh0PXdpbmRvdy52aXN1YWxWaWV3cG9ydCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2NhbGUpfHwxKSYmT2JqZWN0LmFzc2lnbihpLnN0eWxlLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmAke3dpbmRvdy5zY3JvbGxZfXB4YCxsZWZ0OmAke3dpbmRvdy5zY3JvbGxYfXB4YCxib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCIsd2lkdGg6YCR7Yy53aWR0aH1weGAsaGVpZ2h0OmAke2MuaGVpZ2h0fXB4YCxvdmVyZmxvdzpcImhpZGRlblwifSk7Y29uc3R7eDpoLHk6ZCxzY2FsZTp1LG9wYWNpdHk6Zn09bDtpZihmKXtjb25zdCB0PSgodCxlLGksbik9Pntjb25zdCBzPWUtdCxvPW4taTtyZXR1cm4gZT0+aSsoKGUtdCkvcypvfHwwKX0pKGEuc2NhbGUsdSwxLDApO2Eub24oXCJhZnRlclRyYW5zZm9ybVwiLCgoKT0+e28uc3R5bGUub3BhY2l0eT10KGEuc2NhbGUpK1wiXCJ9KSl9YS5vbihcImVuZEFuaW1hdGlvblwiLCgoKT0+e2UuZGVzdHJveSgpfSkpLGEudGFyZ2V0LmE9dSxhLnRhcmdldC5iPTAsYS50YXJnZXQuYz0wLGEudGFyZ2V0LmQ9dSxhLnBhblRvKHt4OmgseTpkLHNjYWxlOnUsZnJpY3Rpb246Zj8uMjouMzMsaWdub3JlQm91bmRzOiEwfSksYS5pc1Jlc3RpbmcmJmUuZGVzdHJveSgpfXNldEltYWdlKHQsZSl7Y29uc3QgaT10aGlzLmluc3RhbmNlO3Quc3JjPWUsdGhpcy5wcm9jZXNzKHQsZSkudGhlbigoZT0+e2NvbnN0e2NvbnRlbnRFbDpuLGltYWdlRWw6cyx0aHVtYkVsU3JjOm8sZWw6YX09dDtpZihpLmlzQ2xvc2luZygpfHwhbnx8IXMpcmV0dXJuO24ub2Zmc2V0SGVpZ2h0O2NvbnN0IHI9ISFpLmlzT3BlbmluZ1NsaWRlKHQpJiZ0aGlzLmdldFpvb21JbmZvKHQpO2lmKHRoaXMub3B0aW9uKFwicHJvdGVjdGVkXCIpJiZhKXthLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCh0PT57dC5wcmV2ZW50RGVmYXVsdCgpfSkpO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtQKHQsXCJmYW5jeWJveC1wcm90ZWN0ZWRcIiksbi5hcHBlbmRDaGlsZCh0KX1pZihvJiZyKXtjb25zdCBzPWUuY29udGVudFJlY3QsYT1NYXRoLm1heChzLmZ1bGxXaWR0aCxzLmZ1bGxIZWlnaHQpO2xldCBjPW51bGw7IXIub3BhY2l0eSYmYT4xMjAwJiYoYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLFAoYyxcImZhbmN5Ym94LWdob3N0XCIpLGMuc3JjPW8sbi5hcHBlbmRDaGlsZChjKSk7Y29uc3QgaD0oKT0+e2MmJihQKGMsXCJmLWZhZGVGYXN0T3V0XCIpLHNldFRpbWVvdXQoKCgpPT57YyYmKGMucmVtb3ZlKCksYz1udWxsKX0pLDIwMCkpfTsobD1vLG5ldyBQcm9taXNlKCgodCxlKT0+e2NvbnN0IGk9bmV3IEltYWdlO2kub25sb2FkPXQsaS5vbmVycm9yPWUsaS5zcmM9bH0pKSkudGhlbigoKCk9PntpLmhpZGVMb2FkaW5nKHQpLHQuc3RhdGU9YXQuT3BlbmluZyx0aGlzLmluc3RhbmNlLmVtaXQoXCJyZXZlYWxcIix0KSx0aGlzLnpvb21Jbih0KS50aGVuKCgoKT0+e2goKSx0aGlzLmluc3RhbmNlLmRvbmUodCl9KSwoKCk9Pnt9KSksYyYmc2V0VGltZW91dCgoKCk9PntoKCl9KSxhPjI1MDA/ODAwOjIwMCl9KSwoKCk9PntpLmhpZGVMb2FkaW5nKHQpLGkucmV2ZWFsQ29udGVudCh0KX0pKX1lbHNle2NvbnN0IG49dGhpcy5vcHRpb25Gb3IodCxcImluaXRpYWxTaXplXCIpLHM9dGhpcy5vcHRpb25Gb3IodCxcInpvb21cIiksbz17ZXZlbnQ6aS5wcmV2TW91c2VNb3ZlRXZlbnR8fGkub3B0aW9ucy5ldmVudCxmcmljdGlvbjpzPy4xMjowfTtsZXQgYT1pLm9wdGlvbkZvcih0LFwic2hvd0NsYXNzXCIpfHx2b2lkIDAscj0hMDtpLmlzT3BlbmluZ1NsaWRlKHQpJiYoXCJmdWxsXCI9PT1uP2Uuem9vbVRvRnVsbChvKTpcImNvdmVyXCI9PT1uP2Uuem9vbVRvQ292ZXIobyk6XCJtYXhcIj09PW4/ZS56b29tVG9NYXgobyk6cj0hMSxlLnN0b3AoXCJjdXJyZW50XCIpKSxyJiZhJiYoYT1lLmlzRHJhZ2dpbmc/XCJmLWZhZGVJblwiOlwiXCIpLGkuaGlkZUxvYWRpbmcodCksaS5yZXZlYWxDb250ZW50KHQsYSl9dmFyIGx9KSwoKCk9PntpLnNldEVycm9yKHQsXCJ7e0lNQUdFX0VSUk9SfX1cIil9KSl9cHJvY2Vzcyh0LGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKGksbik9Pnt2YXIgbztjb25zdCBhPXRoaXMuaW5zdGFuY2Uscj10LmVsO2EuY2xlYXJDb250ZW50KHQpLGEuc2hvd0xvYWRpbmcodCk7bGV0IGw9dGhpcy5vcHRpb25Gb3IodCxcImNvbnRlbnRcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGwmJihsPXMobCkpLCFsfHwhRShsKSl7aWYobD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGwgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KXtsZXQgaT1cIlwiLG49dC5jYXB0aW9uO2k9XCJzdHJpbmdcIj09dHlwZW9mIG4mJm4/bi5yZXBsYWNlKC88W14+XSs+L2dpLFwiXCIpLnN1YnN0cmluZygwLDFlMyk6YEltYWdlICR7dC5pbmRleCsxfSBvZiAke251bGw9PT0obz1hLmNhcm91c2VsKXx8dm9pZCAwPT09bz92b2lkIDA6by5wYWdlcy5sZW5ndGh9YCxsLnNyYz1lfHxcIlwiLGwuYWx0PWksbC5kcmFnZ2FibGU9ITEsdC5zcmNzZXQmJmwuc2V0QXR0cmlidXRlKFwic3Jjc2V0XCIsdC5zcmNzZXQpLHRoaXMuaW5zdGFuY2UuaXNPcGVuaW5nU2xpZGUodCkmJihsLmZldGNoUHJpb3JpdHk9XCJoaWdoXCIpfXQuc2l6ZXMmJmwuc2V0QXR0cmlidXRlKFwic2l6ZXNcIix0LnNpemVzKX1QKGwsXCJmYW5jeWJveC1pbWFnZVwiKSx0LmltYWdlRWw9bCxhLnNldENvbnRlbnQodCxsLCExKTt0LnBhbnpvb209bmV3IGsocixmKHt0cmFuc2Zvcm1QYXJlbnQ6ITB9LHRoaXMub3B0aW9uKFwiUGFuem9vbVwiKXx8e30se2NvbnRlbnQ6bCx3aWR0aDphLm9wdGlvbkZvcih0LFwid2lkdGhcIixcImF1dG9cIiksaGVpZ2h0OmEub3B0aW9uRm9yKHQsXCJoZWlnaHRcIixcImF1dG9cIiksd2hlZWw6KCk9Pntjb25zdCB0PWEub3B0aW9uKFwid2hlZWxcIik7cmV0dXJuKFwiem9vbVwiPT09dHx8XCJwYW5cIj09dCkmJnR9LGNsaWNrOihlLGkpPT57dmFyIG4scztpZihhLmlzQ29tcGFjdHx8YS5pc0Nsb3NpbmcoKSlyZXR1cm4hMTtpZih0LmluZGV4IT09KG51bGw9PT0obj1hLmdldFNsaWRlKCkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmluZGV4KSlyZXR1cm4hMTtpZihpKXtjb25zdCB0PWkuY29tcG9zZWRQYXRoKClbMF07aWYoW1wiQVwiLFwiQlVUVE9OXCIsXCJURVhUQVJFQVwiLFwiT1BUSU9OXCIsXCJJTlBVVFwiLFwiU0VMRUNUXCIsXCJWSURFT1wiXS5pbmNsdWRlcyh0Lm5vZGVOYW1lKSlyZXR1cm4hMX1sZXQgbz0haXx8aS50YXJnZXQmJihudWxsPT09KHM9dC5jb250ZW50RWwpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNvbnRhaW5zKGkudGFyZ2V0KSk7cmV0dXJuIGEub3B0aW9uKG8/XCJjb250ZW50Q2xpY2tcIjpcImJhY2tkcm9wQ2xpY2tcIil8fCExfSxkYmxDbGljazooKT0+YS5pc0NvbXBhY3Q/XCJ0b2dnbGVab29tXCI6YS5vcHRpb24oXCJjb250ZW50RGJsQ2xpY2tcIil8fCExLHNwaW5uZXI6ITEscGFuT25seVpvb21lZDohMCx3aGVlbExpbWl0OjEvMCxvbjp7cmVhZHk6dD0+e2kodCl9LGVycm9yOigpPT57bigpfSxkZXN0cm95OigpPT57bigpfX19KSl9KSl9em9vbUluKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoKGUsaSk9Pntjb25zdCBuPXRoaXMuaW5zdGFuY2Uscz1uLmNvbnRhaW5lcix7cGFuem9vbTpvLGNvbnRlbnRFbDphLGVsOnJ9PXQ7byYmby51cGRhdGVNZXRyaWNzKCk7Y29uc3QgbD10aGlzLmdldFpvb21JbmZvKHQpO2lmKCEobCYmciYmYSYmbyYmcykpcmV0dXJuIHZvaWQgaSgpO2NvbnN0e3g6Yyx5Omgsc2NhbGU6ZCxvcGFjaXR5OnV9PWwsZj0oKT0+e3Quc3RhdGUhPT1hdC5DbG9zaW5nJiYodSYmKGEuc3R5bGUub3BhY2l0eT1NYXRoLm1heChNYXRoLm1pbigxLDEtKDEtby5zY2FsZSkvKDEtZCkpLDApK1wiXCIpLG8uc2NhbGU+PTEmJm8uc2NhbGU+by50YXJnZXRTY2FsZS0uMSYmZShvKSl9LHA9dD0+eyh0LnNjYWxlPC45OXx8dC5zY2FsZT4xLjAxKSYmIXQuaXNEcmFnZ2luZ3x8KFMocyxodCksYS5zdHlsZS5vcGFjaXR5PVwiXCIsdC5vZmYoXCJlbmRBbmltYXRpb25cIixwKSx0Lm9mZihcInRvdWNoU3RhcnRcIixwKSx0Lm9mZihcImFmdGVyVHJhbnNmb3JtXCIsZiksZSh0KSl9O28ub24oXCJlbmRBbmltYXRpb25cIixwKSxvLm9uKFwidG91Y2hTdGFydFwiLHApLG8ub24oXCJhZnRlclRyYW5zZm9ybVwiLGYpLG8ub24oW1wiZXJyb3JcIixcImRlc3Ryb3lcIl0sKCgpPT57aSgpfSkpLG8ucGFuVG8oe3g6Yyx5Omgsc2NhbGU6ZCxmcmljdGlvbjowLGlnbm9yZUJvdW5kczohMH0pLG8uc3RvcChcImN1cnJlbnRcIik7Y29uc3QgZz17ZXZlbnQ6XCJtb3VzZW1vdmVcIj09PW8ucGFuTW9kZT9uLnByZXZNb3VzZU1vdmVFdmVudHx8bi5vcHRpb25zLmV2ZW50OnZvaWQgMH0sbT10aGlzLm9wdGlvbkZvcih0LFwiaW5pdGlhbFNpemVcIik7UChzLGh0KSxuLmhpZGVMb2FkaW5nKHQpLFwiZnVsbFwiPT09bT9vLnpvb21Ub0Z1bGwoZyk6XCJjb3ZlclwiPT09bT9vLnpvb21Ub0NvdmVyKGcpOlwibWF4XCI9PT1tP28uem9vbVRvTWF4KGcpOm8ucmVzZXQoLjE3Mil9KSl9Z2V0Wm9vbUluZm8odCl7dmFyIGU7Y29uc3R7ZWw6aSxpbWFnZUVsOm4sdGh1bWJFbDpzLHBhbnpvb206b309dDtpZighaXx8IW58fCFzfHwhb3x8UShzKTwzfHwhdGhpcy5vcHRpb25Gb3IodCxcInpvb21cIil8fHRoaXMuaW5zdGFuY2Uuc3RhdGU9PT1vdC5EZXN0cm95KXJldHVybiExO2lmKDEhPT0oKG51bGw9PT0oZT13aW5kb3cudmlzdWFsVmlld3BvcnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnNjYWxlKXx8MSkpcmV0dXJuITE7bGV0e3RvcDphLGxlZnQ6cix3aWR0aDpsLGhlaWdodDpjfT1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHt0b3A6aCxsZWZ0OmQsZml0V2lkdGg6dSxmaXRIZWlnaHQ6Zn09by5jb250ZW50UmVjdDtpZighKGwmJmMmJnUmJmYpKXJldHVybiExO2NvbnN0IHA9by5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZCs9cC5sZWZ0LGgrPXAudG9wO2NvbnN0IGc9LTEqKGQrLjUqdS0ocisuNSpsKSksbT0tMSooaCsuNSpmLShhKy41KmMpKSxiPWwvdTtsZXQgdj10aGlzLm9wdGlvbihcInpvb21PcGFjaXR5XCIpfHwhMTtyZXR1cm5cImF1dG9cIj09PXYmJih2PU1hdGguYWJzKGwvYy11L2YpPi4xKSx7eDpnLHk6bSxzY2FsZTpiLG9wYWNpdHk6dn19YXR0YWNoKCl7Y29uc3QgdD10aGlzLGU9dC5pbnN0YW5jZTtlLm9uKFwiQ2Fyb3VzZWwuY2hhbmdlXCIsdC5vbkNoYW5nZSksZS5vbihcIkNhcm91c2VsLmNyZWF0ZVNsaWRlXCIsdC5vbkNyZWF0ZVNsaWRlKSxlLm9uKFwiQ2Fyb3VzZWwucmVtb3ZlU2xpZGVcIix0Lm9uUmVtb3ZlU2xpZGUpLGUub24oXCJjbG9zZVwiLHQub25DbG9zZSl9ZGV0YWNoKCl7Y29uc3QgdD10aGlzLGU9dC5pbnN0YW5jZTtlLm9mZihcIkNhcm91c2VsLmNoYW5nZVwiLHQub25DaGFuZ2UpLGUub2ZmKFwiQ2Fyb3VzZWwuY3JlYXRlU2xpZGVcIix0Lm9uQ3JlYXRlU2xpZGUpLGUub2ZmKFwiQ2Fyb3VzZWwucmVtb3ZlU2xpZGVcIix0Lm9uUmVtb3ZlU2xpZGUpLGUub2ZmKFwiY2xvc2VcIix0Lm9uQ2xvc2UpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZHQsXCJkZWZhdWx0c1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7aW5pdGlhbFNpemU6XCJmaXRcIixQYW56b29tOnttYXhTY2FsZToxfSxwcm90ZWN0ZWQ6ITEsem9vbTohMCx6b29tT3BhY2l0eTpcImF1dG9cIn19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTdXBwcmVzc2VkRXJyb3ImJlN1cHByZXNzZWRFcnJvcjtjb25zdCB1dD1cImh0bWxcIixmdD1cImltYWdlXCIscHQ9XCJtYXBcIixndD1cInlvdXR1YmVcIixtdD1cInZpbWVvXCIsYnQ9XCJodG1sNXZpZGVvXCIsdnQ9KHQsZT17fSk9Pntjb25zdCBpPW5ldyBVUkwodCksbj1uZXcgVVJMU2VhcmNoUGFyYW1zKGkuc2VhcmNoKSxzPW5ldyBVUkxTZWFyY2hQYXJhbXM7Zm9yKGNvbnN0W3QsaV1vZlsuLi5uLC4uLk9iamVjdC5lbnRyaWVzKGUpXSl7bGV0IGU9aS50b1N0cmluZygpO1widFwiPT09dD9zLnNldChcInN0YXJ0XCIscGFyc2VJbnQoZSkudG9TdHJpbmcoKSk6cy5zZXQodCxlKX1sZXQgbz1zLnRvU3RyaW5nKCksYT10Lm1hdGNoKC8jdD0oKC4qKT9cXGQrcykvKTtyZXR1cm4gYSYmKG8rPWAjdD0ke2FbMV19YCksb30seXQ9e2FqYXg6bnVsbCxhdXRvU2l6ZTohMCxpZnJhbWVBdHRyOnthbGxvdzpcImF1dG9wbGF5OyBmdWxsc2NyZWVuXCIsc2Nyb2xsaW5nOlwiYXV0b1wifSxwcmVsb2FkOiEwLHZpZGVvQXV0b3BsYXk6ITAsdmlkZW9SYXRpbzoxNi85LHZpZGVvVHBsOic8dmlkZW8gY2xhc3M9XCJmYW5jeWJveF9faHRtbDV2aWRlb1wiIHBsYXlzaW5saW5lIGNvbnRyb2xzIGNvbnRyb2xzTGlzdD1cIm5vZG93bmxvYWRcIiBwb3N0ZXI9XCJ7e3Bvc3Rlcn19XCI+XFxuICA8c291cmNlIHNyYz1cInt7c3JjfX1cIiB0eXBlPVwie3tmb3JtYXR9fVwiIC8+U29ycnksIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBlbWJlZGRlZCB2aWRlb3MuPC92aWRlbz4nLHZpZGVvRm9ybWF0OlwiXCIsdmltZW86e2J5bGluZToxLGNvbG9yOlwiMDBhZGVmXCIsY29udHJvbHM6MSxkbnQ6MSxtdXRlZDowfSx5b3V0dWJlOntjb250cm9sczoxLGVuYWJsZWpzYXBpOjEsbm9jb29raWU6MSxyZWw6MCxmczoxfX0sd3Q9W1wiaW1hZ2VcIixcImh0bWxcIixcImFqYXhcIixcImlubGluZVwiLFwiY2xvbmVcIixcImlmcmFtZVwiLFwibWFwXCIsXCJwZGZcIixcImh0bWw1dmlkZW9cIixcInlvdXR1YmVcIixcInZpbWVvXCJdO2NsYXNzIHh0IGV4dGVuZHMgTntvbkJlZm9yZUluaXRTbGlkZSh0LGUsaSl7dGhpcy5wcm9jZXNzVHlwZShpKX1vbkNyZWF0ZVNsaWRlKHQsZSxpKXt0aGlzLnNldENvbnRlbnQoaSl9b25DbGVhckNvbnRlbnQodCxlKXtlLnhociYmKGUueGhyLmFib3J0KCksZS54aHI9bnVsbCk7Y29uc3QgaT1lLmlmcmFtZUVsO2kmJihpLm9ubG9hZD1pLm9uZXJyb3I9bnVsbCxpLnNyYz1cIi8vYWJvdXQ6YmxhbmtcIixlLmlmcmFtZUVsPW51bGwpO2NvbnN0IG49ZS5jb250ZW50RWwscz1lLnBsYWNlaG9sZGVyRWw7aWYoXCJpbmxpbmVcIj09PWUudHlwZSYmbiYmcyluLmNsYXNzTGlzdC5yZW1vdmUoXCJmYW5jeWJveF9fY29udGVudFwiKSxcIm5vbmVcIiE9PW4uc3R5bGUuZGlzcGxheSYmKG4uc3R5bGUuZGlzcGxheT1cIm5vbmVcIikscy5wYXJlbnROb2RlJiZzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4scykscy5yZW1vdmUoKSxlLmNvbnRlbnRFbD12b2lkIDAsZS5wbGFjZWhvbGRlckVsPXZvaWQgMDtlbHNlIGZvcig7ZS5lbCYmZS5lbC5maXJzdENoaWxkOyllLmVsLnJlbW92ZUNoaWxkKGUuZWwuZmlyc3RDaGlsZCl9b25TZWxlY3RTbGlkZSh0LGUsaSl7aS5zdGF0ZT09PWF0LlJlYWR5JiZ0aGlzLnBsYXlWaWRlbygpfW9uVW5zZWxlY3RTbGlkZSh0LGUsaSl7dmFyIG4scztpZihpLnR5cGU9PT1idCl7dHJ5e251bGw9PT0ocz1udWxsPT09KG49aS5lbCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpKXx8dm9pZCAwPT09c3x8cy5wYXVzZSgpfWNhdGNoKHQpe31yZXR1cm59bGV0IG87aS50eXBlPT09bXQ/bz17bWV0aG9kOlwicGF1c2VcIix2YWx1ZTpcInRydWVcIn06aS50eXBlPT09Z3QmJihvPXtldmVudDpcImNvbW1hbmRcIixmdW5jOlwicGF1c2VWaWRlb1wifSksbyYmaS5pZnJhbWVFbCYmaS5pZnJhbWVFbC5jb250ZW50V2luZG93JiZpLmlmcmFtZUVsLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobyksXCIqXCIpLGkucG9sbGVyJiZjbGVhclRpbWVvdXQoaS5wb2xsZXIpfW9uRG9uZSh0LGUpe3QuaXNDdXJyZW50U2xpZGUoZSkmJiF0LmlzQ2xvc2luZygpJiZ0aGlzLnBsYXlWaWRlbygpfW9uUmVmcmVzaCh0LGUpe2Uuc2xpZGVzLmZvckVhY2goKHQ9Pnt0LmVsJiYodGhpcy5yZXNpemVJZnJhbWUodCksdGhpcy5zZXRBc3BlY3RSYXRpbyh0KSl9KSl9b25NZXNzYWdlKHQpe3RyeXtsZXQgZT1KU09OLnBhcnNlKHQuZGF0YSk7aWYoXCJodHRwczovL3BsYXllci52aW1lby5jb21cIj09PXQub3JpZ2luKXtpZihcInJlYWR5XCI9PT1lLmV2ZW50KWZvcihsZXQgZSBvZiBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJmYW5jeWJveF9faWZyYW1lXCIpKSllIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQmJmUuY29udGVudFdpbmRvdz09PXQuc291cmNlJiYoZS5kYXRhc2V0LnJlYWR5PVwidHJ1ZVwiKX1lbHNlIGlmKHQub3JpZ2luLm1hdGNoKC9eaHR0cHM6XFwvXFwvKHd3dy4pP3lvdXR1YmUoLW5vY29va2llKT8uY29tJC8pJiZcIm9uUmVhZHlcIj09PWUuZXZlbnQpe2NvbnN0IHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5pZCk7dCYmKHQuZGF0YXNldC5yZWFkeT1cInRydWVcIil9fWNhdGNoKHQpe319bG9hZEFqYXhDb250ZW50KHQpe2NvbnN0IGU9dGhpcy5pbnN0YW5jZS5vcHRpb25Gb3IodCxcInNyY1wiKXx8XCJcIjt0aGlzLmluc3RhbmNlLnNob3dMb2FkaW5nKHQpO2NvbnN0IGk9dGhpcy5pbnN0YW5jZSxuPW5ldyBYTUxIdHRwUmVxdWVzdDtpLnNob3dMb2FkaW5nKHQpLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bi5yZWFkeVN0YXRlPT09WE1MSHR0cFJlcXVlc3QuRE9ORSYmaS5zdGF0ZT09PW90LlJlYWR5JiYoaS5oaWRlTG9hZGluZyh0KSwyMDA9PT1uLnN0YXR1cz9pLnNldENvbnRlbnQodCxuLnJlc3BvbnNlVGV4dCk6aS5zZXRFcnJvcih0LDQwND09PW4uc3RhdHVzP1wie3tBSkFYX05PVF9GT1VORH19XCI6XCJ7e0FKQVhfRk9SQklEREVOfX1cIikpfTtjb25zdCBzPXQuYWpheHx8bnVsbDtuLm9wZW4ocz9cIlBPU1RcIjpcIkdFVFwiLGUrXCJcIiksbi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksbi5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLFwiWE1MSHR0cFJlcXVlc3RcIiksbi5zZW5kKHMpLHQueGhyPW59c2V0SW5saW5lQ29udGVudCh0KXtsZXQgZT1udWxsO2lmKEUodC5zcmMpKWU9dC5zcmM7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdC5zcmMpe2NvbnN0IGk9dC5zcmMuc3BsaXQoXCIjXCIsMikucG9wKCk7ZT1pP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpOm51bGx9aWYoZSl7aWYoXCJjbG9uZVwiPT09dC50eXBlfHxlLmNsb3Nlc3QoXCIuZmFuY3lib3hfX3NsaWRlXCIpKXtlPWUuY2xvbmVOb2RlKCEwKTtjb25zdCBpPWUuZGF0YXNldC5hbmltYXRpb25OYW1lO2kmJihlLmNsYXNzTGlzdC5yZW1vdmUoaSksZGVsZXRlIGUuZGF0YXNldC5hbmltYXRpb25OYW1lKTtsZXQgbj1lLmdldEF0dHJpYnV0ZShcImlkXCIpO249bj9gJHtufS0tY2xvbmVgOmBjbG9uZS0ke3RoaXMuaW5zdGFuY2UuaWR9LSR7dC5pbmRleH1gLGUuc2V0QXR0cmlidXRlKFwiaWRcIixuKX1lbHNlIGlmKGUucGFyZW50Tm9kZSl7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuY2xhc3NMaXN0LmFkZChcImZhbmN5Ym94LXBsYWNlaG9sZGVyXCIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSxlKSx0LnBsYWNlaG9sZGVyRWw9aX10aGlzLmluc3RhbmNlLnNldENvbnRlbnQodCxlKX1lbHNlIHRoaXMuaW5zdGFuY2Uuc2V0RXJyb3IodCxcInt7RUxFTUVOVF9OT1RfRk9VTkR9fVwiKX1zZXRJZnJhbWVDb250ZW50KHQpe2NvbnN0e3NyYzplLGVsOml9PXQ7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhaSlyZXR1cm47aS5jbGFzc0xpc3QuYWRkKFwiaXMtbG9hZGluZ1wiKTtjb25zdCBuPXRoaXMuaW5zdGFuY2Uscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3MuY2xhc3NOYW1lPVwiZmFuY3lib3hfX2lmcmFtZVwiLHMuc2V0QXR0cmlidXRlKFwiaWRcIixgZmFuY3lib3hfX2lmcmFtZV8ke24uaWR9XyR7dC5pbmRleH1gKTtmb3IoY29uc3RbZSxpXW9mIE9iamVjdC5lbnRyaWVzKHRoaXMub3B0aW9uRm9yKHQsXCJpZnJhbWVBdHRyXCIpfHx7fSkpcy5zZXRBdHRyaWJ1dGUoZSxpKTtzLm9uZXJyb3I9KCk9PntuLnNldEVycm9yKHQsXCJ7e0lGUkFNRV9FUlJPUn19XCIpfSx0LmlmcmFtZUVsPXM7Y29uc3Qgbz10aGlzLm9wdGlvbkZvcih0LFwicHJlbG9hZFwiKTtpZihcImlmcmFtZVwiIT09dC50eXBlfHwhMT09PW8pcmV0dXJuIHMuc2V0QXR0cmlidXRlKFwic3JjXCIsdC5zcmMrXCJcIiksbi5zZXRDb250ZW50KHQscywhMSksdGhpcy5yZXNpemVJZnJhbWUodCksdm9pZCBuLnJldmVhbENvbnRlbnQodCk7bi5zaG93TG9hZGluZyh0KSxzLm9ubG9hZD0oKT0+e2lmKCFzLnNyYy5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9XCJ0cnVlXCIhPT1zLmRhdGFzZXQucmVhZHk7cy5kYXRhc2V0LnJlYWR5PVwidHJ1ZVwiLHRoaXMucmVzaXplSWZyYW1lKHQpLGU/bi5yZXZlYWxDb250ZW50KHQpOm4uaGlkZUxvYWRpbmcodCl9LHMuc2V0QXR0cmlidXRlKFwic3JjXCIsZSksbi5zZXRDb250ZW50KHQscywhMSl9cmVzaXplSWZyYW1lKHQpe2NvbnN0e3R5cGU6ZSxpZnJhbWVFbDppfT10O2lmKGU9PT1ndHx8ZT09PW10KXJldHVybjtjb25zdCBuPW51bGw9PWk/dm9pZCAwOmkucGFyZW50RWxlbWVudDtpZighaXx8IW4pcmV0dXJuO2xldCBzPXQuYXV0b1NpemU7dm9pZCAwPT09cyYmKHM9dGhpcy5vcHRpb25Gb3IodCxcImF1dG9TaXplXCIpKTtsZXQgbz10LndpZHRofHwwLGE9dC5oZWlnaHR8fDA7byYmYSYmKHM9ITEpO2NvbnN0IHI9biYmbi5zdHlsZTtpZighMSE9PXQucHJlbG9hZCYmITEhPT1zJiZyKXRyeXtjb25zdCB0PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG4pLGU9cGFyc2VGbG9hdCh0LnBhZGRpbmdMZWZ0KStwYXJzZUZsb2F0KHQucGFkZGluZ1JpZ2h0KSxzPXBhcnNlRmxvYXQodC5wYWRkaW5nVG9wKStwYXJzZUZsb2F0KHQucGFkZGluZ0JvdHRvbSksbD1pLmNvbnRlbnRXaW5kb3c7aWYobCl7Y29uc3QgdD1sLmRvY3VtZW50LGk9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSh1dClbMF0sbj10LmJvZHk7ci53aWR0aD1cIlwiLG4uc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixvPW98fGkuc2Nyb2xsV2lkdGgrZSxyLndpZHRoPWAke299cHhgLG4uc3R5bGUub3ZlcmZsb3c9XCJcIixyLmZsZXg9XCIwIDAgYXV0b1wiLHIuaGVpZ2h0PWAke24uc2Nyb2xsSGVpZ2h0fXB4YCxhPWkuc2Nyb2xsSGVpZ2h0K3N9fWNhdGNoKHQpe31pZihvfHxhKXtjb25zdCB0PXtmbGV4OlwiMCAxIGF1dG9cIix3aWR0aDpcIlwiLGhlaWdodDpcIlwifTtvJiZcImF1dG9cIiE9PW8mJih0LndpZHRoPWAke299cHhgKSxhJiZcImF1dG9cIiE9PWEmJih0LmhlaWdodD1gJHthfXB4YCksT2JqZWN0LmFzc2lnbihyLHQpfX1wbGF5VmlkZW8oKXtjb25zdCB0PXRoaXMuaW5zdGFuY2UuZ2V0U2xpZGUoKTtpZighdClyZXR1cm47Y29uc3R7ZWw6ZX09dDtpZighZXx8IWUub2Zmc2V0UGFyZW50KXJldHVybjtpZighdGhpcy5vcHRpb25Gb3IodCxcInZpZGVvQXV0b3BsYXlcIikpcmV0dXJuO2lmKHQudHlwZT09PWJ0KXRyeXtjb25zdCB0PWUucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO2lmKHQpe2NvbnN0IGU9dC5wbGF5KCk7dm9pZCAwIT09ZSYmZS50aGVuKCgoKT0+e30pKS5jYXRjaCgoZT0+e3QubXV0ZWQ9ITAsdC5wbGF5KCl9KSl9fWNhdGNoKHQpe31pZih0LnR5cGUhPT1ndCYmdC50eXBlIT09bXQpcmV0dXJuO2NvbnN0IGk9KCk9PntpZih0LmlmcmFtZUVsJiZ0LmlmcmFtZUVsLmNvbnRlbnRXaW5kb3cpe2xldCBlO2lmKFwidHJ1ZVwiPT09dC5pZnJhbWVFbC5kYXRhc2V0LnJlYWR5KXJldHVybiBlPXQudHlwZT09PWd0P3tldmVudDpcImNvbW1hbmRcIixmdW5jOlwicGxheVZpZGVvXCJ9OnttZXRob2Q6XCJwbGF5XCIsdmFsdWU6XCJ0cnVlXCJ9LGUmJnQuaWZyYW1lRWwuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShlKSxcIipcIiksdm9pZCh0LnBvbGxlcj12b2lkIDApO3QudHlwZT09PWd0JiYoZT17ZXZlbnQ6XCJsaXN0ZW5pbmdcIixpZDp0LmlmcmFtZUVsLmdldEF0dHJpYnV0ZShcImlkXCIpfSx0LmlmcmFtZUVsLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZSksXCIqXCIpKX10LnBvbGxlcj1zZXRUaW1lb3V0KGksMjUwKX07aSgpfXByb2Nlc3NUeXBlKHQpe2lmKHQuaHRtbClyZXR1cm4gdC50eXBlPXV0LHQuc3JjPXQuaHRtbCx2b2lkKHQuaHRtbD1cIlwiKTtjb25zdCBlPXRoaXMuaW5zdGFuY2Uub3B0aW9uRm9yKHQsXCJzcmNcIixcIlwiKTtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuO2xldCBpPXQudHlwZSxuPW51bGw7aWYobj1lLm1hdGNoKC8oeW91dHViZVxcLmNvbXx5b3V0dVxcLmJlfHlvdXR1YmVcXC1ub2Nvb2tpZVxcLmNvbSlcXC8oPzp3YXRjaFxcPyg/Oi4qJik/dj18dlxcL3x1XFwvfHNob3J0c1xcL3xlbWJlZFxcLz8pPyh2aWRlb3Nlcmllc1xcP2xpc3Q9KD86LiopfFtcXHctXXsxMX18XFw/bGlzdFR5cGU9KD86LiopJmxpc3Q9KD86LiopKSg/Oi4qKS9pKSl7Y29uc3Qgcz10aGlzLm9wdGlvbkZvcih0LGd0KSx7bm9jb29raWU6b309cyxhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9e307Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUuaW5kZXhPZihuKTwwJiYoaVtuXT10W25dKTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7czxuLmxlbmd0aDtzKyspZS5pbmRleE9mKG5bc10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG5bc10pJiYoaVtuW3NdXT10W25bc11dKX1yZXR1cm4gaX0ocyxbXCJub2Nvb2tpZVwiXSkscj1gd3d3LnlvdXR1YmUke28/XCItbm9jb29raWVcIjpcIlwifS5jb21gLGw9dnQoZSxhKSxjPWVuY29kZVVSSUNvbXBvbmVudChuWzJdKTt0LnZpZGVvSWQ9Yyx0LnNyYz1gaHR0cHM6Ly8ke3J9L2VtYmVkLyR7Y30/JHtsfWAsdC50aHVtYlNyYz10LnRodW1iU3JjfHxgaHR0cHM6Ly9pLnl0aW1nLmNvbS92aS8ke2N9L21xZGVmYXVsdC5qcGdgLGk9Z3R9ZWxzZSBpZihuPWUubWF0Y2goL14uK3ZpbWVvLmNvbVxcLyg/OlxcLyk/KFtcXGRdKykoKFxcL3xcXD9oPSkoW2EtejAtOV0rKSk/KC4qKT8vKSl7Y29uc3Qgcz12dChlLHRoaXMub3B0aW9uRm9yKHQsbXQpKSxvPWVuY29kZVVSSUNvbXBvbmVudChuWzFdKSxhPW5bNF18fFwiXCI7dC52aWRlb0lkPW8sdC5zcmM9YGh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8ke299PyR7YT9gaD0ke2F9JHtzP1wiJlwiOlwiXCJ9YDpcIlwifSR7c31gLGk9bXR9aWYoIWkmJnQudHJpZ2dlckVsKXtjb25zdCBlPXQudHJpZ2dlckVsLmRhdGFzZXQudHlwZTt3dC5pbmNsdWRlcyhlKSYmKGk9ZSl9aXx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJihcIiNcIj09PWUuY2hhckF0KDApP2k9XCJpbmxpbmVcIjoobj1lLm1hdGNoKC9cXC4obXA0fG1vdnxvZ3Z8d2VibSkoKFxcP3wjKS4qKT8kL2kpKT8oaT1idCx0LnZpZGVvRm9ybWF0PXQudmlkZW9Gb3JtYXR8fFwidmlkZW8vXCIrKFwib2d2XCI9PT1uWzFdP1wib2dnXCI6blsxXSkpOmUubWF0Y2goLyheZGF0YTppbWFnZVxcL1thLXowLTkrXFwvPV0qLCl8KFxcLihqcChlfGd8ZWcpfGdpZnxwbmd8Ym1wfHdlYnB8c3ZnfGljbykoKFxcP3wjKS4qKT8kKS9pKT9pPWZ0OmUubWF0Y2goL1xcLihwZGYpKChcXD98IykuKik/JC9pKSYmKGk9XCJwZGZcIikpLChuPWUubWF0Y2goLyg/Om1hcHNcXC4pP2dvb2dsZVxcLihbYS16XXsyLDN9KD86XFwuW2Etel17Mn0pPylcXC8oPzooPzooPzptYXBzXFwvKD86cGxhY2VcXC8oPzouKilcXC8pP1xcQCguKiksKFxcZCsuP1xcZCs/KXopKXwoPzpcXD9sbD0pKSguKik/L2kpKT8odC5zcmM9YGh0dHBzOi8vbWFwcy5nb29nbGUuJHtuWzFdfS8/bGw9JHsoblsyXT9uWzJdK1wiJno9XCIrTWF0aC5mbG9vcihwYXJzZUZsb2F0KG5bM10pKSsobls0XT9uWzRdLnJlcGxhY2UoL15cXC8vLFwiJlwiKTpcIlwiKTpuWzRdK1wiXCIpLnJlcGxhY2UoL1xcPy8sXCImXCIpfSZvdXRwdXQ9JHtuWzRdJiZuWzRdLmluZGV4T2YoXCJsYXllcj1jXCIpPjA/XCJzdmVtYmVkXCI6XCJlbWJlZFwifWAsaT1wdCk6KG49ZS5tYXRjaCgvKD86bWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oPzpcXC5bYS16XXsyfSk/KVxcLyg/Om1hcHNcXC9zZWFyY2hcXC8pKC4qKS9pKSkmJih0LnNyYz1gaHR0cHM6Ly9tYXBzLmdvb2dsZS4ke25bMV19L21hcHM/cT0ke25bMl0ucmVwbGFjZShcInF1ZXJ5PVwiLFwicT1cIikucmVwbGFjZShcImFwaT0xXCIsXCJcIil9Jm91dHB1dD1lbWJlZGAsaT1wdCksaT1pfHx0aGlzLmluc3RhbmNlLm9wdGlvbihcImRlZmF1bHRUeXBlXCIpLHQudHlwZT1pLGk9PT1mdCYmKHQudGh1bWJTcmM9dC50aHVtYlNyY3x8dC5zcmMpfXNldENvbnRlbnQodCl7Y29uc3QgZT10aGlzLmluc3RhbmNlLm9wdGlvbkZvcih0LFwic3JjXCIpfHxcIlwiO2lmKHQmJnQudHlwZSYmZSl7c3dpdGNoKHQudHlwZSl7Y2FzZSB1dDp0aGlzLmluc3RhbmNlLnNldENvbnRlbnQodCxlKTticmVhaztjYXNlIGJ0OmNvbnN0IGk9dGhpcy5vcHRpb24oXCJ2aWRlb1RwbFwiKTtpJiZ0aGlzLmluc3RhbmNlLnNldENvbnRlbnQodCxpLnJlcGxhY2UoL1xce1xce3NyY1xcfVxcfS9naSxlK1wiXCIpLnJlcGxhY2UoL1xce1xce2Zvcm1hdFxcfVxcfS9naSx0aGlzLm9wdGlvbkZvcih0LFwidmlkZW9Gb3JtYXRcIil8fFwiXCIpLnJlcGxhY2UoL1xce1xce3Bvc3RlclxcfVxcfS9naSx0LnBvc3Rlcnx8dC50aHVtYlNyY3x8XCJcIikpO2JyZWFrO2Nhc2VcImlubGluZVwiOmNhc2VcImNsb25lXCI6dGhpcy5zZXRJbmxpbmVDb250ZW50KHQpO2JyZWFrO2Nhc2VcImFqYXhcIjp0aGlzLmxvYWRBamF4Q29udGVudCh0KTticmVhaztjYXNlXCJwZGZcIjpjYXNlIHB0OmNhc2UgZ3Q6Y2FzZSBtdDp0LnByZWxvYWQ9ITE7Y2FzZVwiaWZyYW1lXCI6dGhpcy5zZXRJZnJhbWVDb250ZW50KHQpfXRoaXMuc2V0QXNwZWN0UmF0aW8odCl9fXNldEFzcGVjdFJhdGlvKHQpe2NvbnN0IGU9dC5jb250ZW50RWw7aWYoISh0LmVsJiZlJiZ0LnR5cGUmJltndCxtdCxidF0uaW5jbHVkZXModC50eXBlKSkpcmV0dXJuO2xldCBpLG49dC53aWR0aHx8XCJhdXRvXCIscz10LmhlaWdodHx8XCJhdXRvXCI7aWYoXCJhdXRvXCI9PT1ufHxcImF1dG9cIj09PXMpe2k9dGhpcy5vcHRpb25Gb3IodCxcInZpZGVvUmF0aW9cIik7Y29uc3QgZT0oaStcIlwiKS5tYXRjaCgvKFxcZCspXFxzKlxcL1xccz8oXFxkKykvKTtpPWUmJmUubGVuZ3RoPjI/cGFyc2VGbG9hdChlWzFdKS9wYXJzZUZsb2F0KGVbMl0pOnBhcnNlRmxvYXQoaStcIlwiKX1lbHNlIG4mJnMmJihpPW4vcyk7aWYoIWkpcmV0dXJuO2Uuc3R5bGUuYXNwZWN0UmF0aW89XCJcIixlLnN0eWxlLndpZHRoPVwiXCIsZS5zdHlsZS5oZWlnaHQ9XCJcIixlLm9mZnNldEhlaWdodDtjb25zdCBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1vLndpZHRofHwxLHI9by5oZWlnaHR8fDE7ZS5zdHlsZS5hc3BlY3RSYXRpbz1pK1wiXCIsaTxhL3I/KHM9XCJhdXRvXCI9PT1zP3I6TWF0aC5taW4ocixzKSxlLnN0eWxlLndpZHRoPVwiYXV0b1wiLGUuc3R5bGUuaGVpZ2h0PWAke3N9cHhgKToobj1cImF1dG9cIj09PW4/YTpNYXRoLm1pbihhLG4pLGUuc3R5bGUud2lkdGg9YCR7bn1weGAsZS5zdHlsZS5oZWlnaHQ9XCJhdXRvXCIpfWF0dGFjaCgpe2NvbnN0IHQ9dGhpcyxlPXQuaW5zdGFuY2U7ZS5vbihcIkNhcm91c2VsLmJlZm9yZUluaXRTbGlkZVwiLHQub25CZWZvcmVJbml0U2xpZGUpLGUub24oXCJDYXJvdXNlbC5jcmVhdGVTbGlkZVwiLHQub25DcmVhdGVTbGlkZSksZS5vbihcIkNhcm91c2VsLnNlbGVjdFNsaWRlXCIsdC5vblNlbGVjdFNsaWRlKSxlLm9uKFwiQ2Fyb3VzZWwudW5zZWxlY3RTbGlkZVwiLHQub25VbnNlbGVjdFNsaWRlKSxlLm9uKFwiQ2Fyb3VzZWwuUGFuem9vbS5yZWZyZXNoXCIsdC5vblJlZnJlc2gpLGUub24oXCJkb25lXCIsdC5vbkRvbmUpLGUub24oXCJjbGVhckNvbnRlbnRcIix0Lm9uQ2xlYXJDb250ZW50KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0Lm9uTWVzc2FnZSl9ZGV0YWNoKCl7Y29uc3QgdD10aGlzLGU9dC5pbnN0YW5jZTtlLm9mZihcIkNhcm91c2VsLmJlZm9yZUluaXRTbGlkZVwiLHQub25CZWZvcmVJbml0U2xpZGUpLGUub2ZmKFwiQ2Fyb3VzZWwuY3JlYXRlU2xpZGVcIix0Lm9uQ3JlYXRlU2xpZGUpLGUub2ZmKFwiQ2Fyb3VzZWwuc2VsZWN0U2xpZGVcIix0Lm9uU2VsZWN0U2xpZGUpLGUub2ZmKFwiQ2Fyb3VzZWwudW5zZWxlY3RTbGlkZVwiLHQub25VbnNlbGVjdFNsaWRlKSxlLm9mZihcIkNhcm91c2VsLlBhbnpvb20ucmVmcmVzaFwiLHQub25SZWZyZXNoKSxlLm9mZihcImRvbmVcIix0Lm9uRG9uZSksZS5vZmYoXCJjbGVhckNvbnRlbnRcIix0Lm9uQ2xlYXJDb250ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0Lm9uTWVzc2FnZSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4dCxcImRlZmF1bHRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnl0fSk7Y29uc3QgRXQ9XCJwbGF5XCIsU3Q9XCJwYXVzZVwiLFB0PVwicmVhZHlcIjtjbGFzcyBDdCBleHRlbmRzIE57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhdGVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6UHR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImluSG92ZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRpbWVyXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByb2dyZXNzQmFyXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KX1nZXQgaXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5zdGF0ZSE9PVB0fW9uUmVhZHkodCl7dGhpcy5vcHRpb24oXCJhdXRvU3RhcnRcIikmJih0LmlzSW5maW5pdGV8fHQucGFnZTx0LnBhZ2VzLmxlbmd0aC0xKSYmdGhpcy5zdGFydCgpfW9uQ2hhbmdlKCl7dmFyIHQ7KG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBhbnpvb20pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzUmVzdGluZyl8fCh0aGlzLnJlbW92ZVByb2dyZXNzQmFyKCksdGhpcy5wYXVzZSgpKX1vblNldHRsZSgpe3RoaXMucmVzdW1lKCl9b25WaXNpYmlsaXR5Q2hhbmdlKCl7XCJ2aXNpYmxlXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/dGhpcy5yZXN1bWUoKTp0aGlzLnBhdXNlKCl9b25Nb3VzZUVudGVyKCl7dGhpcy5pbkhvdmVyPSEwLHRoaXMucGF1c2UoKX1vbk1vdXNlTGVhdmUoKXt2YXIgdDt0aGlzLmluSG92ZXI9ITEsKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBhbnpvb20pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzUmVzdGluZykmJnRoaXMucmVzdW1lKCl9b25UaW1lckVuZCgpe2NvbnN0IHQ9dGhpcy5pbnN0YW5jZTtcInBsYXlcIj09PXRoaXMuc3RhdGUmJih0LmlzSW5maW5pdGV8fHQucGFnZSE9PXQucGFnZXMubGVuZ3RoLTE/dC5zbGlkZU5leHQoKTp0LnNsaWRlVG8oMCkpfXJlbW92ZVByb2dyZXNzQmFyKCl7dGhpcy5wcm9ncmVzc0JhciYmKHRoaXMucHJvZ3Jlc3NCYXIucmVtb3ZlKCksdGhpcy5wcm9ncmVzc0Jhcj1udWxsKX1jcmVhdGVQcm9ncmVzc0Jhcigpe3ZhciB0O2lmKCF0aGlzLm9wdGlvbihcInNob3dQcm9ncmVzc1wiKSlyZXR1cm4gbnVsbDt0aGlzLnJlbW92ZVByb2dyZXNzQmFyKCk7Y29uc3QgZT10aGlzLmluc3RhbmNlLGk9KG51bGw9PT0odD1lLnBhZ2VzW2UucGFnZV0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNsaWRlcyl8fFtdO2xldCBuPXRoaXMub3B0aW9uKFwicHJvZ3Jlc3NQYXJlbnRFbFwiKTtpZihufHwobj0oMT09PWkubGVuZ3RoP2lbMF0uZWw6bnVsbCl8fGUudmlld3BvcnQpLCFuKXJldHVybiBudWxsO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gUChzLFwiZi1wcm9ncmVzc1wiKSxuLnByZXBlbmQocyksdGhpcy5wcm9ncmVzc0Jhcj1zLHMub2Zmc2V0SGVpZ2h0LHN9c2V0KCl7Y29uc3QgdD10aGlzLGU9dC5pbnN0YW5jZTtpZihlLnBhZ2VzLmxlbmd0aDwyKXJldHVybjtpZih0LnRpbWVyKXJldHVybjtjb25zdCBpPXQub3B0aW9uKFwidGltZW91dFwiKTt0LnN0YXRlPUV0LFAoZS5jb250YWluZXIsXCJoYXMtYXV0b3BsYXlcIik7bGV0IG49dC5jcmVhdGVQcm9ncmVzc0JhcigpO24mJihuLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHtpfW1zYCxuLnN0eWxlLnRyYW5zZm9ybT1cInNjYWxlWCgxKVwiKSx0LnRpbWVyPXNldFRpbWVvdXQoKCgpPT57dC50aW1lcj1udWxsLHQuaW5Ib3Zlcnx8dC5vblRpbWVyRW5kKCl9KSxpKSx0LmVtaXQoXCJzZXRcIil9Y2xlYXIoKXtjb25zdCB0PXRoaXM7dC50aW1lciYmKGNsZWFyVGltZW91dCh0LnRpbWVyKSx0LnRpbWVyPW51bGwpLHQucmVtb3ZlUHJvZ3Jlc3NCYXIoKX1zdGFydCgpe2NvbnN0IHQ9dGhpcztpZih0LnNldCgpLHQuc3RhdGUhPT1QdCl7aWYodC5vcHRpb24oXCJwYXVzZU9uSG92ZXJcIikpe2NvbnN0IGU9dC5pbnN0YW5jZS5jb250YWluZXI7ZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHQub25Nb3VzZUVudGVyLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdC5vbk1vdXNlTGVhdmUsITEpfWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdC5vblZpc2liaWxpdHlDaGFuZ2UsITEpLHQuZW1pdChcInN0YXJ0XCIpfX1zdG9wKCl7Y29uc3QgdD10aGlzLGU9dC5zdGF0ZSxpPXQuaW5zdGFuY2UuY29udGFpbmVyO3QuY2xlYXIoKSx0LnN0YXRlPVB0LGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0Lm9uTW91c2VFbnRlciwhMSksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHQub25Nb3VzZUxlYXZlLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHQub25WaXNpYmlsaXR5Q2hhbmdlLCExKSxTKGksXCJoYXMtYXV0b3BsYXlcIiksZSE9PVB0JiZ0LmVtaXQoXCJzdG9wXCIpfXBhdXNlKCl7Y29uc3QgdD10aGlzO3Quc3RhdGU9PT1FdCYmKHQuc3RhdGU9U3QsdC5jbGVhcigpLHQuZW1pdChTdCkpfXJlc3VtZSgpe2NvbnN0IHQ9dGhpcyxlPXQuaW5zdGFuY2U7aWYoZS5pc0luZmluaXRlfHxlLnBhZ2UhPT1lLnBhZ2VzLmxlbmd0aC0xKWlmKHQuc3RhdGUhPT1FdCl7aWYodC5zdGF0ZT09PVN0JiYhdC5pbkhvdmVyKXtjb25zdCBlPW5ldyBFdmVudChcInJlc3VtZVwiLHtidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9KTt0LmVtaXQoXCJyZXN1bWVcIixlKSxlLmRlZmF1bHRQcmV2ZW50ZWR8fHQuc2V0KCl9fWVsc2UgdC5zZXQoKTtlbHNlIHQuc3RvcCgpfXRvZ2dsZSgpe3RoaXMuc3RhdGU9PT1FdHx8dGhpcy5zdGF0ZT09PVN0P3RoaXMuc3RvcCgpOnRoaXMuc3RhcnQoKX1hdHRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uub24oXCJyZWFkeVwiLHQub25SZWFkeSksZS5vbihcIlBhbnpvb20uc3RhcnRBbmltYXRpb25cIix0Lm9uQ2hhbmdlKSxlLm9uKFwiUGFuem9vbS5lbmRBbmltYXRpb25cIix0Lm9uU2V0dGxlKSxlLm9uKFwiUGFuem9vbS50b3VjaE1vdmVcIix0Lm9uQ2hhbmdlKX1kZXRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uub2ZmKFwicmVhZHlcIix0Lm9uUmVhZHkpLGUub2ZmKFwiUGFuem9vbS5zdGFydEFuaW1hdGlvblwiLHQub25DaGFuZ2UpLGUub2ZmKFwiUGFuem9vbS5lbmRBbmltYXRpb25cIix0Lm9uU2V0dGxlKSxlLm9mZihcIlBhbnpvb20udG91Y2hNb3ZlXCIsdC5vbkNoYW5nZSksdC5zdG9wKCl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdCxcImRlZmF1bHRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnthdXRvU3RhcnQ6ITAscGF1c2VPbkhvdmVyOiEwLHByb2dyZXNzUGFyZW50RWw6bnVsbCxzaG93UHJvZ3Jlc3M6ITAsdGltZW91dDozZTN9fSk7Y2xhc3MgVHQgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlZlwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSl9b25QcmVwYXJlKHQpe2NvbnN0IGU9dC5jYXJvdXNlbDtpZighZSlyZXR1cm47Y29uc3QgaT10LmNvbnRhaW5lcjtpJiYoZS5vcHRpb25zLkF1dG9wbGF5PWYoe2F1dG9TdGFydDohMX0sdGhpcy5vcHRpb24oXCJBdXRvcGxheVwiKXx8e30se3BhdXNlT25Ib3ZlcjohMSx0aW1lb3V0OnRoaXMub3B0aW9uKFwidGltZW91dFwiKSxwcm9ncmVzc1BhcmVudEVsOigpPT50aGlzLm9wdGlvbihcInByb2dyZXNzUGFyZW50RWxcIil8fG51bGwsb246e3N0YXJ0OigpPT57dC5lbWl0KFwic3RhcnRTbGlkZXNob3dcIil9LHNldDplPT57dmFyIG47aS5jbGFzc0xpc3QuYWRkKFwiaGFzLXNsaWRlc2hvd1wiKSwobnVsbD09PShuPXQuZ2V0U2xpZGUoKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhdGUpIT09YXQuUmVhZHkmJmUucGF1c2UoKX0sc3RvcDooKT0+e2kuY2xhc3NMaXN0LnJlbW92ZShcImhhcy1zbGlkZXNob3dcIiksdC5pc0NvbXBhY3R8fHQuZW5kSWRsZSgpLHQuZW1pdChcImVuZFNsaWRlc2hvd1wiKX0scmVzdW1lOihlLGkpPT57dmFyIG4scyxvOyFpfHwhaS5jYW5jZWxhYmxlfHwobnVsbD09PShuPXQuZ2V0U2xpZGUoKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhdGUpPT09YXQuUmVhZHkmJihudWxsPT09KG89bnVsbD09PShzPXQuY2Fyb3VzZWwpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnBhbnpvb20pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlzUmVzdGluZyl8fGkucHJldmVudERlZmF1bHQoKX19fSksZS5hdHRhY2hQbHVnaW5zKHtBdXRvcGxheTpDdH0pLHRoaXMucmVmPWUucGx1Z2lucy5BdXRvcGxheSl9b25SZWFkeSh0KXtjb25zdCBlPXQuY2Fyb3VzZWwsaT10aGlzLnJlZjtpJiZlJiZ0aGlzLm9wdGlvbihcInBsYXlPblN0YXJ0XCIpJiYoZS5pc0luZmluaXRlfHxlLnBhZ2U8ZS5wYWdlcy5sZW5ndGgtMSkmJmkuc3RhcnQoKX1vbkRvbmUodCxlKXtjb25zdCBpPXRoaXMucmVmLG49dC5jYXJvdXNlbDtpZighaXx8IW4pcmV0dXJuO2NvbnN0IHM9ZS5wYW56b29tO3MmJnMub24oXCJzdGFydEFuaW1hdGlvblwiLCgoKT0+e3QuaXNDdXJyZW50U2xpZGUoZSkmJmkuc3RvcCgpfSkpLHQuaXNDdXJyZW50U2xpZGUoZSkmJmkucmVzdW1lKCl9b25LZXlkb3duKHQsZSl7dmFyIGk7Y29uc3Qgbj10aGlzLnJlZjtuJiZlPT09dGhpcy5vcHRpb24oXCJrZXlcIikmJlwiQlVUVE9OXCIhPT0obnVsbD09PShpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm5vZGVOYW1lKSYmbi50b2dnbGUoKX1hdHRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uub24oXCJDYXJvdXNlbC5pbml0XCIsdC5vblByZXBhcmUpLGUub24oXCJDYXJvdXNlbC5yZWFkeVwiLHQub25SZWFkeSksZS5vbihcImRvbmVcIix0Lm9uRG9uZSksZS5vbihcImtleWRvd25cIix0Lm9uS2V5ZG93bil9ZGV0YWNoKCl7Y29uc3QgdD10aGlzLGU9dC5pbnN0YW5jZTtlLm9mZihcIkNhcm91c2VsLmluaXRcIix0Lm9uUHJlcGFyZSksZS5vZmYoXCJDYXJvdXNlbC5yZWFkeVwiLHQub25SZWFkeSksZS5vZmYoXCJkb25lXCIsdC5vbkRvbmUpLGUub2ZmKFwia2V5ZG93blwiLHQub25LZXlkb3duKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KFR0LFwiZGVmYXVsdHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6e2tleTpcIiBcIixwbGF5T25TdGFydDohMSxwcm9ncmVzc1BhcmVudEVsOnQ9Pnt2YXIgZTtyZXR1cm4obnVsbD09PShlPXQuaW5zdGFuY2UuY29udGFpbmVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5xdWVyeVNlbGVjdG9yKFwiLmZhbmN5Ym94X190b29sYmFyIFtkYXRhLWZhbmN5Ym94LXRvZ2dsZS1zbGlkZXNob3ddXCIpKXx8dC5pbnN0YW5jZS5jb250YWluZXJ9LHRpbWVvdXQ6M2UzfX0pO2NvbnN0IE10PXtjbGFzc2VzOntjb250YWluZXI6XCJmLXRodW1icyBmLWNhcm91c2VsX190aHVtYnNcIix2aWV3cG9ydDpcImYtdGh1bWJzX192aWV3cG9ydFwiLHRyYWNrOlwiZi10aHVtYnNfX3RyYWNrXCIsc2xpZGU6XCJmLXRodW1ic19fc2xpZGVcIixpc1Jlc3Rpbmc6XCJpcy1yZXN0aW5nXCIsaXNTZWxlY3RlZDpcImlzLXNlbGVjdGVkXCIsaXNMb2FkaW5nOlwiaXMtbG9hZGluZ1wiLGhhc1RodW1iczpcImhhcy10aHVtYnNcIn0sbWluQ291bnQ6MixwYXJlbnRFbDpudWxsLHRodW1iVHBsOic8YnV0dG9uIGNsYXNzPVwiZi10aHVtYnNfX3NsaWRlX19idXR0b25cIiB0YWJpbmRleD1cIjBcIiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cInt7R09UT319XCIgZGF0YS1jYXJvdXNlbC1pbmRleD1cIiVpXCI+PGltZyBjbGFzcz1cImYtdGh1bWJzX19zbGlkZV9faW1nXCIgZGF0YS1sYXp5LXNyYz1cInt7JXN9fVwiIGFsdD1cIlwiIC8+PC9idXR0b24+Jyx0eXBlOlwibW9kZXJuXCJ9O3ZhciBPdDshZnVuY3Rpb24odCl7dFt0LkluaXQ9MF09XCJJbml0XCIsdFt0LlJlYWR5PTFdPVwiUmVhZHlcIix0W3QuSGlkZGVuPTJdPVwiSGlkZGVuXCJ9KE90fHwoT3Q9e30pKTtjb25zdCBBdD1cImlzUmVzdGluZ1wiLEx0PVwidGh1bWJXaWR0aFwiLHp0PVwidGh1bWJIZWlnaHRcIixSdD1cInRodW1iQ2xpcFdpZHRoXCI7bGV0IGt0PWNsYXNzIGV4dGVuZHMgTntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0eXBlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOlwibW9kZXJuXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbnRhaW5lclwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0cmFja1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjYXJvdXNlbFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpudWxsfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0aHVtYldpZHRoXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRodW1iQ2xpcFdpZHRoXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRodW1iSGVpZ2h0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRodW1iR2FwXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRodW1iRXh0cmFHYXBcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhdGVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6T3QuSW5pdH0pfWdldCBpc01vZGVybigpe3JldHVyblwibW9kZXJuXCI9PT10aGlzLnR5cGV9b25Jbml0U2xpZGUodCxlKXtjb25zdCBpPWUuZWw/ZS5lbC5kYXRhc2V0OnZvaWQgMDtpJiYoZS50aHVtYlNyYz1pLnRodW1iU3JjfHxlLnRodW1iU3JjfHxcIlwiLGVbUnRdPXBhcnNlRmxvYXQoaVtSdF18fFwiXCIpfHxlW1J0XXx8MCxlW3p0XT1wYXJzZUZsb2F0KGkudGh1bWJIZWlnaHR8fFwiXCIpfHxlW3p0XXx8MCksdGhpcy5hZGRTbGlkZShlKX1vbkluaXRTbGlkZXMoKXt0aGlzLmJ1aWxkKCl9b25DaGFuZ2UoKXt2YXIgdDtpZighdGhpcy5pc01vZGVybilyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRhaW5lcixpPXRoaXMuaW5zdGFuY2Usbj1pLnBhbnpvb20scz10aGlzLmNhcm91c2VsLG89cz9zLnBhbnpvb206bnVsbCxyPWkucGFnZTtpZihuJiZzJiZvKXtpZihuLmlzRHJhZ2dpbmcpe1MoZSx0aGlzLmNuKEF0KSk7bGV0IG49KG51bGw9PT0odD1zLnBhZ2VzW3JdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wb3MpfHwwO24rPWkuZ2V0UHJvZ3Jlc3MocikqKHRoaXNbUnRdK3RoaXMudGh1bWJHYXApO2xldCBhPW8uZ2V0Qm91bmRzKCk7LTEqbj5hLngubWluJiYtMSpuPGEueC5tYXgmJm8ucGFuVG8oe3g6LTEqbixmcmljdGlvbjouMTJ9KX1lbHNlIGEoZSx0aGlzLmNuKEF0KSxuLmlzUmVzdGluZyk7dGhpcy5zaGlmdE1vZGVybigpfX1vblJlZnJlc2goKXt0aGlzLnVwZGF0ZVByb3BzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pbnN0YW5jZS5zbGlkZXN8fFtdKXRoaXMucmVzaXplTW9kZXJuU2xpZGUodCk7dGhpcy5zaGlmdE1vZGVybigpfWlzRGlzYWJsZWQoKXtjb25zdCB0PXRoaXMub3B0aW9uKFwibWluQ291bnRcIil8fDA7aWYodCl7Y29uc3QgZT10aGlzLmluc3RhbmNlO2xldCBpPTA7Zm9yKGNvbnN0IHQgb2YgZS5zbGlkZXN8fFtdKXQudGh1bWJTcmMmJmkrKztpZihpPHQpcmV0dXJuITB9Y29uc3QgZT10aGlzLm9wdGlvbihcInR5cGVcIik7cmV0dXJuW1wibW9kZXJuXCIsXCJjbGFzc2ljXCJdLmluZGV4T2YoZSk8MH1nZXRUaHVtYih0KXtjb25zdCBlPXRoaXMub3B0aW9uKFwidGh1bWJUcGxcIil8fFwiXCI7cmV0dXJue2h0bWw6dGhpcy5pbnN0YW5jZS5sb2NhbGl6ZShlLFtbXCIlaVwiLHQuaW5kZXhdLFtcIiVkXCIsdC5pbmRleCsxXSxbXCIlc1wiLHQudGh1bWJTcmN8fFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3XCJdXSl9fWFkZFNsaWRlKHQpe2NvbnN0IGU9dGhpcy5jYXJvdXNlbDtlJiZlLmFkZFNsaWRlKHQuaW5kZXgsdGhpcy5nZXRUaHVtYih0KSl9Z2V0U2xpZGVzKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLmluc3RhbmNlLnNsaWRlc3x8W10pdC5wdXNoKHRoaXMuZ2V0VGh1bWIoZSkpO3JldHVybiB0fXJlc2l6ZU1vZGVyblNsaWRlKHQpe3RoaXMuaXNNb2Rlcm4mJih0W0x0XT10W1J0XSYmdFt6dF0/TWF0aC5yb3VuZCh0aGlzW3p0XSoodFtSdF0vdFt6dF0pKTp0aGlzW0x0XSl9dXBkYXRlUHJvcHMoKXtjb25zdCB0PXRoaXMuY29udGFpbmVyO2lmKCF0KXJldHVybjtjb25zdCBlPWU9PnBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1mLXRodW1iLVwiK2UpKXx8MDt0aGlzLnRodW1iR2FwPWUoXCJnYXBcIiksdGhpcy50aHVtYkV4dHJhR2FwPWUoXCJleHRyYS1nYXBcIiksdGhpc1tMdF09ZShcIndpZHRoXCIpfHw0MCx0aGlzW1J0XT1lKFwiY2xpcC13aWR0aFwiKXx8NDAsdGhpc1t6dF09ZShcImhlaWdodFwiKXx8NDB9YnVpbGQoKXtjb25zdCB0PXRoaXM7aWYodC5zdGF0ZSE9PU90LkluaXQpcmV0dXJuO2lmKHQuaXNEaXNhYmxlZCgpKXJldHVybjtjb25zdCBlPXQuaW5zdGFuY2UsaT1lLmNvbnRhaW5lcixuPXQuZ2V0U2xpZGVzKCkscz10Lm9wdGlvbihcInR5cGVcIik7dC50eXBlPXM7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1Aobyx0LmNuKFwiY29udGFpbmVyXCIpKSxQKG8sYGlzLSR7c31gKTtjb25zdCBhPXQub3B0aW9uKFwicGFyZW50RWxcIik7YT9hLmFwcGVuZENoaWxkKG8pOmkuYWZ0ZXIobyksUChpLHQuY24oXCJoYXNUaHVtYnNcIikpLHQuY29udGFpbmVyPW8sdC51cGRhdGVQcm9wcygpO2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtQKHIsdC5jbihcInRyYWNrXCIpKSxvLmFwcGVuZENoaWxkKHIpLHQudHJhY2s9cjtjb25zdCBsPWYoe30se3RyYWNrOnIsaW5maW5pdGU6ITEsY2VudGVyOiEwLGZpbGw6XCJjbGFzc2ljXCI9PT1zLGRyYWdGcmVlOiEwLHNsaWRlc1BlclBhZ2U6MSx0cmFuc2l0aW9uOiExLHByZWxvYWQ6LjI1LGZyaWN0aW9uOi4xMixQYW56b29tOnttYXhWZWxvY2l0eTowfSxEb3RzOiExLE5hdmlnYXRpb246ITEsY2xhc3Nlczp7Y29udGFpbmVyOlwiZi10aHVtYnNcIix2aWV3cG9ydDpcImYtdGh1bWJzX192aWV3cG9ydFwiLHRyYWNrOlwiZi10aHVtYnNfX3RyYWNrXCIsc2xpZGU6XCJmLXRodW1ic19fc2xpZGVcIn19LHQub3B0aW9uKFwiQ2Fyb3VzZWxcIil8fHt9LHtTeW5jOnt0YXJnZXQ6ZX0sc2xpZGVzOm59KSxjPW5ldyBlLmNvbnN0cnVjdG9yKG8sbCk7Yy5vbihcImNyZWF0ZVNsaWRlXCIsKChlLGkpPT57dC5zZXRQcm9wcyhpLmluZGV4KSx0LmVtaXQoXCJjcmVhdGVTbGlkZVwiLGksaS5lbCl9KSksYy5vbihcInJlYWR5XCIsKCgpPT57dC5zaGlmdE1vZGVybigpLHQuZW1pdChcInJlYWR5XCIpfSkpLGMub24oXCJyZWZyZXNoXCIsKCgpPT57dC5zaGlmdE1vZGVybigpfSkpLGMub24oXCJQYW56b29tLmNsaWNrXCIsKChlLGksbik9Pnt0Lm9uQ2xpY2sobil9KSksdC5jYXJvdXNlbD1jLHQuc3RhdGU9T3QuUmVhZHl9b25DbGljayh0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKTtjb25zdCBlPXRoaXMuaW5zdGFuY2Use3BhZ2VzOmkscGFnZTpufT1lLHM9dD0+e2lmKHQpe2NvbnN0IGU9dC5jbG9zZXN0KFwiW2RhdGEtY2Fyb3VzZWwtaW5kZXhdXCIpO2lmKGUpcmV0dXJuW3BhcnNlSW50KGUuZGF0YXNldC5jYXJvdXNlbEluZGV4fHxcIlwiLDEwKXx8MCxlXX1yZXR1cm5bLTEsdm9pZCAwXX0sbz0odCxlKT0+e2NvbnN0IGk9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0LGUpO3JldHVybiBpP3MoaSk6Wy0xLHZvaWQgMF19O2xldFthLHJdPXModC50YXJnZXQpO2lmKGE+LTEpcmV0dXJuO2NvbnN0IGw9dGhpc1tSdF0sYz10LmNsaWVudFgsaD10LmNsaWVudFk7bGV0W2QsdV09byhjLWwsaCksW2YscF09byhjK2wsaCk7dSYmcD8oYT1NYXRoLmFicyhjLXUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpPE1hdGguYWJzKGMtcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KT9kOmYsYT09PW4mJihhPWE9PT1kP2Y6ZCkpOnU/YT1kOnAmJihhPWYpLGE+LTEmJmlbYV0mJmUuc2xpZGVUbyhhKX1nZXRTaGlmdCh0KXt2YXIgZTtjb25zdCBpPXRoaXMse2luc3RhbmNlOm59PWkscz1pLmNhcm91c2VsO2lmKCFufHwhcylyZXR1cm4gMDtjb25zdCBvPWlbTHRdLGE9aVtSdF0scj1pLnRodW1iR2FwLGw9aS50aHVtYkV4dHJhR2FwO2lmKCEobnVsbD09PShlPXMuc2xpZGVzW3RdKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5lbCkpcmV0dXJuIDA7Y29uc3QgYz0uNSooby1hKSxoPW4ucGFnZXMubGVuZ3RoLTE7bGV0IGQ9bi5nZXRQcm9ncmVzcygwKSx1PW4uZ2V0UHJvZ3Jlc3MoaCksZj1uLmdldFByb2dyZXNzKHQsITEsITApLHA9MCxnPWMrbCtyO2NvbnN0IG09ZDwwJiZkPi0xLGI9dT4wJiZ1PDE7cmV0dXJuIDA9PT10PyhwPWcqTWF0aC5hYnMoZCksYiYmMT09PWQmJihwLT1nKk1hdGguYWJzKHUpKSk6dD09PWg/KHA9ZypNYXRoLmFicyh1KSotMSxtJiYtMT09PXUmJihwKz1nKk1hdGguYWJzKGQpKSk6bXx8Yj8ocD0tMSpnLHArPWcqTWF0aC5hYnMoZCkscCs9ZyooMS1NYXRoLmFicyh1KSkpOnA9ZypmLHB9c2V0UHJvcHModCl7Y29uc3QgaT10aGlzO2lmKCFpLmlzTW9kZXJuKXJldHVybjtjb25zdHtpbnN0YW5jZTpufT1pLHM9aS5jYXJvdXNlbDtpZihuJiZzKXtjb25zdCBvPXMuc2xpZGVzW3RdLmVsO2lmKG8mJm8uY2hpbGROb2Rlcy5sZW5ndGgpe2xldCBzPWUoMS1NYXRoLmFicyhuLmdldFByb2dyZXNzKHQpKSksYT1lKGkuZ2V0U2hpZnQodCkpO28uc3R5bGUuc2V0UHJvcGVydHkoXCItLXByb2dyZXNzXCIscz9zK1wiXCI6XCJcIiksby5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tc2hpZnRcIixhK1wiXCIpfX19c2hpZnRNb2Rlcm4oKXtjb25zdCB0PXRoaXM7aWYoIXQuaXNNb2Rlcm4pcmV0dXJuO2NvbnN0e2luc3RhbmNlOmUsdHJhY2s6aX09dCxuPWUucGFuem9vbSxzPXQuY2Fyb3VzZWw7aWYoIShlJiZpJiZuJiZzKSlyZXR1cm47aWYobi5zdGF0ZT09PWIuSW5pdHx8bi5zdGF0ZT09PWIuRGVzdHJveSlyZXR1cm47Zm9yKGNvbnN0IGkgb2YgZS5zbGlkZXMpdC5zZXRQcm9wcyhpLmluZGV4KTtsZXQgbz0odFtSdF0rdC50aHVtYkdhcCkqKHMuc2xpZGVzLmxlbmd0aHx8MCk7aS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0td2lkdGhcIixvK1wiXCIpfWNsZWFudXAoKXtjb25zdCB0PXRoaXM7dC5jYXJvdXNlbCYmdC5jYXJvdXNlbC5kZXN0cm95KCksdC5jYXJvdXNlbD1udWxsLHQuY29udGFpbmVyJiZ0LmNvbnRhaW5lci5yZW1vdmUoKSx0LmNvbnRhaW5lcj1udWxsLHQudHJhY2smJnQudHJhY2sucmVtb3ZlKCksdC50cmFjaz1udWxsLHQuc3RhdGU9T3QuSW5pdCxTKHQuaW5zdGFuY2UuY29udGFpbmVyLHQuY24oXCJoYXNUaHVtYnNcIikpfWF0dGFjaCgpe2NvbnN0IHQ9dGhpcyxlPXQuaW5zdGFuY2U7ZS5vbihcImluaXRTbGlkZVwiLHQub25Jbml0U2xpZGUpLGUuc3RhdGU9PT1qLkluaXQ/ZS5vbihcImluaXRTbGlkZXNcIix0Lm9uSW5pdFNsaWRlcyk6dC5vbkluaXRTbGlkZXMoKSxlLm9uKFtcImNoYW5nZVwiLFwiUGFuem9vbS5hZnRlclRyYW5zZm9ybVwiXSx0Lm9uQ2hhbmdlKSxlLm9uKFwiUGFuem9vbS5yZWZyZXNoXCIsdC5vblJlZnJlc2gpfWRldGFjaCgpe2NvbnN0IHQ9dGhpcyxlPXQuaW5zdGFuY2U7ZS5vZmYoXCJpbml0U2xpZGVcIix0Lm9uSW5pdFNsaWRlKSxlLm9mZihcImluaXRTbGlkZXNcIix0Lm9uSW5pdFNsaWRlcyksZS5vZmYoW1wiY2hhbmdlXCIsXCJQYW56b29tLmFmdGVyVHJhbnNmb3JtXCJdLHQub25DaGFuZ2UpLGUub2ZmKFwiUGFuem9vbS5yZWZyZXNoXCIsdC5vblJlZnJlc2gpLHQuY2xlYW51cCgpfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGt0LFwiZGVmYXVsdHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6TXR9KTtjb25zdCBJdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sTXQpLHtrZXk6XCJ0XCIsc2hvd09uU3RhcnQ6ITAscGFyZW50RWw6bnVsbH0pLER0PVwiaXMtbWFza2VkXCIsRnQ9XCJhcmlhLWhpZGRlblwiO2NsYXNzIGp0IGV4dGVuZHMgTntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyZWZcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaGlkZGVuXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSl9Z2V0IGlzRW5hYmxlZCgpe2NvbnN0IHQ9dGhpcy5yZWY7cmV0dXJuIHQmJiF0LmlzRGlzYWJsZWQoKX1nZXQgaXNIaWRkZW4oKXtyZXR1cm4gdGhpcy5oaWRkZW59b25DbGljayh0LGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9b25DcmVhdGVTbGlkZSh0LGUpe3ZhciBpLG4scztjb25zdCBvPShudWxsPT09KHM9bnVsbD09PShuPW51bGw9PT0oaT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYXJvdXNlbCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2xpZGVzW2UuaW5kZXhdKXx8dm9pZCAwPT09cz92b2lkIDA6cy50eXBlKXx8XCJcIixhPWUuZWw7aWYoYSYmbyl7bGV0IHQ9YGZvci0ke299YDtbXCJ2aWRlb1wiLFwieW91dHViZVwiLFwidmltZW9cIixcImh0bWw1dmlkZW9cIl0uaW5jbHVkZXMobykmJih0Kz1cIiBmb3ItdmlkZW9cIiksUChhLHQpfX1vbkluaXQoKXt2YXIgdDtjb25zdCBlPXRoaXMsaT1lLmluc3RhbmNlLG49aS5jYXJvdXNlbDtpZihlLnJlZnx8IW4pcmV0dXJuO2NvbnN0IHM9ZS5vcHRpb24oXCJwYXJlbnRFbFwiKXx8aS5mb290ZXJ8fGkuY29udGFpbmVyO2lmKCFzKXJldHVybjtjb25zdCBvPWYoe30sZS5vcHRpb25zLHtwYXJlbnRFbDpzLGNsYXNzZXM6e2NvbnRhaW5lcjpcImYtdGh1bWJzIGZhbmN5Ym94X190aHVtYnNcIn0sQ2Fyb3VzZWw6e1N5bmM6e2ZyaWN0aW9uOmkub3B0aW9uKFwiQ2Fyb3VzZWwuZnJpY3Rpb25cIil8fDB9fSxvbjp7cmVhZHk6dD0+e2NvbnN0IGk9dC5jb250YWluZXI7aSYmdGhpcy5oaWRkZW4mJihlLnJlZnJlc2goKSxpLnN0eWxlLnRyYW5zaXRpb249XCJub25lXCIsZS5oaWRlKCksaS5vZmZzZXRIZWlnaHQscXVldWVNaWNyb3Rhc2soKCgpPT57aS5zdHlsZS50cmFuc2l0aW9uPVwiXCIsZS5zaG93KCl9KSkpfX19KTtvLkNhcm91c2VsPW8uQ2Fyb3VzZWx8fHt9LG8uQ2Fyb3VzZWwub249ZigobnVsbD09PSh0PWUub3B0aW9ucy5DYXJvdXNlbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQub24pfHx7fSx7Y2xpY2s6dGhpcy5vbkNsaWNrLGNyZWF0ZVNsaWRlOnRoaXMub25DcmVhdGVTbGlkZX0pLG4ub3B0aW9ucy5UaHVtYnM9byxuLmF0dGFjaFBsdWdpbnMoe1RodW1iczprdH0pLGUucmVmPW4ucGx1Z2lucy5UaHVtYnMsZS5vcHRpb24oXCJzaG93T25TdGFydFwiKXx8KGUucmVmLnN0YXRlPU90LkhpZGRlbixlLmhpZGRlbj0hMCl9b25SZXNpemUoKXt2YXIgdDtjb25zdCBlPW51bGw9PT0odD10aGlzLnJlZil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY29udGFpbmVyO2UmJihlLnN0eWxlLm1heEhlaWdodD1cIlwiKX1vbktleWRvd24odCxlKXtjb25zdCBpPXRoaXMub3B0aW9uKFwia2V5XCIpO2kmJmk9PT1lJiZ0aGlzLnRvZ2dsZSgpfXRvZ2dsZSgpe2NvbnN0IHQ9dGhpcy5yZWY7aWYodCYmIXQuaXNEaXNhYmxlZCgpKXJldHVybiB0LnN0YXRlPT09T3QuSGlkZGVuPyh0LnN0YXRlPU90LkluaXQsdm9pZCB0LmJ1aWxkKCkpOnZvaWQodGhpcy5oaWRkZW4/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCkpfXNob3coKXtjb25zdCB0PXRoaXMucmVmO2lmKCF0fHx0LmlzRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgZT10LmNvbnRhaW5lcjtlJiYodGhpcy5yZWZyZXNoKCksZS5vZmZzZXRIZWlnaHQsZS5yZW1vdmVBdHRyaWJ1dGUoRnQpLGUuY2xhc3NMaXN0LnJlbW92ZShEdCksdGhpcy5oaWRkZW49ITEpfWhpZGUoKXtjb25zdCB0PXRoaXMucmVmLGU9dCYmdC5jb250YWluZXI7ZSYmKHRoaXMucmVmcmVzaCgpLGUub2Zmc2V0SGVpZ2h0LGUuY2xhc3NMaXN0LmFkZChEdCksZS5zZXRBdHRyaWJ1dGUoRnQsXCJ0cnVlXCIpKSx0aGlzLmhpZGRlbj0hMH1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLnJlZjtpZighdHx8IXQuc3RhdGUpcmV0dXJuO2NvbnN0IGU9dC5jb250YWluZXIsaT0obnVsbD09ZT92b2lkIDA6ZS5maXJzdENoaWxkKXx8bnVsbDtlJiZpJiZpLmNoaWxkTm9kZXMubGVuZ3RoJiYoZS5zdHlsZS5tYXhIZWlnaHQ9YCR7aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9cHhgKX1hdHRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uuc3RhdGU9PT1vdC5Jbml0P2Uub24oXCJDYXJvdXNlbC5pbml0XCIsdC5vbkluaXQpOnQub25Jbml0KCksZS5vbihcInJlc2l6ZVwiLHQub25SZXNpemUpLGUub24oXCJrZXlkb3duXCIsdC5vbktleWRvd24pfWRldGFjaCgpe3ZhciB0O2NvbnN0IGU9dGhpcyxpPWUuaW5zdGFuY2U7aS5vZmYoXCJDYXJvdXNlbC5pbml0XCIsZS5vbkluaXQpLGkub2ZmKFwicmVzaXplXCIsZS5vblJlc2l6ZSksaS5vZmYoXCJrZXlkb3duXCIsZS5vbktleWRvd24pLG51bGw9PT0odD1pLmNhcm91c2VsKXx8dm9pZCAwPT09dHx8dC5kZXRhY2hQbHVnaW5zKFtcIlRodW1ic1wiXSksZS5yZWY9bnVsbH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGp0LFwiZGVmYXVsdHNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6SXR9KTtjb25zdCBIdD17cGFuTGVmdDp7aWNvbjonPHN2Zz48cGF0aCBkPVwiTTUgMTJoMTRNNSAxMmw2IDZNNSAxMmw2LTZcIi8+PC9zdmc+JyxjaGFuZ2U6e3Bhblg6LTEwMH19LHBhblJpZ2h0OntpY29uOic8c3ZnPjxwYXRoIGQ9XCJNNSAxMmgxNE0xMyAxOGw2LTZNMTMgNmw2IDZcIi8+PC9zdmc+JyxjaGFuZ2U6e3Bhblg6MTAwfX0scGFuVXA6e2ljb246Jzxzdmc+PHBhdGggZD1cIk0xMiA1djE0TTE4IDExbC02LTZNNiAxMWw2LTZcIi8+PC9zdmc+JyxjaGFuZ2U6e3Bhblk6LTEwMH19LHBhbkRvd246e2ljb246Jzxzdmc+PHBhdGggZD1cIk0xMiA1djE0TTE4IDEzbC02IDZNNiAxM2w2IDZcIi8+PC9zdmc+JyxjaGFuZ2U6e3Bhblk6MTAwfX0sem9vbUluOntpY29uOic8c3ZnPjxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTFcIiByPVwiNy41XCIvPjxwYXRoIGQ9XCJtMjEgMjEtNC4zNS00LjM1TTExIDh2Nk04IDExaDZcIi8+PC9zdmc+JyxhY3Rpb246XCJ6b29tSW5cIn0sem9vbU91dDp7aWNvbjonPHN2Zz48Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjExXCIgcj1cIjcuNVwiLz48cGF0aCBkPVwibTIxIDIxLTQuMzUtNC4zNU04IDExaDZcIi8+PC9zdmc+JyxhY3Rpb246XCJ6b29tT3V0XCJ9LHRvZ2dsZTF0bzE6e2ljb246Jzxzdmc+PHBhdGggZD1cIk0zLjUxIDMuMDdjNS43NC4wMiAxMS40OC0uMDIgMTcuMjIuMDIgMS4zNy4xIDIuMzQgMS42NCAyLjE4IDMuMTMgMCA0LjA4LjAyIDguMTYgMCAxMi4yMy0uMSAxLjU0LTEuNDcgMi42NC0yLjc5IDIuNDYtNS42MS0uMDEtMTEuMjQuMDItMTYuODYtLjAxLTEuMzYtLjEyLTIuMzMtMS42NS0yLjE3LTMuMTQgMC00LjA3LS4wMi04LjE2IDAtMTIuMjMuMS0xLjM2IDEuMjItMi40OCAyLjQyLTIuNDZaXCIvPjxwYXRoIGQ9XCJNNS42NSA4LjU0aDEuNDl2Ni45Mm04Ljk0LTYuOTJoMS40OXY2LjkyTTExLjUgOS40di4wMm0wIDUuMTh2MFwiLz48L3N2Zz4nLGFjdGlvbjpcInRvZ2dsZVpvb21cIn0sdG9nZ2xlWm9vbTp7aWNvbjonPHN2Zz48Zz48bGluZSB4MT1cIjExXCIgeTE9XCI4XCIgeDI9XCIxMVwiIHkyPVwiMTRcIj48L2xpbmU+PC9nPjxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTFcIiByPVwiNy41XCIvPjxwYXRoIGQ9XCJtMjEgMjEtNC4zNS00LjM1TTggMTFoNlwiLz48L3N2Zz4nLGFjdGlvbjpcInRvZ2dsZVpvb21cIn0saXRlcmF0ZVpvb206e2ljb246Jzxzdmc+PGc+PGxpbmUgeDE9XCIxMVwiIHkxPVwiOFwiIHgyPVwiMTFcIiB5Mj1cIjE0XCI+PC9saW5lPjwvZz48Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjExXCIgcj1cIjcuNVwiLz48cGF0aCBkPVwibTIxIDIxLTQuMzUtNC4zNU04IDExaDZcIi8+PC9zdmc+JyxhY3Rpb246XCJpdGVyYXRlWm9vbVwifSxyb3RhdGVDQ1c6e2ljb246Jzxzdmc+PHBhdGggZD1cIk0xNSA0LjU1YTggOCAwIDAgMC02IDE0LjlNOSAxNXY1SDRNMTguMzcgNy4xNnYuMDFNMTMgMTkuOTR2LjAxTTE2Ljg0IDE4LjM3di4wMU0xOS4zNyAxNS4xdi4wMU0xOS45NCAxMXYuMDFcIi8+PC9zdmc+JyxhY3Rpb246XCJyb3RhdGVDQ1dcIn0scm90YXRlQ1c6e2ljb246Jzxzdmc+PHBhdGggZD1cIk05IDQuNTVhOCA4IDAgMCAxIDYgMTQuOU0xNSAxNXY1aDVNNS42MyA3LjE2di4wMU00LjA2IDExdi4wMU00LjYzIDE1LjF2LjAxTTcuMTYgMTguMzd2LjAxTTExIDE5Ljk0di4wMVwiLz48L3N2Zz4nLGFjdGlvbjpcInJvdGF0ZUNXXCJ9LGZsaXBYOntpY29uOic8c3ZnIHN0eWxlPVwic3Ryb2tlLXdpZHRoOiAxLjNcIj48cGF0aCBkPVwiTTEyIDN2MThNMTYgN3YxMGg1TDE2IDdNOCA3djEwSDNMOCA3XCIvPjwvc3ZnPicsYWN0aW9uOlwiZmxpcFhcIn0sZmxpcFk6e2ljb246Jzxzdmcgc3R5bGU9XCJzdHJva2Utd2lkdGg6IDEuM1wiPjxwYXRoIGQ9XCJNMyAxMmgxOE03IDE2aDEwTDcgMjF2LTVNNyA4aDEwTDcgM3Y1XCIvPjwvc3ZnPicsYWN0aW9uOlwiZmxpcFlcIn0sZml0WDp7aWNvbjonPHN2Zz48cGF0aCBkPVwiTTQgMTJWNmEyIDIgMCAwIDEgMi0yaDEyYTIgMiAwIDAgMSAyIDJ2Nk0xMCAxOEgzTTIxIDE4aC03TTYgMTVsLTMgMyAzIDNNMTggMTVsMyAzLTMgM1wiLz48L3N2Zz4nLGFjdGlvbjpcImZpdFhcIn0sZml0WTp7aWNvbjonPHN2Zz48cGF0aCBkPVwiTTEyIDIwSDZhMiAyIDAgMCAxLTItMlY2YTIgMiAwIDAgMSAyLTJoNk0xOCAxNHY3TTE4IDN2N00xNSAxOGwzIDMgMy0zTTE1IDZsMy0zIDMgM1wiLz48L3N2Zz4nLGFjdGlvbjpcImZpdFlcIn0scmVzZXQ6e2ljb246Jzxzdmc+PHBhdGggZD1cIk0yMCAxMUE4LjEgOC4xIDAgMCAwIDQuNSA5TTQgNXY0aDRNNCAxM2E4LjEgOC4xIDAgMCAwIDE1LjUgMm0uNSA0di00aC00XCIvPjwvc3ZnPicsYWN0aW9uOlwicmVzZXRcIn0sdG9nZ2xlRlM6e2ljb246Jzxzdmc+PGc+PHBhdGggZD1cIk0xNC41IDkuNSAyMSAzbTAgMGgtNm02IDB2Nk0zIDIxbDYuNS02LjVNMyAyMXYtNm0wIDZoNlwiLz48L2c+PGc+PHBhdGggZD1cIm0xNCAxMCA3LTdtLTcgN2g2bS02IDBWNE0zIDIxbDctN20wIDB2Nm0wLTZINFwiLz48L2c+PC9zdmc+JyxhY3Rpb246XCJ0b2dnbGVGU1wifX07dmFyIEJ0OyFmdW5jdGlvbih0KXt0W3QuSW5pdD0wXT1cIkluaXRcIix0W3QuUmVhZHk9MV09XCJSZWFkeVwiLHRbdC5EaXNhYmxlZD0yXT1cIkRpc2FibGVkXCJ9KEJ0fHwoQnQ9e30pKTtjb25zdCBOdD17YWJzb2x1dGU6XCJhdXRvXCIsZGlzcGxheTp7bGVmdDpbXCJpbmZvYmFyXCJdLG1pZGRsZTpbXSxyaWdodDpbXCJpdGVyYXRlWm9vbVwiLFwic2xpZGVzaG93XCIsXCJmdWxsc2NyZWVuXCIsXCJ0aHVtYnNcIixcImNsb3NlXCJdfSxlbmFibGVkOlwiYXV0b1wiLGl0ZW1zOntpbmZvYmFyOnt0cGw6JzxkaXYgY2xhc3M9XCJmYW5jeWJveF9faW5mb2JhclwiIHRhYmluZGV4PVwiLTFcIj48c3BhbiBkYXRhLWZhbmN5Ym94LWN1cnJlbnQtaW5kZXg+PC9zcGFuPi88c3BhbiBkYXRhLWZhbmN5Ym94LWNvdW50Pjwvc3Bhbj48L2Rpdj4nfSxkb3dubG9hZDp7dHBsOic8YSBjbGFzcz1cImYtYnV0dG9uXCIgdGl0bGU9XCJ7e0RPV05MT0FEfX1cIiBkYXRhLWZhbmN5Ym94LWRvd25sb2FkIGhyZWY9XCJqYXZhc3JpcHQ6O1wiPjxzdmc+PHBhdGggZD1cIk00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0ydi0yTTcgMTFsNSA1IDUtNU0xMiA0djEyXCIvPjwvc3ZnPjwvYT4nfSxwcmV2Ont0cGw6JzxidXR0b24gY2xhc3M9XCJmLWJ1dHRvblwiIHRpdGxlPVwie3tQUkVWfX1cIiBkYXRhLWZhbmN5Ym94LXByZXY+PHN2Zz48cGF0aCBkPVwibTE1IDYtNiA2IDYgNlwiLz48L3N2Zz48L2J1dHRvbj4nfSxuZXh0Ont0cGw6JzxidXR0b24gY2xhc3M9XCJmLWJ1dHRvblwiIHRpdGxlPVwie3tORVhUfX1cIiBkYXRhLWZhbmN5Ym94LW5leHQ+PHN2Zz48cGF0aCBkPVwibTkgNiA2IDYtNiA2XCIvPjwvc3ZnPjwvYnV0dG9uPid9LHNsaWRlc2hvdzp7dHBsOic8YnV0dG9uIGNsYXNzPVwiZi1idXR0b25cIiB0aXRsZT1cInt7VE9HR0xFX1NMSURFU0hPV319XCIgZGF0YS1mYW5jeWJveC10b2dnbGUtc2xpZGVzaG93Pjxzdmc+PGc+PHBhdGggZD1cIk04IDR2MTZsMTMgLTh6XCI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPVwiTTggNHYxNU0xNyA0djE1XCIvPjwvZz48L3N2Zz48L2J1dHRvbj4nfSxmdWxsc2NyZWVuOnt0cGw6JzxidXR0b24gY2xhc3M9XCJmLWJ1dHRvblwiIHRpdGxlPVwie3tUT0dHTEVfRlVMTFNDUkVFTn19XCIgZGF0YS1mYW5jeWJveC10b2dnbGUtZnVsbHNjcmVlbj48c3ZnPjxnPjxwYXRoIGQ9XCJNNCA4VjZhMiAyIDAgMCAxIDItMmgyTTQgMTZ2MmEyIDIgMCAwIDAgMiAyaDJNMTYgNGgyYTIgMiAwIDAgMSAyIDJ2Mk0xNiAyMGgyYTIgMiAwIDAgMCAyLTJ2LTJcIi8+PC9nPjxnPjxwYXRoIGQ9XCJNMTUgMTl2LTJhMiAyIDAgMCAxIDItMmgyTTE1IDV2MmEyIDIgMCAwIDAgMiAyaDJNNSAxNWgyYTIgMiAwIDAgMSAyIDJ2Mk01IDloMmEyIDIgMCAwIDAgMi0yVjVcIi8+PC9nPjwvc3ZnPjwvYnV0dG9uPid9LHRodW1iczp7dHBsOic8YnV0dG9uIGNsYXNzPVwiZi1idXR0b25cIiB0aXRsZT1cInt7VE9HR0xFX1RIVU1CU319XCIgZGF0YS1mYW5jeWJveC10b2dnbGUtdGh1bWJzPjxzdmc+PGNpcmNsZSBjeD1cIjUuNVwiIGN5PVwiNS41XCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCI1LjVcIiByPVwiMVwiLz48Y2lyY2xlIGN4PVwiMTguNVwiIGN5PVwiNS41XCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjUuNVwiIGN5PVwiMTJcIiByPVwiMVwiLz48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjE4LjVcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjUuNVwiIGN5PVwiMTguNVwiIHI9XCIxXCIvPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTguNVwiIHI9XCIxXCIvPjxjaXJjbGUgY3g9XCIxOC41XCIgY3k9XCIxOC41XCIgcj1cIjFcIi8+PC9zdmc+PC9idXR0b24+J30sY2xvc2U6e3RwbDonPGJ1dHRvbiBjbGFzcz1cImYtYnV0dG9uXCIgdGl0bGU9XCJ7e0NMT1NFfX1cIiBkYXRhLWZhbmN5Ym94LWNsb3NlPjxzdmc+PHBhdGggZD1cIm0xOS41IDQuNS0xNSAxNU00LjUgNC41bDE1IDE1XCIvPjwvc3ZnPjwvYnV0dG9uPid9fSxwYXJlbnRFbDpudWxsfSxfdD17dGFiaW5kZXg6XCItMVwiLHdpZHRoOlwiMjRcIixoZWlnaHQ6XCIyNFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9O2NsYXNzICR0IGV4dGVuZHMgTntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpCdC5Jbml0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb250YWluZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pfW9uUmVhZHkodCl7dmFyIGU7aWYoIXQuY2Fyb3VzZWwpcmV0dXJuO2xldCBpPXRoaXMub3B0aW9uKFwiZGlzcGxheVwiKSxuPXRoaXMub3B0aW9uKFwiYWJzb2x1dGVcIikscz10aGlzLm9wdGlvbihcImVuYWJsZWRcIik7aWYoXCJhdXRvXCI9PT1zKXtjb25zdCB0PXRoaXMuaW5zdGFuY2UuY2Fyb3VzZWw7bGV0IGU9MDtpZih0KWZvcihjb25zdCBpIG9mIHQuc2xpZGVzKShpLnBhbnpvb218fFwiaW1hZ2VcIj09PWkudHlwZSkmJmUrKztlfHwocz0hMSl9c3x8KGk9dm9pZCAwKTtsZXQgbz0wO2NvbnN0IGE9e2xlZnQ6W10sbWlkZGxlOltdLHJpZ2h0OltdfTtpZihpKWZvcihjb25zdCB0IG9mW1wibGVmdFwiLFwibWlkZGxlXCIsXCJyaWdodFwiXSlmb3IoY29uc3QgbiBvZiBpW3RdKXtjb25zdCBpPXRoaXMuY3JlYXRlRWwobik7aSYmKG51bGw9PT0oZT1hW3RdKXx8dm9pZCAwPT09ZXx8ZS5wdXNoKGkpLG8rKyl9bGV0IHI9bnVsbDtpZihvJiYocj10aGlzLmNyZWF0ZUNvbnRhaW5lcigpKSxyKXtmb3IoY29uc3RbdCxlXW9mIE9iamVjdC5lbnRyaWVzKGEpKXtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7UChpLFwiZmFuY3lib3hfX3Rvb2xiYXJfX2NvbHVtbiBpcy1cIit0KTtmb3IoY29uc3QgdCBvZiBlKWkuYXBwZW5kQ2hpbGQodCk7XCJhdXRvXCIhPT1ufHxcIm1pZGRsZVwiIT09dHx8ZS5sZW5ndGh8fChuPSEwKSxyLmFwcGVuZENoaWxkKGkpfSEwPT09biYmUChyLFwiaXMtYWJzb2x1dGVcIiksdGhpcy5zdGF0ZT1CdC5SZWFkeSx0aGlzLm9uUmVmcmVzaCgpfWVsc2UgdGhpcy5zdGF0ZT1CdC5EaXNhYmxlZH1vbkNsaWNrKHQpe3ZhciBlLGk7Y29uc3Qgbj10aGlzLmluc3RhbmNlLHM9bi5nZXRTbGlkZSgpLG89bnVsbD09cz92b2lkIDA6cy5wYW56b29tLGE9dC50YXJnZXQscj1hJiZFKGEpP2EuZGF0YXNldDpudWxsO2lmKCFyKXJldHVybjtpZih2b2lkIDAhPT1yLmZhbmN5Ym94VG9nZ2xlVGh1bWJzKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx2b2lkKG51bGw9PT0oZT1uLnBsdWdpbnMuVGh1bWJzKXx8dm9pZCAwPT09ZXx8ZS50b2dnbGUoKSk7aWYodm9pZCAwIT09ci5mYW5jeWJveFRvZ2dsZUZ1bGxzY3JlZW4pcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgdGhpcy5pbnN0YW5jZS50b2dnbGVGdWxsc2NyZWVuKCk7aWYodm9pZCAwIT09ci5mYW5jeWJveFRvZ2dsZVNsaWRlc2hvdyl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3QgZT1udWxsPT09KGk9bi5jYXJvdXNlbCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGx1Z2lucy5BdXRvcGxheTtsZXQgcz1lLmlzQWN0aXZlO3JldHVybiBvJiZcIm1vdXNlbW92ZVwiPT09by5wYW5Nb2RlJiYhcyYmby5yZXNldCgpLHZvaWQocz9lLnN0b3AoKTplLnN0YXJ0KCkpfWNvbnN0IGw9ci5wYW56b29tQWN0aW9uLGM9ci5wYW56b29tQ2hhbmdlO2lmKChjfHxsKSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSxjKXtsZXQgdD17fTt0cnl7dD1KU09OLnBhcnNlKGMpfWNhdGNoKHQpe31vJiZvLmFwcGx5Q2hhbmdlKHQpfWVsc2UgbCYmbyYmb1tsXSYmb1tsXSgpfW9uQ2hhbmdlKCl7dGhpcy5vblJlZnJlc2goKX1vblJlZnJlc2goKXtpZih0aGlzLmluc3RhbmNlLmlzQ2xvc2luZygpKXJldHVybjtjb25zdCB0PXRoaXMuY29udGFpbmVyO2lmKCF0KXJldHVybjtjb25zdCBlPXRoaXMuaW5zdGFuY2UuZ2V0U2xpZGUoKTtpZighZXx8ZS5zdGF0ZSE9PWF0LlJlYWR5KXJldHVybjtjb25zdCBpPWUmJiFlLmVycm9yJiZlLnBhbnpvb207Zm9yKGNvbnN0IGUgb2YgdC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcGFuem9vbS1hY3Rpb25dXCIpKWk/KGUucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSk6KGUuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcIlwiKSxlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSk7bGV0IG49aSYmaS5jYW5ab29tSW4oKSxzPWkmJmkuY2FuWm9vbU91dCgpO2Zvcihjb25zdCBlIG9mIHQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFuem9vbS1hY3Rpb249XCJ6b29tSW5cIl0nKSluPyhlLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLGUucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIikpOihlLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIikpO2Zvcihjb25zdCBlIG9mIHQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFuem9vbS1hY3Rpb249XCJ6b29tT3V0XCJdJykpcz8oZS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSxlLnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpKTooZS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiXCIpLGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpKTtmb3IoY29uc3QgZSBvZiB0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhbnpvb20tYWN0aW9uPVwidG9nZ2xlWm9vbVwiXSxbZGF0YS1wYW56b29tLWFjdGlvbj1cIml0ZXJhdGVab29tXCJdJykpe3N8fG4/KGUucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSk6KGUuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcIlwiKSxlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSk7Y29uc3QgdD1lLnF1ZXJ5U2VsZWN0b3IoXCJnXCIpO3QmJih0LnN0eWxlLmRpc3BsYXk9bj9cIlwiOlwibm9uZVwiKX19b25Eb25lKHQsZSl7dmFyIGk7bnVsbD09PShpPWUucGFuem9vbSl8fHZvaWQgMD09PWl8fGkub24oXCJhZnRlclRyYW5zZm9ybVwiLCgoKT0+e3RoaXMuaW5zdGFuY2UuaXNDdXJyZW50U2xpZGUoZSkmJnRoaXMub25SZWZyZXNoKCl9KSksdGhpcy5pbnN0YW5jZS5pc0N1cnJlbnRTbGlkZShlKSYmdGhpcy5vblJlZnJlc2goKX1jcmVhdGVDb250YWluZXIoKXtjb25zdCB0PXRoaXMuaW5zdGFuY2UuY29udGFpbmVyO2lmKCF0KXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5vcHRpb24oXCJwYXJlbnRFbFwiKXx8dCxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIFAoaSxcImZhbmN5Ym94X190b29sYmFyXCIpLGUucHJlcGVuZChpKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayx7cGFzc2l2ZTohMSxjYXB0dXJlOiEwfSksdCYmUCh0LFwiaGFzLXRvb2xiYXJcIiksdGhpcy5jb250YWluZXI9aSxpfWNyZWF0ZUVsKHQpe2NvbnN0IGU9dGhpcy5pbnN0YW5jZSxpPWUuY2Fyb3VzZWw7aWYoIWkpcmV0dXJuIG51bGw7aWYoXCJ0b2dnbGVGU1wiPT09dClyZXR1cm4gbnVsbDtpZihcImZ1bGxzY3JlZW5cIj09PXQmJiFlLmZzQVBJKXJldHVybiBudWxsO2xldCBuPW51bGw7Y29uc3Qgbz1pLnNsaWRlcy5sZW5ndGh8fDA7bGV0IGE9MCxyPTA7Zm9yKGNvbnN0IHQgb2YgaS5zbGlkZXMpKHQucGFuem9vbXx8XCJpbWFnZVwiPT09dC50eXBlKSYmYSsrLChcImltYWdlXCI9PT10LnR5cGV8fHQuZG93bmxvYWRTcmMpJiZyKys7aWYobzwyJiZbXCJpbmZvYmFyXCIsXCJwcmV2XCIsXCJuZXh0XCJdLmluY2x1ZGVzKHQpKXJldHVybiBuO2lmKHZvaWQgMCE9PUh0W3RdJiYhYSlyZXR1cm4gbnVsbDtpZihcImRvd25sb2FkXCI9PT10JiYhcilyZXR1cm4gbnVsbDtpZihcInRodW1ic1wiPT09dCl7Y29uc3QgdD1lLnBsdWdpbnMuVGh1bWJzO2lmKCF0fHwhdC5pc0VuYWJsZWQpcmV0dXJuIG51bGx9aWYoXCJzbGlkZXNob3dcIj09PXQpe2lmKCFpLnBsdWdpbnMuQXV0b3BsYXl8fG88MilyZXR1cm4gbnVsbH1pZih2b2lkIDAhPT1IdFt0XSl7Y29uc3QgZT1IdFt0XTtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksbi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHRoaXMuaW5zdGFuY2UubG9jYWxpemUoYHt7JHt0LnRvVXBwZXJDYXNlKCl9fX1gKSksUChuLFwiZi1idXR0b25cIiksZS5hY3Rpb24mJihuLmRhdGFzZXQucGFuem9vbUFjdGlvbj1lLmFjdGlvbiksZS5jaGFuZ2UmJihuLmRhdGFzZXQucGFuem9vbUNoYW5nZT1KU09OLnN0cmluZ2lmeShlLmNoYW5nZSkpLG4uYXBwZW5kQ2hpbGQocyh0aGlzLmluc3RhbmNlLmxvY2FsaXplKGUuaWNvbikpKX1lbHNle2NvbnN0IGU9KHRoaXMub3B0aW9uKFwiaXRlbXNcIil8fFtdKVt0XTtlJiYobj1zKHRoaXMuaW5zdGFuY2UubG9jYWxpemUoZS50cGwpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNsaWNrJiZuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCh0PT57dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jbGljayYmZS5jbGljay5jYWxsKHRoaXMsdGhpcyx0KX0pKSl9Y29uc3QgbD1udWxsPT1uP3ZvaWQgMDpuLnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7aWYobClmb3IoY29uc3RbdCxlXW9mIE9iamVjdC5lbnRyaWVzKF90KSlsLmdldEF0dHJpYnV0ZSh0KXx8bC5zZXRBdHRyaWJ1dGUodCxTdHJpbmcoZSkpO3JldHVybiBufXJlbW92ZUNvbnRhaW5lcigpe2NvbnN0IHQ9dGhpcy5jb250YWluZXI7dCYmdC5yZW1vdmUoKSx0aGlzLmNvbnRhaW5lcj1udWxsLHRoaXMuc3RhdGU9QnQuRGlzYWJsZWQ7Y29uc3QgZT10aGlzLmluc3RhbmNlLmNvbnRhaW5lcjtlJiZTKGUsXCJoYXMtdG9vbGJhclwiKX1hdHRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uub24oXCJDYXJvdXNlbC5pbml0U2xpZGVzXCIsdC5vblJlYWR5KSxlLm9uKFwiZG9uZVwiLHQub25Eb25lKSxlLm9uKFtcInJldmVhbFwiLFwiQ2Fyb3VzZWwuY2hhbmdlXCJdLHQub25DaGFuZ2UpLHQub25SZWFkeSh0Lmluc3RhbmNlKX1kZXRhY2goKXtjb25zdCB0PXRoaXMsZT10Lmluc3RhbmNlO2Uub2ZmKFwiQ2Fyb3VzZWwuaW5pdFNsaWRlc1wiLHQub25SZWFkeSksZS5vZmYoXCJkb25lXCIsdC5vbkRvbmUpLGUub2ZmKFtcInJldmVhbFwiLFwiQ2Fyb3VzZWwuY2hhbmdlXCJdLHQub25DaGFuZ2UpLHQucmVtb3ZlQ29udGFpbmVyKCl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkdCxcImRlZmF1bHRzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk50fSk7Y29uc3QgV3Q9e0hhc2g6bHQsSHRtbDp4dCxJbWFnZXM6ZHQsU2xpZGVzaG93OlR0LFRodW1iczpqdCxUb29sYmFyOiR0fSxYdD1cIndpdGgtZmFuY3lib3hcIixxdD1cImhpZGUtc2Nyb2xsYmFyXCIsWXQ9XCItLWZhbmN5Ym94LXNjcm9sbGJhci1jb21wZW5zYXRlXCIsVnQ9XCItLWZhbmN5Ym94LWJvZHktbWFyZ2luXCIsWnQ9XCJpcy11c2luZy10YWJcIixVdD1cImlzLWFuaW1hdGVkXCIsR3Q9XCJpcy1jb21wYWN0XCIsS3Q9XCJpcy1sb2FkaW5nXCIsSnQ9XCJoYXMtY2FwdGlvblwiLFF0PVwiZGlzYWJsZWRcIix0ZT1cInRhYmluZGV4XCIsZWU9XCJkb3dubG9hZFwiLGllPVwiaHJlZlwiLG5lPVwic3JjXCIsc2U9dD0+XCJzdHJpbmdcIj09dHlwZW9mIHQsb2U9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHQmJlwiUmFuZ2VcIj09PXQudHlwZX07bGV0IGFlPW51bGwscmU9bnVsbDtjb25zdCBsZT1uZXcgTWFwO2xldCBjZT0wO2NsYXNzIGhlIGV4dGVuZHMgbXtnZXQgaXNJZGxlKCl7cmV0dXJuIHRoaXMuaWRsZX1nZXQgaXNDb21wYWN0KCl7cmV0dXJuIHRoaXMub3B0aW9uKFwiY29tcGFjdFwiKX1jb25zdHJ1Y3Rvcih0PVtdLGU9e30saT17fSl7c3VwZXIoZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ1c2VyU2xpZGVzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOltdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ1c2VyUGx1Z2luc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRsZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRsZVRpbWVyXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNsaWNrVGltZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicHd0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlnbm9yZUZvY3VzQ2hhbmdlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpvdC5Jbml0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTowfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb250YWluZXJcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZm9vdGVyXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhcHRpb25cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY2Fyb3VzZWxcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibGFzdEZvY3VzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByZXZNb3VzZU1vdmVFdmVudFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImZzQVBJXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLHRoaXMuZnNBUEk9KCgpPT57bGV0IHQsZT1cIlwiLGk9XCJcIixuPVwiXCI7cmV0dXJuIGRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkPyhlPVwicmVxdWVzdEZ1bGxzY3JlZW5cIixpPVwiZXhpdEZ1bGxzY3JlZW5cIixuPVwiZnVsbHNjcmVlbkVsZW1lbnRcIik6ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQmJihlPVwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cIixpPVwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixuPVwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIiksZSYmKHQ9e3JlcXVlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiPT09ZT90W2VdKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpOnRbZV0oKX0sZXhpdDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudFtuXSYmZG9jdW1lbnRbaV0oKX0saXNGdWxsc2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50W25dfX0pLHR9KSgpLHRoaXMuaWQ9ZS5pZHx8KytjZSxsZS5zZXQodGhpcy5pZCx0aGlzKSx0aGlzLnVzZXJTbGlkZXM9dCx0aGlzLnVzZXJQbHVnaW5zPWkscXVldWVNaWNyb3Rhc2soKCgpPT57dGhpcy5pbml0KCl9KSl9aW5pdCgpe2lmKHRoaXMuc3RhdGU9PT1vdC5EZXN0cm95KXJldHVybjt0aGlzLnN0YXRlPW90LkluaXQsdGhpcy5hdHRhY2hQbHVnaW5zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxoZS5QbHVnaW5zKSx0aGlzLnVzZXJQbHVnaW5zKSksdGhpcy5lbWl0KFwiaW5pdFwiKSx0aGlzLmVtaXQoXCJhdHRhY2hQbHVnaW5zXCIpLCEwPT09dGhpcy5vcHRpb24oXCJoaWRlU2Nyb2xsYmFyXCIpJiYoKCk9PntpZighdHQpcmV0dXJuO2NvbnN0IHQ9ZG9jdW1lbnQsZT10LmJvZHksaT10LmRvY3VtZW50RWxlbWVudDtpZihlLmNsYXNzTGlzdC5jb250YWlucyhxdCkpcmV0dXJuO2xldCBuPXdpbmRvdy5pbm5lcldpZHRoLWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7Y29uc3Qgcz1wYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpLm1hcmdpblJpZ2h0KTtuPDAmJihuPTApLGkuc3R5bGUuc2V0UHJvcGVydHkoWXQsYCR7bn1weGApLHMmJmUuc3R5bGUuc2V0UHJvcGVydHkoVnQsYCR7c31weGApLGUuY2xhc3NMaXN0LmFkZChxdCl9KSgpLHRoaXMuaW5pdExheW91dCgpLHRoaXMuc2NhbGUoKTtjb25zdCB0PSgpPT57dGhpcy5pbml0Q2Fyb3VzZWwodGhpcy51c2VyU2xpZGVzKSx0aGlzLnN0YXRlPW90LlJlYWR5LHRoaXMuYXR0YWNoRXZlbnRzKCksdGhpcy5lbWl0KFwicmVhZHlcIiksc2V0VGltZW91dCgoKCk9Pnt0aGlzLmNvbnRhaW5lciYmdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpfSksMTYpfSxlPXRoaXMuZnNBUEk7dGhpcy5vcHRpb24oXCJGdWxsc2NyZWVuLmF1dG9TdGFydFwiKSYmZSYmIWUuaXNGdWxsc2NyZWVuKCk/ZS5yZXF1ZXN0KHRoaXMuY29udGFpbmVyKS50aGVuKCgoKT0+dCgpKSkuY2F0Y2goKCgpPT50KCkpKTp0KCl9aW5pdExheW91dCgpe3ZhciB0LGU7Y29uc3QgaT10aGlzLm9wdGlvbihcInBhcmVudEVsXCIpfHxkb2N1bWVudC5ib2R5LG49cyh0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uKFwidHBsLm1haW5cIil8fFwiXCIpKTtuJiYobi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGBmYW5jeWJveC0ke3RoaXMuaWR9YCksbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5sb2NhbGl6ZShcInt7TU9EQUx9fVwiKSksbi5jbGFzc0xpc3QudG9nZ2xlKEd0LHRoaXMuaXNDb21wYWN0KSxQKG4sdGhpcy5vcHRpb24oXCJtYWluQ2xhc3NcIil8fFwiXCIpLHRoaXMuY29udGFpbmVyPW4sdGhpcy5mb290ZXI9bi5xdWVyeVNlbGVjdG9yKFwiLmZhbmN5Ym94X19mb290ZXJcIiksaS5hcHBlbmRDaGlsZChuKSxQKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxYdCksYWUmJnJlfHwoYWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksUChhZSxcImZhbmN5Ym94LWZvY3VzLWd1YXJkXCIpLGFlLnNldEF0dHJpYnV0ZSh0ZSxcIjBcIiksYWUuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksYWUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiRm9jdXMgZ3VhcmRcIikscmU9YWUuY2xvbmVOb2RlKCksbnVsbD09PSh0PW4ucGFyZW50RWxlbWVudCl8fHZvaWQgMD09PXR8fHQuaW5zZXJ0QmVmb3JlKGFlLG4pLG51bGw9PT0oZT1uLnBhcmVudEVsZW1lbnQpfHx2b2lkIDA9PT1lfHxlLmFwcGVuZChyZSkpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCgoKT0+e1MobixadCl9KSksdGhpcy5vcHRpb24oXCJhbmltYXRlZFwiKSYmKFAobixVdCksc2V0VGltZW91dCgoKCk9Pnt0aGlzLmlzQ2xvc2luZygpfHxTKG4sVXQpfSksMzUwKSksdGhpcy5lbWl0KFwiaW5pdExheW91dFwiKSl9aW5pdENhcm91c2VsKHQpe2NvbnN0IGU9dGhpcy5jb250YWluZXI7aWYoIWUpcmV0dXJuO2NvbnN0IG49ZS5xdWVyeVNlbGVjdG9yKFwiLmZhbmN5Ym94X19jYXJvdXNlbFwiKTtpZighbilyZXR1cm47Y29uc3Qgcz10aGlzLmNhcm91c2VsPW5ldyBKKG4sZih7fSx7c2xpZGVzOnQsdHJhbnNpdGlvbjpcImZhZGVcIixQYW56b29tOntsb2NrQXhpczp0aGlzLm9wdGlvbihcImRyYWdUb0Nsb3NlXCIpP1wieHlcIjpcInhcIixpbmZpbml0ZTohIXRoaXMub3B0aW9uKFwiZHJhZ1RvQ2xvc2VcIikmJlwieVwifSxEb3RzOiExLE5hdmlnYXRpb246e2NsYXNzZXM6e2NvbnRhaW5lcjpcImZhbmN5Ym94X19uYXZcIixidXR0b246XCJmLWJ1dHRvblwiLGlzTmV4dDpcImlzLW5leHRcIixpc1ByZXY6XCJpcy1wcmV2XCJ9fSxpbml0aWFsUGFnZTp0aGlzLm9wdGlvbihcInN0YXJ0SW5kZXhcIiksbDEwbjp0aGlzLm9wdGlvbihcImwxMG5cIil9LHRoaXMub3B0aW9uKFwiQ2Fyb3VzZWxcIil8fHt9KSk7cy5vbihcIipcIiwoKHQsZSwuLi5pKT0+e3RoaXMuZW1pdChgQ2Fyb3VzZWwuJHtlfWAsdCwuLi5pKX0pKSxzLm9uKFtcInJlYWR5XCIsXCJjaGFuZ2VcIl0sKCgpPT57dGhpcy5tYW5hZ2VDYXB0aW9uKCl9KSksdGhpcy5vbihcIkNhcm91c2VsLnJlbW92ZVNsaWRlXCIsKCh0LGUsaSk9Pnt0aGlzLmNsZWFyQ29udGVudChpKSxpLnN0YXRlPXZvaWQgMH0pKSxzLm9uKFwiUGFuem9vbS50b3VjaFN0YXJ0XCIsKCgpPT57dmFyIHQsZTt0aGlzLmlzQ29tcGFjdHx8dGhpcy5lbmRJZGxlKCksKG51bGw9PT0odD1kb2N1bWVudC5hY3RpdmVFbGVtZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5jbG9zZXN0KFwiLmYtdGh1bWJzXCIpKSYmKG51bGw9PT0oZT10aGlzLmNvbnRhaW5lcil8fHZvaWQgMD09PWV8fGUuZm9jdXMoKSl9KSkscy5vbihcInNldHRsZVwiLCgoKT0+e3RoaXMuaWRsZVRpbWVyfHx0aGlzLmlzQ29tcGFjdHx8IXRoaXMub3B0aW9uKFwiaWRsZVwiKXx8dGhpcy5zZXRJZGxlKCksdGhpcy5vcHRpb24oXCJhdXRvRm9jdXNcIikmJiF0aGlzLmlzQ2xvc2luZyYmdGhpcy5jaGVja0ZvY3VzKCl9KSksdGhpcy5vcHRpb24oXCJkcmFnVG9DbG9zZVwiKSYmKHMub24oXCJQYW56b29tLmFmdGVyVHJhbnNmb3JtXCIsKCh0LGUpPT57Y29uc3Qgbj10aGlzLmdldFNsaWRlKCk7aWYobiYmaShuLmVsKSlyZXR1cm47Y29uc3Qgcz10aGlzLmNvbnRhaW5lcjtpZihzKXtjb25zdCB0PU1hdGguYWJzKGUuY3VycmVudC5mKSxpPXQ8MT9cIlwiOk1hdGgubWF4KC41LE1hdGgubWluKDEsMS10L2UuY29udGVudFJlY3QuZml0SGVpZ2h0KjEuNSkpO3Muc3R5bGUuc2V0UHJvcGVydHkoXCItLWZhbmN5Ym94LXRzXCIsaT9cIjBzXCI6XCJcIikscy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZmFuY3lib3gtb3BhY2l0eVwiLGkrXCJcIil9fSkpLHMub24oXCJQYW56b29tLnRvdWNoRW5kXCIsKCh0LGUsbik9Pnt2YXIgcztjb25zdCBvPXRoaXMuZ2V0U2xpZGUoKTtpZihvJiZpKG8uZWwpKXJldHVybjtpZihlLmlzTW9iaWxlJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50JiYtMSE9PVtcIlRFWFRBUkVBXCIsXCJJTlBVVFwiXS5pbmRleE9mKG51bGw9PT0ocz1kb2N1bWVudC5hY3RpdmVFbGVtZW50KXx8dm9pZCAwPT09cz92b2lkIDA6cy5ub2RlTmFtZSkpcmV0dXJuO2NvbnN0IGE9TWF0aC5hYnMoZS5kcmFnT2Zmc2V0LnkpO1wieVwiPT09ZS5sb2NrZWRBeGlzJiYoYT49MjAwfHxhPj01MCYmZS5kcmFnT2Zmc2V0LnRpbWU8MzAwKSYmKG4mJm4uY2FuY2VsYWJsZSYmbi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2xvc2UobixcImYtdGhyb3dPdXRcIisoZS5jdXJyZW50LmY8MD9cIlVwXCI6XCJEb3duXCIpKSl9KSkpLHMub24oXCJjaGFuZ2VcIiwodD0+e3ZhciBlO2xldCBpPW51bGw9PT0oZT10aGlzLmdldFNsaWRlKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaWdnZXJFbDtpZihpKXtjb25zdCBlPW5ldyBDdXN0b21FdmVudChcInNsaWRlVG9cIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGRldGFpbDp0LnBhZ2V9KTtpLmRpc3BhdGNoRXZlbnQoZSl9fSkpLHMub24oW1wicmVmcmVzaFwiLFwiY2hhbmdlXCJdLCh0PT57Y29uc3QgZT10aGlzLmNvbnRhaW5lcjtpZighZSlyZXR1cm47Zm9yKGNvbnN0IGkgb2YgZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZmFuY3lib3gtY3VycmVudC1pbmRleF1cIikpaS5pbm5lckhUTUw9dC5wYWdlKzE7Zm9yKGNvbnN0IGkgb2YgZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZmFuY3lib3gtY291bnRdXCIpKWkuaW5uZXJIVE1MPXQucGFnZXMubGVuZ3RoO2lmKCF0LmlzSW5maW5pdGUpe2Zvcihjb25zdCBpIG9mIGUucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWZhbmN5Ym94LW5leHRdXCIpKXQucGFnZTx0LnBhZ2VzLmxlbmd0aC0xPyhpLnJlbW92ZUF0dHJpYnV0ZShRdCksaS5yZW1vdmVBdHRyaWJ1dGUodGUpKTooaS5zZXRBdHRyaWJ1dGUoUXQsXCJcIiksaS5zZXRBdHRyaWJ1dGUodGUsXCItMVwiKSk7Zm9yKGNvbnN0IGkgb2YgZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZmFuY3lib3gtcHJldl1cIikpdC5wYWdlPjA/KGkucmVtb3ZlQXR0cmlidXRlKFF0KSxpLnJlbW92ZUF0dHJpYnV0ZSh0ZSkpOihpLnNldEF0dHJpYnV0ZShRdCxcIlwiKSxpLnNldEF0dHJpYnV0ZSh0ZSxcIi0xXCIpKX1jb25zdCBpPXRoaXMuZ2V0U2xpZGUoKTtpZighaSlyZXR1cm47bGV0IG49aS5kb3dubG9hZFNyY3x8XCJcIjtufHxcImltYWdlXCIhPT1pLnR5cGV8fGkuZXJyb3J8fCFzZShpW25lXSl8fChuPWlbbmVdKTtmb3IoY29uc3QgdCBvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF1cIikpe2NvbnN0IGU9aS5kb3dubG9hZEZpbGVuYW1lO24/KHQucmVtb3ZlQXR0cmlidXRlKFF0KSx0LnJlbW92ZUF0dHJpYnV0ZSh0ZSksdC5zZXRBdHRyaWJ1dGUoaWUsbiksdC5zZXRBdHRyaWJ1dGUoZWUsZXx8biksdC5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixcIl9ibGFua1wiKSk6KHQuc2V0QXR0cmlidXRlKFF0LFwiXCIpLHQuc2V0QXR0cmlidXRlKHRlLFwiLTFcIiksdC5yZW1vdmVBdHRyaWJ1dGUoaWUpLHQucmVtb3ZlQXR0cmlidXRlKGVlKSl9fSkpLHRoaXMuZW1pdChcImluaXRDYXJvdXNlbFwiKX1hdHRhY2hFdmVudHMoKXtjb25zdCB0PXRoaXMsZT10LmNvbnRhaW5lcjtpZighZSlyZXR1cm47ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0Lm9uQ2xpY2sse3Bhc3NpdmU6ITEsY2FwdHVyZTohMX0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdC5vbldoZWVsLHtwYXNzaXZlOiExLGNhcHR1cmU6ITF9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHQub25LZXlkb3duLHtwYXNzaXZlOiExLGNhcHR1cmU6ITB9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHQub25WaXNpYmlsaXR5Q2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdC5vbk1vdXNlbW92ZSksdC5vcHRpb24oXCJ0cmFwRm9jdXNcIikmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHQub25Gb2N1cywhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0Lm9uUmVzaXplKTtjb25zdCBpPXdpbmRvdy52aXN1YWxWaWV3cG9ydDtpJiYoaS5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdC5vblJlc2l6ZSksaS5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdC5vblJlc2l6ZSkpfWRldGFjaEV2ZW50cygpe2NvbnN0IHQ9dGhpcyxlPXQuY29udGFpbmVyO2lmKCFlKXJldHVybjtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHQub25LZXlkb3duLHtwYXNzaXZlOiExLGNhcHR1cmU6ITB9KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHQub25XaGVlbCx7cGFzc2l2ZTohMSxjYXB0dXJlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0Lm9uQ2xpY2sse3Bhc3NpdmU6ITEsY2FwdHVyZTohMX0pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0Lm9uTW91c2Vtb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHQub25SZXNpemUpO2NvbnN0IGk9d2luZG93LnZpc3VhbFZpZXdwb3J0O2kmJihpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0Lm9uUmVzaXplKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0Lm9uUmVzaXplKSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0Lm9uVmlzaWJpbGl0eUNoYW5nZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdC5vbkZvY3VzLCEwKX1zY2FsZSgpe2NvbnN0IHQ9dGhpcy5jb250YWluZXI7aWYoIXQpcmV0dXJuO2NvbnN0IGU9d2luZG93LnZpc3VhbFZpZXdwb3J0LGk9TWF0aC5tYXgoMSwobnVsbD09ZT92b2lkIDA6ZS5zY2FsZSl8fDEpO2xldCBuPVwiXCIscz1cIlwiLG89XCJcIjtpZihlJiZpPjEpe2xldCB0PWAke2Uub2Zmc2V0TGVmdH1weGAsYT1gJHtlLm9mZnNldFRvcH1weGA7bj1lLndpZHRoKmkrXCJweFwiLHM9ZS5oZWlnaHQqaStcInB4XCIsbz1gdHJhbnNsYXRlM2QoJHt0fSwgJHthfSwgMCkgc2NhbGUoJHsxL2l9KWB9dC5zdHlsZS50cmFuc2Zvcm09byx0LnN0eWxlLndpZHRoPW4sdC5zdHlsZS5oZWlnaHQ9c31vbkNsaWNrKHQpe3ZhciBlLGk7Y29uc3R7Y29udGFpbmVyOm4saXNDb21wYWN0OnN9PXRoaXM7aWYoIW58fHRoaXMuaXNDbG9zaW5nKCkpcmV0dXJuOyFzJiZ0aGlzLm9wdGlvbihcImlkbGVcIikmJnRoaXMucmVzZXRJZGxlKCk7Y29uc3Qgbz10LmNvbXBvc2VkUGF0aCgpWzBdO2lmKG8uY2xvc2VzdChcIi5mLXNwaW5uZXJcIil8fG8uY2xvc2VzdChcIltkYXRhLWZhbmN5Ym94LWNsb3NlXVwiKSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdGhpcy5jbG9zZSh0KTtpZihvLmNsb3Nlc3QoXCJbZGF0YS1mYW5jeWJveC1wcmV2XVwiKSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdGhpcy5wcmV2KCk7aWYoby5jbG9zZXN0KFwiW2RhdGEtZmFuY3lib3gtbmV4dF1cIikpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx2b2lkIHRoaXMubmV4dCgpO2NvbnN0IGE9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpZihvZSgpJiZhJiZuLmNvbnRhaW5zKGEpKXJldHVybjtpZihvPT09KG51bGw9PT0oZT10aGlzLmNhcm91c2VsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jb250YWluZXIpKXJldHVybjtpZihzJiZcImltYWdlXCI9PT0obnVsbD09PShpPXRoaXMuZ2V0U2xpZGUoKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudHlwZSkpcmV0dXJuIHZvaWQodGhpcy5jbGlja1RpbWVyPyhjbGVhclRpbWVvdXQodGhpcy5jbGlja1RpbWVyKSx0aGlzLmNsaWNrVGltZXI9bnVsbCk6dGhpcy5jbGlja1RpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy50b2dnbGVJZGxlKCksdGhpcy5jbGlja1RpbWVyPW51bGx9KSwzNTApKTtpZih0aGlzLmVtaXQoXCJjbGlja1wiLHQpLHQuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47bGV0IHI9ITE7aWYoby5jbG9zZXN0KFwiLmZhbmN5Ym94X19jb250ZW50XCIpKXtpZihhKXtpZihhLmNsb3Nlc3QoXCJbY29udGVudGVkaXRhYmxlXVwiKSlyZXR1cm47by5tYXRjaGVzKGl0KXx8YS5ibHVyKCl9aWYob2UoKSlyZXR1cm47cj10aGlzLm9wdGlvbihcImNvbnRlbnRDbGlja1wiKX1lbHNlIG8uY2xvc2VzdChcIi5mYW5jeWJveF9fY2Fyb3VzZWxcIikmJiFvLm1hdGNoZXMoaXQpJiYocj10aGlzLm9wdGlvbihcImJhY2tkcm9wQ2xpY2tcIikpO1wiY2xvc2VcIj09PXI/KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpKTpcIm5leHRcIj09PXI/KHQucHJldmVudERlZmF1bHQoKSx0aGlzLm5leHQoKSk6XCJwcmV2XCI9PT1yJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJldigpKX1vbldoZWVsKHQpe2NvbnN0IGU9dC50YXJnZXQ7bGV0IGk9dGhpcy5vcHRpb24oXCJ3aGVlbFwiLHQpO2UuY2xvc2VzdChcIi5mYW5jeWJveF9fdGh1bWJzXCIpJiYoaT1cInNsaWRlXCIpO2NvbnN0IHM9XCJzbGlkZVwiPT09aSxvPVstdC5kZWx0YVh8fDAsLXQuZGVsdGFZfHwwLC10LmRldGFpbHx8MF0ucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyhlKT5NYXRoLmFicyh0KT9lOnR9KSksYT1NYXRoLm1heCgtMSxNYXRoLm1pbigxLG8pKSxyPURhdGUubm93KCk7dGhpcy5wd3QmJnItdGhpcy5wd3Q8MzAwP3MmJnQucHJldmVudERlZmF1bHQoKToodGhpcy5wd3Q9cix0aGlzLmVtaXQoXCJ3aGVlbFwiLHQsYSksdC5kZWZhdWx0UHJldmVudGVkfHwoXCJjbG9zZVwiPT09aT8odC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2xvc2UodCkpOlwic2xpZGVcIj09PWkmJihuKGUpfHwodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXNbYT4wP1wicHJldlwiOlwibmV4dFwiXSgpKSkpKX1vbktleWRvd24odCl7aWYoIXRoaXMuaXNUb3Btb3N0KCkpcmV0dXJuO3RoaXMuaXNDb21wYWN0fHwhdGhpcy5vcHRpb24oXCJpZGxlXCIpfHx0aGlzLmlzQ2xvc2luZygpfHx0aGlzLnJlc2V0SWRsZSgpO2NvbnN0IGU9dC5rZXksaT10aGlzLm9wdGlvbihcImtleWJvYXJkXCIpO2lmKCFpKXJldHVybjtjb25zdCBuPXQuY29tcG9zZWRQYXRoKClbMF0scz1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsYXNzTGlzdCxvPXMmJnMuY29udGFpbnMoXCJmLWJ1dHRvblwiKXx8bi5kYXRhc2V0LmNhcm91c2VsUGFnZXx8bi5kYXRhc2V0LmNhcm91c2VsSW5kZXg7aWYoXCJFc2NhcGVcIiE9PWUmJiFvJiZFKG4pKXtpZihuLmlzQ29udGVudEVkaXRhYmxlfHwtMSE9PVtcIlRFWFRBUkVBXCIsXCJPUFRJT05cIixcIklOUFVUXCIsXCJTRUxFQ1RcIixcIlZJREVPXCJdLmluZGV4T2Yobi5ub2RlTmFtZSkpcmV0dXJufWlmKFwiVGFiXCI9PT10LmtleT9QKHRoaXMuY29udGFpbmVyLFp0KTpTKHRoaXMuY29udGFpbmVyLFp0KSx0LmN0cmxLZXl8fHQuYWx0S2V5fHx0LnNoaWZ0S2V5KXJldHVybjt0aGlzLmVtaXQoXCJrZXlkb3duXCIsZSx0KTtjb25zdCBhPWlbZV07YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1thXSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzW2FdKCkpfW9uUmVzaXplKCl7Y29uc3QgdD10aGlzLmNvbnRhaW5lcjtpZighdClyZXR1cm47Y29uc3QgZT10aGlzLmlzQ29tcGFjdDt0LmNsYXNzTGlzdC50b2dnbGUoR3QsZSksdGhpcy5tYW5hZ2VDYXB0aW9uKHRoaXMuZ2V0U2xpZGUoKSksdGhpcy5pc0NvbXBhY3Q/dGhpcy5jbGVhcklkbGUoKTp0aGlzLmVuZElkbGUoKSx0aGlzLnNjYWxlKCksdGhpcy5lbWl0KFwicmVzaXplXCIpfW9uRm9jdXModCl7dGhpcy5pc1RvcG1vc3QoKSYmdGhpcy5jaGVja0ZvY3VzKHQpfW9uTW91c2Vtb3ZlKHQpe3RoaXMucHJldk1vdXNlTW92ZUV2ZW50PXQsIXRoaXMuaXNDb21wYWN0JiZ0aGlzLm9wdGlvbihcImlkbGVcIikmJnRoaXMucmVzZXRJZGxlKCl9b25WaXNpYmlsaXR5Q2hhbmdlKCl7XCJ2aXNpYmxlXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/dGhpcy5jaGVja0ZvY3VzKCk6dGhpcy5lbmRJZGxlKCl9bWFuYWdlQ2xvc2VCdG4odCl7Y29uc3QgZT10aGlzLm9wdGlvbkZvcih0LFwiY2xvc2VCdXR0b25cIil8fCExO2lmKFwiYXV0b1wiPT09ZSl7Y29uc3QgdD10aGlzLnBsdWdpbnMuVG9vbGJhcjtpZih0JiZ0LnN0YXRlPT09QnQuUmVhZHkpcmV0dXJufWlmKCFlKXJldHVybjtpZighdC5jb250ZW50RWx8fHQuY2xvc2VCdG5FbClyZXR1cm47Y29uc3QgaT10aGlzLm9wdGlvbihcInRwbC5jbG9zZUJ1dHRvblwiKTtpZihpKXtjb25zdCBlPXModGhpcy5sb2NhbGl6ZShpKSk7dC5jbG9zZUJ0bkVsPXQuY29udGVudEVsLmFwcGVuZENoaWxkKGUpLHQuZWwmJlAodC5lbCxcImhhcy1jbG9zZS1idG5cIil9fW1hbmFnZUNhcHRpb24odD12b2lkIDApe3ZhciBlLGk7Y29uc3Qgbj1cImZhbmN5Ym94X19jYXB0aW9uXCIscz10aGlzLmNvbnRhaW5lcjtpZighcylyZXR1cm47UyhzLEp0KTtjb25zdCBvPXRoaXMuaXNDb21wYWN0fHx0aGlzLm9wdGlvbihcImNvbW1vbkNhcHRpb25cIiksYT0hbztpZih0aGlzLmNhcHRpb24mJnRoaXMuc3RvcCh0aGlzLmNhcHRpb24pLGEmJnRoaXMuY2FwdGlvbiYmKHRoaXMuY2FwdGlvbi5yZW1vdmUoKSx0aGlzLmNhcHRpb249bnVsbCksbyYmIXRoaXMuY2FwdGlvbilmb3IoY29uc3QgdCBvZihudWxsPT09KGU9dGhpcy5jYXJvdXNlbCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc2xpZGVzKXx8W10pdC5jYXB0aW9uRWwmJih0LmNhcHRpb25FbC5yZW1vdmUoKSx0LmNhcHRpb25FbD12b2lkIDAsUyh0LmVsLEp0KSxudWxsPT09KGk9dC5lbCl8fHZvaWQgMD09PWl8fGkucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKTtpZih0fHwodD10aGlzLmdldFNsaWRlKCkpLCF0fHxvJiYhdGhpcy5pc0N1cnJlbnRTbGlkZSh0KSlyZXR1cm47Y29uc3Qgcj10LmVsO2xldCBsPXRoaXMub3B0aW9uRm9yKHQsXCJjYXB0aW9uXCIsXCJcIik7aWYoIWwpcmV0dXJuIHZvaWQobyYmdGhpcy5jYXB0aW9uJiZ0aGlzLmFuaW1hdGUodGhpcy5jYXB0aW9uLFwiZi1mYWRlT3V0XCIsKCgpPT57dGhpcy5jYXB0aW9uJiYodGhpcy5jYXB0aW9uLmlubmVySFRNTD1cIlwiKX0pKSk7bGV0IGM9bnVsbDtpZihhKXtpZihjPXQuY2FwdGlvbkVsfHxudWxsLHImJiFjKXtjb25zdCBlPW4rYF8ke3RoaXMuaWR9XyR7dC5pbmRleH1gO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxQKGMsbiksYy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGUpLHQuY2FwdGlvbkVsPXIuYXBwZW5kQ2hpbGQoYyksUChyLEp0KSxyLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLGUpfX1lbHNle2lmKGM9dGhpcy5jYXB0aW9uLGN8fChjPXMucXVlcnlTZWxlY3RvcihcIi5cIituKSksIWMpe2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjLmRhdGFzZXQuZmFuY3lib3hDYXB0aW9uPVwiXCIsUChjLG4pOyh0aGlzLmZvb3Rlcnx8cykucHJlcGVuZChjKX1QKHMsSnQpLHRoaXMuY2FwdGlvbj1jfWMmJihjLmlubmVySFRNTD1cIlwiLHNlKGwpfHxcIm51bWJlclwiPT10eXBlb2YgbD9jLmlubmVySFRNTD1sK1wiXCI6bCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZjLmFwcGVuZENoaWxkKGwpKX1jaGVja0ZvY3VzKHQpe3RoaXMuZm9jdXModCl9Zm9jdXModCl7dmFyIGU7aWYodGhpcy5pZ25vcmVGb2N1c0NoYW5nZSlyZXR1cm47Y29uc3QgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50fHxudWxsLG49KG51bGw9PXQ/dm9pZCAwOnQudGFyZ2V0KXx8bnVsbCxzPXRoaXMuY29udGFpbmVyLG89dGhpcy5nZXRTbGlkZSgpO2lmKCFzfHwhKG51bGw9PT0oZT10aGlzLmNhcm91c2VsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS52aWV3cG9ydCkpcmV0dXJuO2lmKCF0JiZpJiZzLmNvbnRhaW5zKGkpKXJldHVybjtjb25zdCBhPW8mJm8uc3RhdGU9PT1hdC5SZWFkeT9vLmVsOm51bGw7aWYoIWF8fGEuY29udGFpbnMoaSl8fHM9PT1pKXJldHVybjt0JiZ0LmNhbmNlbGFibGUmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLmlnbm9yZUZvY3VzQ2hhbmdlPSEwO2NvbnN0IHI9QXJyYXkuZnJvbShzLnF1ZXJ5U2VsZWN0b3JBbGwoaXQpKTtsZXQgbD1bXSxjPW51bGw7Zm9yKGxldCB0IG9mIHIpe2NvbnN0IGU9IXQub2Zmc2V0UGFyZW50fHwhIXQuY2xvc2VzdCgnW2FyaWEtaGlkZGVuPVwidHJ1ZVwiXScpLGk9YSYmYS5jb250YWlucyh0KSxuPSF0aGlzLmNhcm91c2VsLnZpZXdwb3J0LmNvbnRhaW5zKHQpO2lmKHQ9PT1zfHwoaXx8bikmJiFlKXtsLnB1c2godCk7Y29uc3QgZT10LmRhdGFzZXQub3JpZ1RhYmluZGV4O3ZvaWQgMCE9PWUmJmUmJih0LnRhYkluZGV4PXBhcnNlRmxvYXQoZSkpLHQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1vcmlnLXRhYmluZGV4XCIpLCF0Lmhhc0F0dHJpYnV0ZShcImF1dG9Gb2N1c1wiKSYmY3x8KGM9dCl9ZWxzZXtjb25zdCBlPXZvaWQgMD09PXQuZGF0YXNldC5vcmlnVGFiaW5kZXg/dC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8XCJcIjp0LmRhdGFzZXQub3JpZ1RhYmluZGV4O2UmJih0LmRhdGFzZXQub3JpZ1RhYmluZGV4PWUpLHQudGFiSW5kZXg9LTF9fWxldCBoPW51bGw7dD8oIW58fGwuaW5kZXhPZihuKTwwKSYmKGg9Y3x8cyxsLmxlbmd0aCYmKGk9PT1yZT9oPWxbMF06dGhpcy5sYXN0Rm9jdXMhPT1zJiZpIT09YWV8fChoPWxbbC5sZW5ndGgtMV0pKSk6aD1vJiZcImltYWdlXCI9PT1vLnR5cGU/czpjfHxzLGgmJm50KGgpLHRoaXMubGFzdEZvY3VzPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsdGhpcy5pZ25vcmVGb2N1c0NoYW5nZT0hMX1uZXh0KCl7Y29uc3QgdD10aGlzLmNhcm91c2VsO3QmJnQucGFnZXMubGVuZ3RoPjEmJnQuc2xpZGVOZXh0KCl9cHJldigpe2NvbnN0IHQ9dGhpcy5jYXJvdXNlbDt0JiZ0LnBhZ2VzLmxlbmd0aD4xJiZ0LnNsaWRlUHJldigpfWp1bXBUbyguLi50KXt0aGlzLmNhcm91c2VsJiZ0aGlzLmNhcm91c2VsLnNsaWRlVG8oLi4udCl9aXNUb3Btb3N0KCl7dmFyIHQ7cmV0dXJuKG51bGw9PT0odD1oZS5nZXRJbnN0YW5jZSgpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZCk9PXRoaXMuaWR9YW5pbWF0ZSh0PW51bGwsZT1cIlwiLGkpe2lmKCF0fHwhZSlyZXR1cm4gdm9pZChpJiZpKCkpO3RoaXMuc3RvcCh0KTtjb25zdCBuPXM9PntzLnRhcmdldD09PXQmJnQuZGF0YXNldC5hbmltYXRpb25OYW1lJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsbiksZGVsZXRlIHQuZGF0YXNldC5hbmltYXRpb25OYW1lLGkmJmkoKSxTKHQsZSkpfTt0LmRhdGFzZXQuYW5pbWF0aW9uTmFtZT1lLHQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLG4pLFAodCxlKX1zdG9wKHQpe3QmJnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJhbmltYXRpb25lbmRcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiEwLGN1cnJlbnRUYXJnZXQ6dH0pKX1zZXRDb250ZW50KHQsZT1cIlwiLGk9ITApe2lmKHRoaXMuaXNDbG9zaW5nKCkpcmV0dXJuO2NvbnN0IG49dC5lbDtpZighbilyZXR1cm47bGV0IG89bnVsbDtpZihFKGUpP289ZToobz1zKGUrXCJcIiksRShvKXx8KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvLmlubmVySFRNTD1lK1wiXCIpKSxbXCJpbWdcIixcInBpY3R1cmVcIixcImlmcmFtZVwiLFwidmlkZW9cIixcImF1ZGlvXCJdLmluY2x1ZGVzKG8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmFwcGVuZENoaWxkKG8pLG89dH1FKG8pJiZ0LmZpbHRlciYmIXQuZXJyb3ImJihvPW8ucXVlcnlTZWxlY3Rvcih0LmZpbHRlcikpLG8mJkUobyk/KFAobyxcImZhbmN5Ym94X19jb250ZW50XCIpLHQuaWQmJm8uc2V0QXR0cmlidXRlKFwiaWRcIix0LmlkKSxcIm5vbmVcIiE9PW8uc3R5bGUuZGlzcGxheSYmXCJub25lXCIhPT1nZXRDb21wdXRlZFN0eWxlKG8pLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpfHwoby5zdHlsZS5kaXNwbGF5PXQuZGlzcGxheXx8dGhpcy5vcHRpb24oXCJkZWZhdWx0RGlzcGxheVwiKXx8XCJmbGV4XCIpLG4uY2xhc3NMaXN0LmFkZChgaGFzLSR7dC5lcnJvcj9cImVycm9yXCI6dC50eXBlfHxcInVua25vd25cIn1gKSxuLnByZXBlbmQobyksdC5jb250ZW50RWw9byxpJiZ0aGlzLnJldmVhbENvbnRlbnQodCksdGhpcy5tYW5hZ2VDbG9zZUJ0bih0KSx0aGlzLm1hbmFnZUNhcHRpb24odCkpOnRoaXMuc2V0RXJyb3IodCxcInt7RUxFTUVOVF9OT1RfRk9VTkR9fVwiKX1yZXZlYWxDb250ZW50KHQsZSl7Y29uc3QgaT10LmVsLG49dC5jb250ZW50RWw7aSYmbiYmKHRoaXMuZW1pdChcInJldmVhbFwiLHQpLHRoaXMuaGlkZUxvYWRpbmcodCksdC5zdGF0ZT1hdC5PcGVuaW5nLChlPXRoaXMuaXNPcGVuaW5nU2xpZGUodCk/dm9pZCAwPT09ZT90aGlzLm9wdGlvbkZvcih0LFwic2hvd0NsYXNzXCIpOmU6XCJmLWZhZGVJblwiKT90aGlzLmFuaW1hdGUobixlLCgoKT0+e3RoaXMuZG9uZSh0KX0pKTp0aGlzLmRvbmUodCkpfWRvbmUodCl7dGhpcy5pc0Nsb3NpbmcoKXx8KHQuc3RhdGU9YXQuUmVhZHksdGhpcy5lbWl0KFwiZG9uZVwiLHQpLFAodC5lbCxcImlzLWRvbmVcIiksdGhpcy5pc0N1cnJlbnRTbGlkZSh0KSYmdGhpcy5vcHRpb24oXCJhdXRvRm9jdXNcIikmJnF1ZXVlTWljcm90YXNrKCgoKT0+e3ZhciBlO251bGw9PT0oZT10LnBhbnpvb20pfHx2b2lkIDA9PT1lfHxlLnVwZGF0ZUNvbnRyb2xzKCksdGhpcy5vcHRpb24oXCJhdXRvRm9jdXNcIikmJih0aGlzLm9wdGlvbihcImF1dG9Gb2N1c1wiKT90aGlzLmZvY3VzKCk6dGhpcy5jaGVja0ZvY3VzKCkpfSkpLHRoaXMuaXNPcGVuaW5nU2xpZGUodCkmJiF0aGlzLmlzQ29tcGFjdCYmdGhpcy5vcHRpb24oXCJpZGxlXCIpJiZ0aGlzLnNldElkbGUoKSl9aXNDdXJyZW50U2xpZGUodCl7Y29uc3QgZT10aGlzLmdldFNsaWRlKCk7cmV0dXJuISghdHx8IWUpJiZlLmluZGV4PT09dC5pbmRleH1pc09wZW5pbmdTbGlkZSh0KXt2YXIgZSxpO3JldHVybiBudWxsPT09KG51bGw9PT0oZT10aGlzLmNhcm91c2VsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcmV2UGFnZSkmJnQuaW5kZXg9PT0obnVsbD09PShpPXRoaXMuZ2V0U2xpZGUoKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaW5kZXgpfXNob3dMb2FkaW5nKHQpe3Quc3RhdGU9YXQuTG9hZGluZztjb25zdCBlPXQuZWw7aWYoIWUpcmV0dXJuO1AoZSxLdCksdGhpcy5lbWl0KFwibG9hZGluZ1wiLHQpLHQuc3Bpbm5lckVsfHxzZXRUaW1lb3V0KCgoKT0+e2lmKCF0aGlzLmlzQ2xvc2luZygpJiYhdC5zcGlubmVyRWwmJnQuc3RhdGU9PT1hdC5Mb2FkaW5nKXtsZXQgaT1zKHgpO3Quc3Bpbm5lckVsPWksZS5wcmVwZW5kKGkpLHRoaXMuYW5pbWF0ZShpLFwiZi1mYWRlSW5cIil9fSksMjUwKX1oaWRlTG9hZGluZyh0KXtjb25zdCBlPXQuZWw7aWYoIWUpcmV0dXJuO2NvbnN0IGk9dC5zcGlubmVyRWw7dGhpcy5pc0Nsb3NpbmcoKT9udWxsPT1pfHxpLnJlbW92ZSgpOihTKGUsS3QpLGkmJnRoaXMuYW5pbWF0ZShpLFwiZi1mYWRlT3V0XCIsKCgpPT57aS5yZW1vdmUoKX0pKSx0LnN0YXRlPT09YXQuTG9hZGluZyYmKHRoaXMuZW1pdChcImxvYWRlZFwiLHQpLHQuc3RhdGU9YXQuUmVhZHkpKX1zZXRFcnJvcih0LGUpe2lmKHRoaXMuaXNDbG9zaW5nKCkpcmV0dXJuO2NvbnN0IGk9bmV3IEV2ZW50KFwiZXJyb3JcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwfSk7aWYodGhpcy5lbWl0KFwiZXJyb3JcIixpLHQpLGkuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47dC5lcnJvcj1lLHRoaXMuaGlkZUxvYWRpbmcodCksdGhpcy5jbGVhckNvbnRlbnQodCk7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uY2xhc3NMaXN0LmFkZChcImZhbmN5Ym94LWVycm9yXCIpLG4uaW5uZXJIVE1MPXRoaXMubG9jYWxpemUoZXx8XCI8cD57e0VSUk9SfX08L3A+XCIpLHRoaXMuc2V0Q29udGVudCh0LG4pfWNsZWFyQ29udGVudCh0KXtpZih2b2lkIDA9PT10LnN0YXRlKXJldHVybjt0aGlzLmVtaXQoXCJjbGVhckNvbnRlbnRcIix0KSx0LmNvbnRlbnRFbCYmKHQuY29udGVudEVsLnJlbW92ZSgpLHQuY29udGVudEVsPXZvaWQgMCk7Y29uc3QgZT10LmVsO2UmJihTKGUsXCJoYXMtZXJyb3JcIiksUyhlLFwiaGFzLXVua25vd25cIiksUyhlLGBoYXMtJHt0LnR5cGV8fFwidW5rbm93blwifWApKSx0LmNsb3NlQnRuRWwmJnQuY2xvc2VCdG5FbC5yZW1vdmUoKSx0LmNsb3NlQnRuRWw9dm9pZCAwLHQuY2FwdGlvbkVsJiZ0LmNhcHRpb25FbC5yZW1vdmUoKSx0LmNhcHRpb25FbD12b2lkIDAsdC5zcGlubmVyRWwmJnQuc3Bpbm5lckVsLnJlbW92ZSgpLHQuc3Bpbm5lckVsPXZvaWQgMH1nZXRTbGlkZSgpe3ZhciB0O2NvbnN0IGU9dGhpcy5jYXJvdXNlbDtyZXR1cm4obnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUucGFnZXNbbnVsbD09ZT92b2lkIDA6ZS5wYWdlXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2xpZGVzWzBdKXx8dm9pZCAwfWNsb3NlKHQsZSl7aWYodGhpcy5pc0Nsb3NpbmcoKSlyZXR1cm47Y29uc3QgaT1uZXcgRXZlbnQoXCJzaG91bGRDbG9zZVwiLHtidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9KTtpZih0aGlzLmVtaXQoXCJzaG91bGRDbG9zZVwiLGksdCksaS5kZWZhdWx0UHJldmVudGVkKXJldHVybjt0JiZ0LmNhbmNlbGFibGUmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSk7Y29uc3Qgbj10aGlzLmZzQVBJLHM9KCk9Pnt0aGlzLnByb2NlZWRDbG9zZSh0LGUpfTtuJiZuLmlzRnVsbHNjcmVlbigpPT09dGhpcy5jb250YWluZXI/UHJvbWlzZS5yZXNvbHZlKG4uZXhpdCgpKS50aGVuKCgoKT0+cygpKSk6cygpfWNsZWFySWRsZSgpe3RoaXMuaWRsZVRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5pZGxlVGltZXIpLHRoaXMuaWRsZVRpbWVyPW51bGx9c2V0SWRsZSh0PSExKXtjb25zdCBlPSgpPT57dGhpcy5jbGVhcklkbGUoKSx0aGlzLmlkbGU9ITAsUCh0aGlzLmNvbnRhaW5lcixcImlzLWlkbGVcIiksdGhpcy5lbWl0KFwic2V0SWRsZVwiKX07aWYodGhpcy5jbGVhcklkbGUoKSwhdGhpcy5pc0Nsb3NpbmcoKSlpZih0KWUoKTtlbHNle2NvbnN0IHQ9dGhpcy5vcHRpb24oXCJpZGxlXCIpO3QmJih0aGlzLmlkbGVUaW1lcj1zZXRUaW1lb3V0KGUsdCkpfX1lbmRJZGxlKCl7dGhpcy5jbGVhcklkbGUoKSx0aGlzLmlkbGUmJiF0aGlzLmlzQ2xvc2luZygpJiYodGhpcy5pZGxlPSExLFModGhpcy5jb250YWluZXIsXCJpcy1pZGxlXCIpLHRoaXMuZW1pdChcImVuZElkbGVcIikpfXJlc2V0SWRsZSgpe3RoaXMuZW5kSWRsZSgpLHRoaXMuc2V0SWRsZSgpfXRvZ2dsZUlkbGUoKXt0aGlzLmlkbGU/dGhpcy5lbmRJZGxlKCk6dGhpcy5zZXRJZGxlKCEwKX10b2dnbGVGdWxsc2NyZWVuKCl7Y29uc3QgdD10aGlzLmZzQVBJO3QmJih0LmlzRnVsbHNjcmVlbigpP3QuZXhpdCgpOnRoaXMuY29udGFpbmVyJiZ0LnJlcXVlc3QodGhpcy5jb250YWluZXIpKX1pc0Nsb3NpbmcoKXtyZXR1cm5bb3QuQ2xvc2luZyxvdC5DdXN0b21DbG9zaW5nLG90LkRlc3Ryb3ldLmluY2x1ZGVzKHRoaXMuc3RhdGUpfXByb2NlZWRDbG9zZSh0LGUpe3ZhciBpLG47dGhpcy5zdGF0ZT1vdC5DbG9zaW5nLHRoaXMuY2xlYXJJZGxlKCksdGhpcy5kZXRhY2hFdmVudHMoKTtjb25zdCBzPXRoaXMuY29udGFpbmVyLG89dGhpcy5jYXJvdXNlbCxhPXRoaXMuZ2V0U2xpZGUoKSxyPWEmJnRoaXMub3B0aW9uKFwicGxhY2VGb2N1c0JhY2tcIik/YS50cmlnZ2VyRWx8fHRoaXMub3B0aW9uKFwidHJpZ2dlckVsXCIpOm51bGw7aWYociYmKFEocik/bnQocik6ci5mb2N1cygpKSxzJiYoUChzLFwiaXMtY2xvc2luZ1wiKSxzLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMub3B0aW9uKFwiYW5pbWF0ZWRcIikmJlAocyxVdCkscy5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiKSxvKXtvLmNsZWFyVHJhbnNpdGlvbnMoKSxudWxsPT09KGk9by5wYW56b29tKXx8dm9pZCAwPT09aXx8aS5kZXN0cm95KCksbnVsbD09PShuPW8ucGx1Z2lucy5OYXZpZ2F0aW9uKXx8dm9pZCAwPT09bnx8bi5kZXRhY2goKTtmb3IoY29uc3QgdCBvZiBvLnNsaWRlcyl7dC5zdGF0ZT1hdC5DbG9zaW5nLHRoaXMuaGlkZUxvYWRpbmcodCk7Y29uc3QgZT10LmNvbnRlbnRFbDtlJiZ0aGlzLnN0b3AoZSk7Y29uc3QgaT1udWxsPT10P3ZvaWQgMDp0LnBhbnpvb207aSYmKGkuc3RvcCgpLGkuZGV0YWNoRXZlbnRzKCksaS5kZXRhY2hPYnNlcnZlcigpKSx0aGlzLmlzQ3VycmVudFNsaWRlKHQpfHxvLmVtaXQoXCJyZW1vdmVTbGlkZVwiLHQpfX10aGlzLmVtaXQoXCJjbG9zZVwiLHQpLHRoaXMuc3RhdGUhPT1vdC5DdXN0b21DbG9zaW5nPyh2b2lkIDA9PT1lJiZhJiYoZT10aGlzLm9wdGlvbkZvcihhLFwiaGlkZUNsYXNzXCIpKSxlJiZhPyh0aGlzLmFuaW1hdGUoYS5jb250ZW50RWwsZSwoKCk9PntvJiZvLmVtaXQoXCJyZW1vdmVTbGlkZVwiLGEpfSkpLHNldFRpbWVvdXQoKCgpPT57dGhpcy5kZXN0cm95KCl9KSw1MDApKTp0aGlzLmRlc3Ryb3koKSk6c2V0VGltZW91dCgoKCk9Pnt0aGlzLmRlc3Ryb3koKX0pLDUwMCl9ZGVzdHJveSgpe3ZhciB0O2lmKHRoaXMuc3RhdGU9PT1vdC5EZXN0cm95KXJldHVybjt0aGlzLnN0YXRlPW90LkRlc3Ryb3ksbnVsbD09PSh0PXRoaXMuY2Fyb3VzZWwpfHx2b2lkIDA9PT10fHx0LmRlc3Ryb3koKTtjb25zdCBlPXRoaXMuY29udGFpbmVyO2UmJmUucmVtb3ZlKCksbGUuZGVsZXRlKHRoaXMuaWQpO2NvbnN0IGk9aGUuZ2V0SW5zdGFuY2UoKTtpP2kuZm9jdXMoKTooYWUmJihhZS5yZW1vdmUoKSxhZT1udWxsKSxyZSYmKHJlLnJlbW92ZSgpLHJlPW51bGwpLFMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFh0KSwoKCk9PntpZighdHQpcmV0dXJuO2NvbnN0IHQ9ZG9jdW1lbnQsZT10LmJvZHk7ZS5jbGFzc0xpc3QucmVtb3ZlKHF0KSxlLnN0eWxlLnNldFByb3BlcnR5KFZ0LFwiXCIpLHQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFl0LFwiXCIpfSkoKSx0aGlzLmVtaXQoXCJkZXN0cm95XCIpKX1zdGF0aWMgYmluZCh0LGUsaSl7aWYoIXR0KXJldHVybjtsZXQgbixzPVwiXCIsbz17fTtpZih2b2lkIDA9PT10P249ZG9jdW1lbnQuYm9keTpzZSh0KT8obj1kb2N1bWVudC5ib2R5LHM9dCxcIm9iamVjdFwiPT10eXBlb2YgZSYmKG89ZXx8e30pKToobj10LHNlKGUpJiYocz1lKSxcIm9iamVjdFwiPT10eXBlb2YgaSYmKG89aXx8e30pKSwhbnx8IUUobikpcmV0dXJuO3M9c3x8XCJbZGF0YS1mYW5jeWJveF1cIjtjb25zdCBhPWhlLm9wZW5lcnMuZ2V0KG4pfHxuZXcgTWFwO2Euc2V0KHMsbyksaGUub3BlbmVycy5zZXQobixhKSwxPT09YS5zaXplJiZuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGhlLmZyb21FdmVudCl9c3RhdGljIHVuYmluZCh0LGUpe2xldCBpLG49XCJcIjtpZihzZSh0KT8oaT1kb2N1bWVudC5ib2R5LG49dCk6KGk9dCxzZShlKSYmKG49ZSkpLCFpKXJldHVybjtjb25zdCBzPWhlLm9wZW5lcnMuZ2V0KGkpO3MmJm4mJnMuZGVsZXRlKG4pLG4mJnN8fChoZS5vcGVuZXJzLmRlbGV0ZShpKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGhlLmZyb21FdmVudCkpfXN0YXRpYyBkZXN0cm95KCl7bGV0IHQ7Zm9yKDt0PWhlLmdldEluc3RhbmNlKCk7KXQuZGVzdHJveSgpO2Zvcihjb25zdCB0IG9mIGhlLm9wZW5lcnMua2V5cygpKXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaGUuZnJvbUV2ZW50KTtoZS5vcGVuZXJzPW5ldyBNYXB9c3RhdGljIGZyb21FdmVudCh0KXtpZih0LmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO2lmKHQuYnV0dG9uJiYwIT09dC5idXR0b24pcmV0dXJuO2lmKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0LnNoaWZ0S2V5KXJldHVybjtsZXQgZT10LmNvbXBvc2VkUGF0aCgpWzBdO2NvbnN0IGk9ZS5jbG9zZXN0KFwiW2RhdGEtZmFuY3lib3gtdHJpZ2dlcl1cIik7aWYoaSl7Y29uc3QgdD1pLmRhdGFzZXQuZmFuY3lib3hUcmlnZ2VyfHxcIlwiLG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtZmFuY3lib3g9XCIke3R9XCJdYCkscz1wYXJzZUludChpLmRhdGFzZXQuZmFuY3lib3hJbmRleHx8XCJcIiwxMCl8fDA7ZT1uW3NdfHxlfWlmKCEoZSYmZSBpbnN0YW5jZW9mIEVsZW1lbnQpKXJldHVybjtsZXQgbixzLG8sYTtpZihbLi4uaGUub3BlbmVyc10ucmV2ZXJzZSgpLmZpbmQoKChbdCxpXSk9PiEoIXQuY29udGFpbnMoZSl8fCFbLi4uaV0ucmV2ZXJzZSgpLmZpbmQoKChbaSxyXSk9PntsZXQgbD1lLmNsb3Nlc3QoaSk7cmV0dXJuISFsJiYobj10LHM9aSxvPWwsYT1yLCEwKX0pKSkpKSwhbnx8IXN8fCFvKXJldHVybjthPWF8fHt9LHQucHJldmVudERlZmF1bHQoKSxlPW87bGV0IHI9W10sbD1mKHt9LHN0LGEpO2wuZXZlbnQ9dCxsLnRyaWdnZXJFbD1lLGwuZGVsZWdhdGU9aTtjb25zdCBjPWwuZ3JvdXBBbGwsaD1sLmdyb3VwQXR0cixkPWgmJmU/ZS5nZXRBdHRyaWJ1dGUoYCR7aH1gKTpcIlwiO2lmKCghZXx8ZHx8YykmJihyPVtdLnNsaWNlLmNhbGwobi5xdWVyeVNlbGVjdG9yQWxsKHMpKSksZSYmIWMmJihyPWQ/ci5maWx0ZXIoKHQ9PnQuZ2V0QXR0cmlidXRlKGAke2h9YCk9PT1kKSk6W2VdKSwhci5sZW5ndGgpcmV0dXJuO2NvbnN0IHU9aGUuZ2V0SW5zdGFuY2UoKTtyZXR1cm4gdSYmdS5vcHRpb25zLnRyaWdnZXJFbCYmci5pbmRleE9mKHUub3B0aW9ucy50cmlnZ2VyRWwpPi0xP3ZvaWQgMDooZSYmKGwuc3RhcnRJbmRleD1yLmluZGV4T2YoZSkpLGhlLmZyb21Ob2RlcyhyLGwpKX1zdGF0aWMgZnJvbVNlbGVjdG9yKHQsZSxpKXtsZXQgbj1udWxsLHM9XCJcIixvPXt9O2lmKHNlKHQpPyhuPWRvY3VtZW50LmJvZHkscz10LFwib2JqZWN0XCI9PXR5cGVvZiBlJiYobz1lfHx7fSkpOnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmc2UoZSkmJihuPXQscz1lLFwib2JqZWN0XCI9PXR5cGVvZiBpJiYobz1pfHx7fSkpLCFufHwhcylyZXR1cm4hMTtjb25zdCBhPWhlLm9wZW5lcnMuZ2V0KG4pO3JldHVybiEhYSYmKG89Zih7fSxhLmdldChzKXx8e30sbyksISFvJiZoZS5mcm9tTm9kZXMoQXJyYXkuZnJvbShuLnF1ZXJ5U2VsZWN0b3JBbGwocykpLG8pKX1zdGF0aWMgZnJvbU5vZGVzKHQsZSl7ZT1mKHt9LHN0LGV8fHt9KTtjb25zdCBpPVtdO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5kYXRhc2V0fHx7fSxzPXRbbmVdfHxuLmdldEF0dHJpYnV0ZShpZSl8fG4uZ2V0QXR0cmlidXRlKFwiY3VycmVudFNyY1wiKXx8bi5nZXRBdHRyaWJ1dGUobmUpfHx2b2lkIDA7bGV0IG87Y29uc3QgYT1lLmRlbGVnYXRlO2xldCByO2EmJmkubGVuZ3RoPT09ZS5zdGFydEluZGV4JiYobz1hIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9hOmEucXVlcnlTZWxlY3RvcihcImltZzpub3QoW2FyaWEtaGlkZGVuXSlcIikpLG98fChvPW4gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P246bi5xdWVyeVNlbGVjdG9yKFwiaW1nOm5vdChbYXJpYS1oaWRkZW5dKVwiKSksbyYmKHI9by5jdXJyZW50U3JjfHxvW25lXXx8dm9pZCAwLCFyJiZvLmRhdGFzZXQmJihyPW8uZGF0YXNldC5sYXp5U3JjfHxvLmRhdGFzZXRbbmVdfHx2b2lkIDApKTtjb25zdCBsPXtzcmM6cyx0cmlnZ2VyRWw6bix0aHVtYkVsOm8sdGh1bWJFbFNyYzpyLHRodW1iU3JjOnJ9O2Zvcihjb25zdCBlIGluIHQpe2xldCBpPXRbZV0rXCJcIjtpPVwiZmFsc2VcIiE9PWkmJihcInRydWVcIj09PWl8fGkpLGxbZV09aX1pLnB1c2gobCl9cmV0dXJuIG5ldyBoZShpLGUpfXN0YXRpYyBnZXRJbnN0YW5jZSh0KXtpZih0KXJldHVybiBsZS5nZXQodCk7cmV0dXJuIEFycmF5LmZyb20obGUudmFsdWVzKCkpLnJldmVyc2UoKS5maW5kKCh0PT4hdC5pc0Nsb3NpbmcoKSYmdCkpfHxudWxsfXN0YXRpYyBnZXRTbGlkZSgpe3ZhciB0O3JldHVybihudWxsPT09KHQ9aGUuZ2V0SW5zdGFuY2UoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0U2xpZGUoKSl8fG51bGx9c3RhdGljIHNob3codD1bXSxlPXt9KXtyZXR1cm4gbmV3IGhlKHQsZSl9c3RhdGljIG5leHQoKXtjb25zdCB0PWhlLmdldEluc3RhbmNlKCk7dCYmdC5uZXh0KCl9c3RhdGljIHByZXYoKXtjb25zdCB0PWhlLmdldEluc3RhbmNlKCk7dCYmdC5wcmV2KCl9c3RhdGljIGNsb3NlKHQ9ITAsLi4uZSl7aWYodClmb3IoY29uc3QgdCBvZiBsZS52YWx1ZXMoKSl0LmNsb3NlKC4uLmUpO2Vsc2V7Y29uc3QgdD1oZS5nZXRJbnN0YW5jZSgpO3QmJnQuY2xvc2UoLi4uZSl9fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsXCJ2ZXJzaW9uXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOlwiNS4wLjI4XCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsXCJkZWZhdWx0c1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzdH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoZSxcIlBsdWdpbnNcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6V3R9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsXCJvcGVuZXJzXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm5ldyBNYXB9KSx0LkNhcm91c2VsPUosdC5GYW5jeWJveD1oZSx0LlBhbnpvb209a30pKTtcclxuIiwiLyoqXHJcbiAqIFN3aXBlciAxMS4xLjEwXHJcbiAqIE1vc3QgbW9kZXJuIG1vYmlsZSB0b3VjaCBzbGlkZXIgYW5kIGZyYW1ld29yayB3aXRoIGhhcmR3YXJlIGFjY2VsZXJhdGVkIHRyYW5zaXRpb25zXHJcbiAqIGh0dHBzOi8vc3dpcGVyanMuY29tXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDE0LTIwMjQgVmxhZGltaXIgS2hhcmxhbXBpZGlcclxuICpcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXHJcbiAqXHJcbiAqIFJlbGVhc2VkIG9uOiBBdWd1c3QgMjEsIDIwMjRcclxuICovXHJcblxyXG52YXIgU3dpcGVyPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gbnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImNvbnN0cnVjdG9yXCJpbiBlJiZlLmNvbnN0cnVjdG9yPT09T2JqZWN0fWZ1bmN0aW9uIHQocyxhKXt2b2lkIDA9PT1zJiYocz17fSksdm9pZCAwPT09YSYmKGE9e30pLE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGk9Pnt2b2lkIDA9PT1zW2ldP3NbaV09YVtpXTplKGFbaV0pJiZlKHNbaV0pJiZPYmplY3Qua2V5cyhhW2ldKS5sZW5ndGg+MCYmdChzW2ldLGFbaV0pfSkpfWNvbnN0IHM9e2JvZHk6e30sYWRkRXZlbnRMaXN0ZW5lcigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcigpe30sYWN0aXZlRWxlbWVudDp7Ymx1cigpe30sbm9kZU5hbWU6XCJcIn0scXVlcnlTZWxlY3RvcjooKT0+bnVsbCxxdWVyeVNlbGVjdG9yQWxsOigpPT5bXSxnZXRFbGVtZW50QnlJZDooKT0+bnVsbCxjcmVhdGVFdmVudDooKT0+KHtpbml0RXZlbnQoKXt9fSksY3JlYXRlRWxlbWVudDooKT0+KHtjaGlsZHJlbjpbXSxjaGlsZE5vZGVzOltdLHN0eWxlOnt9LHNldEF0dHJpYnV0ZSgpe30sZ2V0RWxlbWVudHNCeVRhZ05hbWU6KCk9PltdfSksY3JlYXRlRWxlbWVudE5TOigpPT4oe30pLGltcG9ydE5vZGU6KCk9Pm51bGwsbG9jYXRpb246e2hhc2g6XCJcIixob3N0OlwiXCIsaG9zdG5hbWU6XCJcIixocmVmOlwiXCIsb3JpZ2luOlwiXCIscGF0aG5hbWU6XCJcIixwcm90b2NvbDpcIlwiLHNlYXJjaDpcIlwifX07ZnVuY3Rpb24gYSgpe2NvbnN0IGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Ont9O3JldHVybiB0KGUscyksZX1jb25zdCBpPXtkb2N1bWVudDpzLG5hdmlnYXRvcjp7dXNlckFnZW50OlwiXCJ9LGxvY2F0aW9uOntoYXNoOlwiXCIsaG9zdDpcIlwiLGhvc3RuYW1lOlwiXCIsaHJlZjpcIlwiLG9yaWdpbjpcIlwiLHBhdGhuYW1lOlwiXCIscHJvdG9jb2w6XCJcIixzZWFyY2g6XCJcIn0saGlzdG9yeTp7cmVwbGFjZVN0YXRlKCl7fSxwdXNoU3RhdGUoKXt9LGdvKCl7fSxiYWNrKCl7fX0sQ3VzdG9tRXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYWRkRXZlbnRMaXN0ZW5lcigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcigpe30sZ2V0Q29tcHV0ZWRTdHlsZTooKT0+KHtnZXRQcm9wZXJ0eVZhbHVlOigpPT5cIlwifSksSW1hZ2UoKXt9LERhdGUoKXt9LHNjcmVlbjp7fSxzZXRUaW1lb3V0KCl7fSxjbGVhclRpbWVvdXQoKXt9LG1hdGNoTWVkaWE6KCk9Pih7fSkscmVxdWVzdEFuaW1hdGlvbkZyYW1lOmU9PlwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZXRUaW1lb3V0PyhlKCksbnVsbCk6c2V0VGltZW91dChlLDApLGNhbmNlbEFuaW1hdGlvbkZyYW1lKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBzZXRUaW1lb3V0JiZjbGVhclRpbWVvdXQoZSl9fTtmdW5jdGlvbiByKCl7Y29uc3QgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fTtyZXR1cm4gdChlLGkpLGV9ZnVuY3Rpb24gbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksZS50cmltKCkuc3BsaXQoXCIgXCIpLmZpbHRlcigoZT0+ISFlLnRyaW0oKSkpfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksc2V0VGltZW91dChlLHQpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gRGF0ZS5ub3coKX1mdW5jdGlvbiBkKGUsdCl7dm9pZCAwPT09dCYmKHQ9XCJ4XCIpO2NvbnN0IHM9cigpO2xldCBhLGksbjtjb25zdCBsPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9cigpO2xldCBzO3JldHVybiB0LmdldENvbXB1dGVkU3R5bGUmJihzPXQuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpKSwhcyYmZS5jdXJyZW50U3R5bGUmJihzPWUuY3VycmVudFN0eWxlKSxzfHwocz1lLnN0eWxlKSxzfShlKTtyZXR1cm4gcy5XZWJLaXRDU1NNYXRyaXg/KGk9bC50cmFuc2Zvcm18fGwud2Via2l0VHJhbnNmb3JtLGkuc3BsaXQoXCIsXCIpLmxlbmd0aD42JiYoaT1pLnNwbGl0KFwiLCBcIikubWFwKChlPT5lLnJlcGxhY2UoXCIsXCIsXCIuXCIpKSkuam9pbihcIiwgXCIpKSxuPW5ldyBzLldlYktpdENTU01hdHJpeChcIm5vbmVcIj09PWk/XCJcIjppKSk6KG49bC5Nb3pUcmFuc2Zvcm18fGwuT1RyYW5zZm9ybXx8bC5Nc1RyYW5zZm9ybXx8bC5tc1RyYW5zZm9ybXx8bC50cmFuc2Zvcm18fGwuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKS5yZXBsYWNlKFwidHJhbnNsYXRlKFwiLFwibWF0cml4KDEsIDAsIDAsIDEsXCIpLGE9bi50b1N0cmluZygpLnNwbGl0KFwiLFwiKSksXCJ4XCI9PT10JiYoaT1zLldlYktpdENTU01hdHJpeD9uLm00MToxNj09PWEubGVuZ3RoP3BhcnNlRmxvYXQoYVsxMl0pOnBhcnNlRmxvYXQoYVs0XSkpLFwieVwiPT09dCYmKGk9cy5XZWJLaXRDU1NNYXRyaXg/bi5tNDI6MTY9PT1hLmxlbmd0aD9wYXJzZUZsb2F0KGFbMTNdKTpwYXJzZUZsb2F0KGFbNV0pKSxpfHwwfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLmNvbnN0cnVjdG9yJiZcIk9iamVjdFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIHAoKXtjb25zdCBlPU9iamVjdChhcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0pLHQ9W1wiX19wcm90b19fXCIsXCJjb25zdHJ1Y3RvclwiLFwicHJvdG90eXBlXCJdO2ZvcihsZXQgYT0xO2E8YXJndW1lbnRzLmxlbmd0aDthKz0xKXtjb25zdCBpPWE8MHx8YXJndW1lbnRzLmxlbmd0aDw9YT92b2lkIDA6YXJndW1lbnRzW2FdO2lmKG51bGwhPWkmJihzPWksIShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuSFRNTEVsZW1lbnQ/cyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OnMmJigxPT09cy5ub2RlVHlwZXx8MTE9PT1zLm5vZGVUeXBlKSkpKXtjb25zdCBzPU9iamVjdC5rZXlzKE9iamVjdChpKSkuZmlsdGVyKChlPT50LmluZGV4T2YoZSk8MCkpO2ZvcihsZXQgdD0wLGE9cy5sZW5ndGg7dDxhO3QrPTEpe2NvbnN0IGE9c1t0XSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxhKTt2b2lkIDAhPT1yJiZyLmVudW1lcmFibGUmJihjKGVbYV0pJiZjKGlbYV0pP2lbYV0uX19zd2lwZXJfXz9lW2FdPWlbYV06cChlW2FdLGlbYV0pOiFjKGVbYV0pJiZjKGlbYV0pPyhlW2FdPXt9LGlbYV0uX19zd2lwZXJfXz9lW2FdPWlbYV06cChlW2FdLGlbYV0pKTplW2FdPWlbYV0pfX19dmFyIHM7cmV0dXJuIGV9ZnVuY3Rpb24gdShlLHQscyl7ZS5zdHlsZS5zZXRQcm9wZXJ0eSh0LHMpfWZ1bmN0aW9uIG0oZSl7bGV0e3N3aXBlcjp0LHRhcmdldFBvc2l0aW9uOnMsc2lkZTphfT1lO2NvbnN0IGk9cigpLG49LXQudHJhbnNsYXRlO2xldCBsLG89bnVsbDtjb25zdCBkPXQucGFyYW1zLnNwZWVkO3Qud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlPVwibm9uZVwiLGkuY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5jc3NNb2RlRnJhbWVJRCk7Y29uc3QgYz1zPm4/XCJuZXh0XCI6XCJwcmV2XCIscD0oZSx0KT0+XCJuZXh0XCI9PT1jJiZlPj10fHxcInByZXZcIj09PWMmJmU8PXQsdT0oKT0+e2w9KG5ldyBEYXRlKS5nZXRUaW1lKCksbnVsbD09PW8mJihvPWwpO2NvbnN0IGU9TWF0aC5tYXgoTWF0aC5taW4oKGwtbykvZCwxKSwwKSxyPS41LU1hdGguY29zKGUqTWF0aC5QSSkvMjtsZXQgYz1uK3IqKHMtbik7aWYocChjLHMpJiYoYz1zKSx0LndyYXBwZXJFbC5zY3JvbGxUbyh7W2FdOmN9KSxwKGMscykpcmV0dXJuIHQud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdC53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGU9XCJcIixzZXRUaW1lb3V0KCgoKT0+e3Qud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiXCIsdC53cmFwcGVyRWwuc2Nyb2xsVG8oe1thXTpjfSl9KSksdm9pZCBpLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQuY3NzTW9kZUZyYW1lSUQpO3QuY3NzTW9kZUZyYW1lSUQ9aS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSl9O3UoKX1mdW5jdGlvbiBoKGUpe3JldHVybiBlLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybVwiKXx8ZS5zaGFkb3dSb290JiZlLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtdHJhbnNmb3JtXCIpfHxlfWZ1bmN0aW9uIGYoZSx0KXt2b2lkIDA9PT10JiYodD1cIlwiKTtjb25zdCBzPVsuLi5lLmNoaWxkcmVuXTtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxTbG90RWxlbWVudCYmcy5wdXNoKC4uLmUuYXNzaWduZWRFbGVtZW50cygpKSx0P3MuZmlsdGVyKChlPT5lLm1hdGNoZXModCkpKTpzfWZ1bmN0aW9uIGcoZSl7dHJ5e3JldHVybiB2b2lkIGNvbnNvbGUud2FybihlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIHYoZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBzLmNsYXNzTGlzdC5hZGQoLi4uQXJyYXkuaXNBcnJheSh0KT90Om4odCkpLHN9ZnVuY3Rpb24gdyhlKXtjb25zdCB0PXIoKSxzPWEoKSxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1zLmJvZHksbD1lLmNsaWVudFRvcHx8bi5jbGllbnRUb3B8fDAsbz1lLmNsaWVudExlZnR8fG4uY2xpZW50TGVmdHx8MCxkPWU9PT10P3Quc2Nyb2xsWTplLnNjcm9sbFRvcCxjPWU9PT10P3Quc2Nyb2xsWDplLnNjcm9sbExlZnQ7cmV0dXJue3RvcDppLnRvcCtkLWwsbGVmdDppLmxlZnQrYy1vfX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIHIoKS5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSh0KX1mdW5jdGlvbiB5KGUpe2xldCB0LHM9ZTtpZihzKXtmb3IodD0wO251bGwhPT0ocz1zLnByZXZpb3VzU2libGluZyk7KTE9PT1zLm5vZGVUeXBlJiYodCs9MSk7cmV0dXJuIHR9fWZ1bmN0aW9uIEUoZSx0KXtjb25zdCBzPVtdO2xldCBhPWUucGFyZW50RWxlbWVudDtmb3IoO2E7KXQ/YS5tYXRjaGVzKHQpJiZzLnB1c2goYSk6cy5wdXNoKGEpLGE9YS5wYXJlbnRFbGVtZW50O3JldHVybiBzfWZ1bmN0aW9uIHgoZSx0KXt0JiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsKGZ1bmN0aW9uIHMoYSl7YS50YXJnZXQ9PT1lJiYodC5jYWxsKGUsYSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHMpKX0pKX1mdW5jdGlvbiBTKGUsdCxzKXtjb25zdCBhPXIoKTtyZXR1cm4gcz9lW1wid2lkdGhcIj09PXQ/XCJvZmZzZXRXaWR0aFwiOlwib2Zmc2V0SGVpZ2h0XCJdK3BhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShcIndpZHRoXCI9PT10P1wibWFyZ2luLXJpZ2h0XCI6XCJtYXJnaW4tdG9wXCIpKStwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiPT09dD9cIm1hcmdpbi1sZWZ0XCI6XCJtYXJnaW4tYm90dG9tXCIpKTplLm9mZnNldFdpZHRofWZ1bmN0aW9uIFQoZSl7cmV0dXJuKEFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmZpbHRlcigoZT0+ISFlKSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gdD0+TWF0aC5hYnModCk+MCYmZS5icm93c2VyJiZlLmJyb3dzZXIubmVlZDNkRml4JiZNYXRoLmFicyh0KSU5MD09MD90Ky4wMDE6dH1sZXQgQyxQLEw7ZnVuY3Rpb24gSSgpe3JldHVybiBDfHwoQz1mdW5jdGlvbigpe2NvbnN0IGU9cigpLHQ9YSgpO3JldHVybntzbW9vdGhTY3JvbGw6dC5kb2N1bWVudEVsZW1lbnQmJnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZcInNjcm9sbEJlaGF2aW9yXCJpbiB0LmRvY3VtZW50RWxlbWVudC5zdHlsZSx0b3VjaDohIShcIm9udG91Y2hzdGFydFwiaW4gZXx8ZS5Eb2N1bWVudFRvdWNoJiZ0IGluc3RhbmNlb2YgZS5Eb2N1bWVudFRvdWNoKX19KCkpLEN9ZnVuY3Rpb24geihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLFB8fChQPWZ1bmN0aW9uKGUpe2xldHt1c2VyQWdlbnQ6dH09dm9pZCAwPT09ZT97fTplO2NvbnN0IHM9SSgpLGE9cigpLGk9YS5uYXZpZ2F0b3IucGxhdGZvcm0sbj10fHxhLm5hdmlnYXRvci51c2VyQWdlbnQsbD17aW9zOiExLGFuZHJvaWQ6ITF9LG89YS5zY3JlZW4ud2lkdGgsZD1hLnNjcmVlbi5oZWlnaHQsYz1uLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTtsZXQgcD1uLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyk7Y29uc3QgdT1uLm1hdGNoKC8oaVBvZCkoLipPU1xccyhbXFxkX10rKSk/LyksbT0hcCYmbi5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKSxoPVwiV2luMzJcIj09PWk7bGV0IGY9XCJNYWNJbnRlbFwiPT09aTtyZXR1cm4hcCYmZiYmcy50b3VjaCYmW1wiMTAyNHgxMzY2XCIsXCIxMzY2eDEwMjRcIixcIjgzNHgxMTk0XCIsXCIxMTk0eDgzNFwiLFwiODM0eDExMTJcIixcIjExMTJ4ODM0XCIsXCI3Njh4MTAyNFwiLFwiMTAyNHg3NjhcIixcIjgyMHgxMTgwXCIsXCIxMTgweDgyMFwiLFwiODEweDEwODBcIixcIjEwODB4ODEwXCJdLmluZGV4T2YoYCR7b314JHtkfWApPj0wJiYocD1uLm1hdGNoKC8oVmVyc2lvbilcXC8oW1xcZC5dKykvKSxwfHwocD1bMCwxLFwiMTNfMF8wXCJdKSxmPSExKSxjJiYhaCYmKGwub3M9XCJhbmRyb2lkXCIsbC5hbmRyb2lkPSEwKSwocHx8bXx8dSkmJihsLm9zPVwiaW9zXCIsbC5pb3M9ITApLGx9KGUpKSxQfWZ1bmN0aW9uIEEoKXtyZXR1cm4gTHx8KEw9ZnVuY3Rpb24oKXtjb25zdCBlPXIoKSx0PXooKTtsZXQgcz0hMTtmdW5jdGlvbiBhKCl7Y29uc3QgdD1lLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtyZXR1cm4gdC5pbmRleE9mKFwic2FmYXJpXCIpPj0wJiZ0LmluZGV4T2YoXCJjaHJvbWVcIik8MCYmdC5pbmRleE9mKFwiYW5kcm9pZFwiKTwwfWlmKGEoKSl7Y29uc3QgdD1TdHJpbmcoZS5uYXZpZ2F0b3IudXNlckFnZW50KTtpZih0LmluY2x1ZGVzKFwiVmVyc2lvbi9cIikpe2NvbnN0W2UsYV09dC5zcGxpdChcIlZlcnNpb24vXCIpWzFdLnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi5cIikubWFwKChlPT5OdW1iZXIoZSkpKTtzPWU8MTZ8fDE2PT09ZSYmYTwyfX1jb25zdCBpPS8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdChlLm5hdmlnYXRvci51c2VyQWdlbnQpLG49YSgpO3JldHVybntpc1NhZmFyaTpzfHxuLG5lZWRQZXJzcGVjdGl2ZUZpeDpzLG5lZWQzZEZpeDpufHxpJiZ0Lmlvcyxpc1dlYlZpZXc6aX19KCkpLEx9dmFyICQ9e29uKGUsdCxzKXtjb25zdCBhPXRoaXM7aWYoIWEuZXZlbnRzTGlzdGVuZXJzfHxhLmRlc3Ryb3llZClyZXR1cm4gYTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBhO2NvbnN0IGk9cz9cInVuc2hpZnRcIjpcInB1c2hcIjtyZXR1cm4gZS5zcGxpdChcIiBcIikuZm9yRWFjaCgoZT0+e2EuZXZlbnRzTGlzdGVuZXJzW2VdfHwoYS5ldmVudHNMaXN0ZW5lcnNbZV09W10pLGEuZXZlbnRzTGlzdGVuZXJzW2VdW2ldKHQpfSkpLGF9LG9uY2UoZSx0LHMpe2NvbnN0IGE9dGhpcztpZighYS5ldmVudHNMaXN0ZW5lcnN8fGEuZGVzdHJveWVkKXJldHVybiBhO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIGE7ZnVuY3Rpb24gaSgpe2Eub2ZmKGUsaSksaS5fX2VtaXR0ZXJQcm94eSYmZGVsZXRlIGkuX19lbWl0dGVyUHJveHk7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkocyksbj0wO248cztuKyspcltuXT1hcmd1bWVudHNbbl07dC5hcHBseShhLHIpfXJldHVybiBpLl9fZW1pdHRlclByb3h5PXQsYS5vbihlLGkscyl9LG9uQW55KGUsdCl7Y29uc3Qgcz10aGlzO2lmKCFzLmV2ZW50c0xpc3RlbmVyc3x8cy5kZXN0cm95ZWQpcmV0dXJuIHM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4gcztjb25zdCBhPXQ/XCJ1bnNoaWZ0XCI6XCJwdXNoXCI7cmV0dXJuIHMuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoZSk8MCYmcy5ldmVudHNBbnlMaXN0ZW5lcnNbYV0oZSksc30sb2ZmQW55KGUpe2NvbnN0IHQ9dGhpcztpZighdC5ldmVudHNMaXN0ZW5lcnN8fHQuZGVzdHJveWVkKXJldHVybiB0O2lmKCF0LmV2ZW50c0FueUxpc3RlbmVycylyZXR1cm4gdDtjb25zdCBzPXQuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoZSk7cmV0dXJuIHM+PTAmJnQuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShzLDEpLHR9LG9mZihlLHQpe2NvbnN0IHM9dGhpcztyZXR1cm4hcy5ldmVudHNMaXN0ZW5lcnN8fHMuZGVzdHJveWVkP3M6cy5ldmVudHNMaXN0ZW5lcnM/KGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGU9Pnt2b2lkIDA9PT10P3MuZXZlbnRzTGlzdGVuZXJzW2VdPVtdOnMuZXZlbnRzTGlzdGVuZXJzW2VdJiZzLmV2ZW50c0xpc3RlbmVyc1tlXS5mb3JFYWNoKCgoYSxpKT0+eyhhPT09dHx8YS5fX2VtaXR0ZXJQcm94eSYmYS5fX2VtaXR0ZXJQcm94eT09PXQpJiZzLmV2ZW50c0xpc3RlbmVyc1tlXS5zcGxpY2UoaSwxKX0pKX0pKSxzKTpzfSxlbWl0KCl7Y29uc3QgZT10aGlzO2lmKCFlLmV2ZW50c0xpc3RlbmVyc3x8ZS5kZXN0cm95ZWQpcmV0dXJuIGU7aWYoIWUuZXZlbnRzTGlzdGVuZXJzKXJldHVybiBlO2xldCB0LHMsYTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSxuPTA7bjxpO24rKylyW25dPWFyZ3VtZW50c1tuXTtcInN0cmluZ1wiPT10eXBlb2YgclswXXx8QXJyYXkuaXNBcnJheShyWzBdKT8odD1yWzBdLHM9ci5zbGljZSgxLHIubGVuZ3RoKSxhPWUpOih0PXJbMF0uZXZlbnRzLHM9clswXS5kYXRhLGE9clswXS5jb250ZXh0fHxlKSxzLnVuc2hpZnQoYSk7cmV0dXJuKEFycmF5LmlzQXJyYXkodCk/dDp0LnNwbGl0KFwiIFwiKSkuZm9yRWFjaCgodD0+e2UuZXZlbnRzQW55TGlzdGVuZXJzJiZlLmV2ZW50c0FueUxpc3RlbmVycy5sZW5ndGgmJmUuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goKGU9PntlLmFwcGx5KGEsW3QsLi4uc10pfSkpLGUuZXZlbnRzTGlzdGVuZXJzJiZlLmV2ZW50c0xpc3RlbmVyc1t0XSYmZS5ldmVudHNMaXN0ZW5lcnNbdF0uZm9yRWFjaCgoZT0+e2UuYXBwbHkoYSxzKX0pKX0pKSxlfX07Y29uc3Qgaz0oZSx0LHMpPT57dCYmIWUuY2xhc3NMaXN0LmNvbnRhaW5zKHMpP2UuY2xhc3NMaXN0LmFkZChzKTohdCYmZS5jbGFzc0xpc3QuY29udGFpbnMocykmJmUuY2xhc3NMaXN0LnJlbW92ZShzKX07Y29uc3QgTz0oZSx0LHMpPT57dCYmIWUuY2xhc3NMaXN0LmNvbnRhaW5zKHMpP2UuY2xhc3NMaXN0LmFkZChzKTohdCYmZS5jbGFzc0xpc3QuY29udGFpbnMocykmJmUuY2xhc3NMaXN0LnJlbW92ZShzKX07Y29uc3QgRD0oZSx0KT0+e2lmKCFlfHxlLmRlc3Ryb3llZHx8IWUucGFyYW1zKXJldHVybjtjb25zdCBzPXQuY2xvc2VzdChlLmlzRWxlbWVudD9cInN3aXBlci1zbGlkZVwiOmAuJHtlLnBhcmFtcy5zbGlkZUNsYXNzfWApO2lmKHMpe2xldCB0PXMucXVlcnlTZWxlY3RvcihgLiR7ZS5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApOyF0JiZlLmlzRWxlbWVudCYmKHMuc2hhZG93Um9vdD90PXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtlLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3Muc2hhZG93Um9vdCYmKHQ9cy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYC4ke2UucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKSx0JiZ0LnJlbW92ZSgpKX0pKSksdCYmdC5yZW1vdmUoKX19LEc9KGUsdCk9PntpZighZS5zbGlkZXNbdF0pcmV0dXJuO2NvbnN0IHM9ZS5zbGlkZXNbdF0ucXVlcnlTZWxlY3RvcignW2xvYWRpbmc9XCJsYXp5XCJdJyk7cyYmcy5yZW1vdmVBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpfSxIPWU9PntpZighZXx8ZS5kZXN0cm95ZWR8fCFlLnBhcmFtcylyZXR1cm47bGV0IHQ9ZS5wYXJhbXMubGF6eVByZWxvYWRQcmV2TmV4dDtjb25zdCBzPWUuc2xpZGVzLmxlbmd0aDtpZighc3x8IXR8fHQ8MClyZXR1cm47dD1NYXRoLm1pbih0LHMpO2NvbnN0IGE9XCJhdXRvXCI9PT1lLnBhcmFtcy5zbGlkZXNQZXJWaWV3P2Uuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTpNYXRoLmNlaWwoZS5wYXJhbXMuc2xpZGVzUGVyVmlldyksaT1lLmFjdGl2ZUluZGV4O2lmKGUucGFyYW1zLmdyaWQmJmUucGFyYW1zLmdyaWQucm93cz4xKXtjb25zdCBzPWkscj1bcy10XTtyZXR1cm4gci5wdXNoKC4uLkFycmF5LmZyb20oe2xlbmd0aDp0fSkubWFwKCgoZSx0KT0+cythK3QpKSksdm9pZCBlLnNsaWRlcy5mb3JFYWNoKCgodCxzKT0+e3IuaW5jbHVkZXModC5jb2x1bW4pJiZHKGUscyl9KSl9Y29uc3Qgcj1pK2EtMTtpZihlLnBhcmFtcy5yZXdpbmR8fGUucGFyYW1zLmxvb3ApZm9yKGxldCBhPWktdDthPD1yK3Q7YSs9MSl7Y29uc3QgdD0oYSVzK3MpJXM7KHQ8aXx8dD5yKSYmRyhlLHQpfWVsc2UgZm9yKGxldCBhPU1hdGgubWF4KGktdCwwKTthPD1NYXRoLm1pbihyK3Qscy0xKTthKz0xKWEhPT1pJiYoYT5yfHxhPGkpJiZHKGUsYSl9O3ZhciBCPXt1cGRhdGVTaXplOmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO2xldCB0LHM7Y29uc3QgYT1lLmVsO3Q9dm9pZCAwIT09ZS5wYXJhbXMud2lkdGgmJm51bGwhPT1lLnBhcmFtcy53aWR0aD9lLnBhcmFtcy53aWR0aDphLmNsaWVudFdpZHRoLHM9dm9pZCAwIT09ZS5wYXJhbXMuaGVpZ2h0JiZudWxsIT09ZS5wYXJhbXMuaGVpZ2h0P2UucGFyYW1zLmhlaWdodDphLmNsaWVudEhlaWdodCwwPT09dCYmZS5pc0hvcml6b250YWwoKXx8MD09PXMmJmUuaXNWZXJ0aWNhbCgpfHwodD10LXBhcnNlSW50KGIoYSxcInBhZGRpbmctbGVmdFwiKXx8MCwxMCktcGFyc2VJbnQoYihhLFwicGFkZGluZy1yaWdodFwiKXx8MCwxMCkscz1zLXBhcnNlSW50KGIoYSxcInBhZGRpbmctdG9wXCIpfHwwLDEwKS1wYXJzZUludChiKGEsXCJwYWRkaW5nLWJvdHRvbVwiKXx8MCwxMCksTnVtYmVyLmlzTmFOKHQpJiYodD0wKSxOdW1iZXIuaXNOYU4ocykmJihzPTApLE9iamVjdC5hc3NpZ24oZSx7d2lkdGg6dCxoZWlnaHQ6cyxzaXplOmUuaXNIb3Jpem9udGFsKCk/dDpzfSkpfSx1cGRhdGVTbGlkZXM6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7ZnVuY3Rpb24gdCh0LHMpe3JldHVybiBwYXJzZUZsb2F0KHQuZ2V0UHJvcGVydHlWYWx1ZShlLmdldERpcmVjdGlvbkxhYmVsKHMpKXx8MCl9Y29uc3Qgcz1lLnBhcmFtcyx7d3JhcHBlckVsOmEsc2xpZGVzRWw6aSxzaXplOnIscnRsVHJhbnNsYXRlOm4sd3JvbmdSVEw6bH09ZSxvPWUudmlydHVhbCYmcy52aXJ0dWFsLmVuYWJsZWQsZD1vP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmUuc2xpZGVzLmxlbmd0aCxjPWYoaSxgLiR7ZS5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApLHA9bz9lLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDpjLmxlbmd0aDtsZXQgbT1bXTtjb25zdCBoPVtdLGc9W107bGV0IHY9cy5zbGlkZXNPZmZzZXRCZWZvcmU7XCJmdW5jdGlvblwiPT10eXBlb2YgdiYmKHY9cy5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChlKSk7bGV0IHc9cy5zbGlkZXNPZmZzZXRBZnRlcjtcImZ1bmN0aW9uXCI9PXR5cGVvZiB3JiYodz1zLnNsaWRlc09mZnNldEFmdGVyLmNhbGwoZSkpO2NvbnN0IHk9ZS5zbmFwR3JpZC5sZW5ndGgsRT1lLnNsaWRlc0dyaWQubGVuZ3RoO2xldCB4PXMuc3BhY2VCZXR3ZWVuLFQ9LXYsTT0wLEM9MDtpZih2b2lkIDA9PT1yKXJldHVybjtcInN0cmluZ1wiPT10eXBlb2YgeCYmeC5pbmRleE9mKFwiJVwiKT49MD94PXBhcnNlRmxvYXQoeC5yZXBsYWNlKFwiJVwiLFwiXCIpKS8xMDAqcjpcInN0cmluZ1wiPT10eXBlb2YgeCYmKHg9cGFyc2VGbG9hdCh4KSksZS52aXJ0dWFsU2l6ZT0teCxjLmZvckVhY2goKGU9PntuP2Uuc3R5bGUubWFyZ2luTGVmdD1cIlwiOmUuc3R5bGUubWFyZ2luUmlnaHQ9XCJcIixlLnN0eWxlLm1hcmdpbkJvdHRvbT1cIlwiLGUuc3R5bGUubWFyZ2luVG9wPVwiXCJ9KSkscy5jZW50ZXJlZFNsaWRlcyYmcy5jc3NNb2RlJiYodShhLFwiLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZVwiLFwiXCIpLHUoYSxcIi0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlclwiLFwiXCIpKTtjb25zdCBQPXMuZ3JpZCYmcy5ncmlkLnJvd3M+MSYmZS5ncmlkO2xldCBMO1A/ZS5ncmlkLmluaXRTbGlkZXMoYyk6ZS5ncmlkJiZlLmdyaWQudW5zZXRTbGlkZXMoKTtjb25zdCBJPVwiYXV0b1wiPT09cy5zbGlkZXNQZXJWaWV3JiZzLmJyZWFrcG9pbnRzJiZPYmplY3Qua2V5cyhzLmJyZWFrcG9pbnRzKS5maWx0ZXIoKGU9PnZvaWQgMCE9PXMuYnJlYWtwb2ludHNbZV0uc2xpZGVzUGVyVmlldykpLmxlbmd0aD4wO2ZvcihsZXQgYT0wO2E8cDthKz0xKXtsZXQgaTtpZihMPTAsY1thXSYmKGk9Y1thXSksUCYmZS5ncmlkLnVwZGF0ZVNsaWRlKGEsaSxjKSwhY1thXXx8XCJub25lXCIhPT1iKGksXCJkaXNwbGF5XCIpKXtpZihcImF1dG9cIj09PXMuc2xpZGVzUGVyVmlldyl7SSYmKGNbYV0uc3R5bGVbZS5nZXREaXJlY3Rpb25MYWJlbChcIndpZHRoXCIpXT1cIlwiKTtjb25zdCByPWdldENvbXB1dGVkU3R5bGUoaSksbj1pLnN0eWxlLnRyYW5zZm9ybSxsPWkuc3R5bGUud2Via2l0VHJhbnNmb3JtO2lmKG4mJihpLnN0eWxlLnRyYW5zZm9ybT1cIm5vbmVcIiksbCYmKGkuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibm9uZVwiKSxzLnJvdW5kTGVuZ3RocylMPWUuaXNIb3Jpem9udGFsKCk/UyhpLFwid2lkdGhcIiwhMCk6UyhpLFwiaGVpZ2h0XCIsITApO2Vsc2V7Y29uc3QgZT10KHIsXCJ3aWR0aFwiKSxzPXQocixcInBhZGRpbmctbGVmdFwiKSxhPXQocixcInBhZGRpbmctcmlnaHRcIiksbj10KHIsXCJtYXJnaW4tbGVmdFwiKSxsPXQocixcIm1hcmdpbi1yaWdodFwiKSxvPXIuZ2V0UHJvcGVydHlWYWx1ZShcImJveC1zaXppbmdcIik7aWYobyYmXCJib3JkZXItYm94XCI9PT1vKUw9ZStuK2w7ZWxzZXtjb25zdHtjbGllbnRXaWR0aDp0LG9mZnNldFdpZHRoOnJ9PWk7TD1lK3MrYStuK2wrKHItdCl9fW4mJihpLnN0eWxlLnRyYW5zZm9ybT1uKSxsJiYoaS5zdHlsZS53ZWJraXRUcmFuc2Zvcm09bCkscy5yb3VuZExlbmd0aHMmJihMPU1hdGguZmxvb3IoTCkpfWVsc2UgTD0oci0ocy5zbGlkZXNQZXJWaWV3LTEpKngpL3Muc2xpZGVzUGVyVmlldyxzLnJvdW5kTGVuZ3RocyYmKEw9TWF0aC5mbG9vcihMKSksY1thXSYmKGNbYV0uc3R5bGVbZS5nZXREaXJlY3Rpb25MYWJlbChcIndpZHRoXCIpXT1gJHtMfXB4YCk7Y1thXSYmKGNbYV0uc3dpcGVyU2xpZGVTaXplPUwpLGcucHVzaChMKSxzLmNlbnRlcmVkU2xpZGVzPyhUPVQrTC8yK00vMit4LDA9PT1NJiYwIT09YSYmKFQ9VC1yLzIteCksMD09PWEmJihUPVQtci8yLXgpLE1hdGguYWJzKFQpPC4wMDEmJihUPTApLHMucm91bmRMZW5ndGhzJiYoVD1NYXRoLmZsb29yKFQpKSxDJXMuc2xpZGVzUGVyR3JvdXA9PTAmJm0ucHVzaChUKSxoLnB1c2goVCkpOihzLnJvdW5kTGVuZ3RocyYmKFQ9TWF0aC5mbG9vcihUKSksKEMtTWF0aC5taW4oZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLEMpKSVlLnBhcmFtcy5zbGlkZXNQZXJHcm91cD09MCYmbS5wdXNoKFQpLGgucHVzaChUKSxUPVQrTCt4KSxlLnZpcnR1YWxTaXplKz1MK3gsTT1MLEMrPTF9fWlmKGUudmlydHVhbFNpemU9TWF0aC5tYXgoZS52aXJ0dWFsU2l6ZSxyKSt3LG4mJmwmJihcInNsaWRlXCI9PT1zLmVmZmVjdHx8XCJjb3ZlcmZsb3dcIj09PXMuZWZmZWN0KSYmKGEuc3R5bGUud2lkdGg9YCR7ZS52aXJ0dWFsU2l6ZSt4fXB4YCkscy5zZXRXcmFwcGVyU2l6ZSYmKGEuc3R5bGVbZS5nZXREaXJlY3Rpb25MYWJlbChcIndpZHRoXCIpXT1gJHtlLnZpcnR1YWxTaXplK3h9cHhgKSxQJiZlLmdyaWQudXBkYXRlV3JhcHBlclNpemUoTCxtKSwhcy5jZW50ZXJlZFNsaWRlcyl7Y29uc3QgdD1bXTtmb3IobGV0IGE9MDthPG0ubGVuZ3RoO2ErPTEpe2xldCBpPW1bYV07cy5yb3VuZExlbmd0aHMmJihpPU1hdGguZmxvb3IoaSkpLG1bYV08PWUudmlydHVhbFNpemUtciYmdC5wdXNoKGkpfW09dCxNYXRoLmZsb29yKGUudmlydHVhbFNpemUtciktTWF0aC5mbG9vcihtW20ubGVuZ3RoLTFdKT4xJiZtLnB1c2goZS52aXJ0dWFsU2l6ZS1yKX1pZihvJiZzLmxvb3Ape2NvbnN0IHQ9Z1swXSt4O2lmKHMuc2xpZGVzUGVyR3JvdXA+MSl7Y29uc3QgYT1NYXRoLmNlaWwoKGUudmlydHVhbC5zbGlkZXNCZWZvcmUrZS52aXJ0dWFsLnNsaWRlc0FmdGVyKS9zLnNsaWRlc1Blckdyb3VwKSxpPXQqcy5zbGlkZXNQZXJHcm91cDtmb3IobGV0IGU9MDtlPGE7ZSs9MSltLnB1c2gobVttLmxlbmd0aC0xXStpKX1mb3IobGV0IGE9MDthPGUudmlydHVhbC5zbGlkZXNCZWZvcmUrZS52aXJ0dWFsLnNsaWRlc0FmdGVyO2ErPTEpMT09PXMuc2xpZGVzUGVyR3JvdXAmJm0ucHVzaChtW20ubGVuZ3RoLTFdK3QpLGgucHVzaChoW2gubGVuZ3RoLTFdK3QpLGUudmlydHVhbFNpemUrPXR9aWYoMD09PW0ubGVuZ3RoJiYobT1bMF0pLDAhPT14KXtjb25zdCB0PWUuaXNIb3Jpem9udGFsKCkmJm4/XCJtYXJnaW5MZWZ0XCI6ZS5nZXREaXJlY3Rpb25MYWJlbChcIm1hcmdpblJpZ2h0XCIpO2MuZmlsdGVyKCgoZSx0KT0+IShzLmNzc01vZGUmJiFzLmxvb3ApfHx0IT09Yy5sZW5ndGgtMSkpLmZvckVhY2goKGU9PntlLnN0eWxlW3RdPWAke3h9cHhgfSkpfWlmKHMuY2VudGVyZWRTbGlkZXMmJnMuY2VudGVyZWRTbGlkZXNCb3VuZHMpe2xldCBlPTA7Zy5mb3JFYWNoKCh0PT57ZSs9dCsoeHx8MCl9KSksZS09eDtjb25zdCB0PWUtcjttPW0ubWFwKChlPT5lPD0wPy12OmU+dD90K3c6ZSkpfWlmKHMuY2VudGVySW5zdWZmaWNpZW50U2xpZGVzKXtsZXQgZT0wO2cuZm9yRWFjaCgodD0+e2UrPXQrKHh8fDApfSkpLGUtPXg7Y29uc3QgdD0ocy5zbGlkZXNPZmZzZXRCZWZvcmV8fDApKyhzLnNsaWRlc09mZnNldEFmdGVyfHwwKTtpZihlK3Q8cil7Y29uc3Qgcz0oci1lLXQpLzI7bS5mb3JFYWNoKCgoZSx0KT0+e21bdF09ZS1zfSkpLGguZm9yRWFjaCgoKGUsdCk9PntoW3RdPWUrc30pKX19aWYoT2JqZWN0LmFzc2lnbihlLHtzbGlkZXM6YyxzbmFwR3JpZDptLHNsaWRlc0dyaWQ6aCxzbGlkZXNTaXplc0dyaWQ6Z30pLHMuY2VudGVyZWRTbGlkZXMmJnMuY3NzTW9kZSYmIXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpe3UoYSxcIi0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmVcIiwtbVswXStcInB4XCIpLHUoYSxcIi0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlclwiLGUuc2l6ZS8yLWdbZy5sZW5ndGgtMV0vMitcInB4XCIpO2NvbnN0IHQ9LWUuc25hcEdyaWRbMF0scz0tZS5zbGlkZXNHcmlkWzBdO2Uuc25hcEdyaWQ9ZS5zbmFwR3JpZC5tYXAoKGU9PmUrdCkpLGUuc2xpZGVzR3JpZD1lLnNsaWRlc0dyaWQubWFwKChlPT5lK3MpKX1pZihwIT09ZCYmZS5lbWl0KFwic2xpZGVzTGVuZ3RoQ2hhbmdlXCIpLG0ubGVuZ3RoIT09eSYmKGUucGFyYW1zLndhdGNoT3ZlcmZsb3cmJmUuY2hlY2tPdmVyZmxvdygpLGUuZW1pdChcInNuYXBHcmlkTGVuZ3RoQ2hhbmdlXCIpKSxoLmxlbmd0aCE9PUUmJmUuZW1pdChcInNsaWRlc0dyaWRMZW5ndGhDaGFuZ2VcIikscy53YXRjaFNsaWRlc1Byb2dyZXNzJiZlLnVwZGF0ZVNsaWRlc09mZnNldCgpLGUuZW1pdChcInNsaWRlc1VwZGF0ZWRcIiksIShvfHxzLmNzc01vZGV8fFwic2xpZGVcIiE9PXMuZWZmZWN0JiZcImZhZGVcIiE9PXMuZWZmZWN0KSl7Y29uc3QgdD1gJHtzLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9YmFja2ZhY2UtaGlkZGVuYCxhPWUuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHQpO3A8PXMubWF4QmFja2ZhY2VIaWRkZW5TbGlkZXM/YXx8ZS5lbC5jbGFzc0xpc3QuYWRkKHQpOmEmJmUuZWwuY2xhc3NMaXN0LnJlbW92ZSh0KX19LHVwZGF0ZUF1dG9IZWlnaHQ6ZnVuY3Rpb24oZSl7Y29uc3QgdD10aGlzLHM9W10sYT10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtsZXQgaSxyPTA7XCJudW1iZXJcIj09dHlwZW9mIGU/dC5zZXRUcmFuc2l0aW9uKGUpOiEwPT09ZSYmdC5zZXRUcmFuc2l0aW9uKHQucGFyYW1zLnNwZWVkKTtjb25zdCBuPWU9PmE/dC5zbGlkZXNbdC5nZXRTbGlkZUluZGV4QnlEYXRhKGUpXTp0LnNsaWRlc1tlXTtpZihcImF1dG9cIiE9PXQucGFyYW1zLnNsaWRlc1BlclZpZXcmJnQucGFyYW1zLnNsaWRlc1BlclZpZXc+MSlpZih0LnBhcmFtcy5jZW50ZXJlZFNsaWRlcykodC52aXNpYmxlU2xpZGVzfHxbXSkuZm9yRWFjaCgoZT0+e3MucHVzaChlKX0pKTtlbHNlIGZvcihpPTA7aTxNYXRoLmNlaWwodC5wYXJhbXMuc2xpZGVzUGVyVmlldyk7aSs9MSl7Y29uc3QgZT10LmFjdGl2ZUluZGV4K2k7aWYoZT50LnNsaWRlcy5sZW5ndGgmJiFhKWJyZWFrO3MucHVzaChuKGUpKX1lbHNlIHMucHVzaChuKHQuYWN0aXZlSW5kZXgpKTtmb3IoaT0wO2k8cy5sZW5ndGg7aSs9MSlpZih2b2lkIDAhPT1zW2ldKXtjb25zdCBlPXNbaV0ub2Zmc2V0SGVpZ2h0O3I9ZT5yP2U6cn0ocnx8MD09PXIpJiYodC53cmFwcGVyRWwuc3R5bGUuaGVpZ2h0PWAke3J9cHhgKX0sdXBkYXRlU2xpZGVzT2Zmc2V0OmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLHQ9ZS5zbGlkZXMscz1lLmlzRWxlbWVudD9lLmlzSG9yaXpvbnRhbCgpP2Uud3JhcHBlckVsLm9mZnNldExlZnQ6ZS53cmFwcGVyRWwub2Zmc2V0VG9wOjA7Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDthKz0xKXRbYV0uc3dpcGVyU2xpZGVPZmZzZXQ9KGUuaXNIb3Jpem9udGFsKCk/dFthXS5vZmZzZXRMZWZ0OnRbYV0ub2Zmc2V0VG9wKS1zLWUuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCl9LHVwZGF0ZVNsaWRlc1Byb2dyZXNzOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXRoaXMmJnRoaXMudHJhbnNsYXRlfHwwKTtjb25zdCB0PXRoaXMscz10LnBhcmFtcyx7c2xpZGVzOmEscnRsVHJhbnNsYXRlOmksc25hcEdyaWQ6cn09dDtpZigwPT09YS5sZW5ndGgpcmV0dXJuO3ZvaWQgMD09PWFbMF0uc3dpcGVyU2xpZGVPZmZzZXQmJnQudXBkYXRlU2xpZGVzT2Zmc2V0KCk7bGV0IG49LWU7aSYmKG49ZSksdC52aXNpYmxlU2xpZGVzSW5kZXhlcz1bXSx0LnZpc2libGVTbGlkZXM9W107bGV0IGw9cy5zcGFjZUJldHdlZW47XCJzdHJpbmdcIj09dHlwZW9mIGwmJmwuaW5kZXhPZihcIiVcIik+PTA/bD1wYXJzZUZsb2F0KGwucmVwbGFjZShcIiVcIixcIlwiKSkvMTAwKnQuc2l6ZTpcInN0cmluZ1wiPT10eXBlb2YgbCYmKGw9cGFyc2VGbG9hdChsKSk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0xKXtjb25zdCBvPWFbZV07bGV0IGQ9by5zd2lwZXJTbGlkZU9mZnNldDtzLmNzc01vZGUmJnMuY2VudGVyZWRTbGlkZXMmJihkLT1hWzBdLnN3aXBlclNsaWRlT2Zmc2V0KTtjb25zdCBjPShuKyhzLmNlbnRlcmVkU2xpZGVzP3QubWluVHJhbnNsYXRlKCk6MCktZCkvKG8uc3dpcGVyU2xpZGVTaXplK2wpLHA9KG4tclswXSsocy5jZW50ZXJlZFNsaWRlcz90Lm1pblRyYW5zbGF0ZSgpOjApLWQpLyhvLnN3aXBlclNsaWRlU2l6ZStsKSx1PS0obi1kKSxtPXUrdC5zbGlkZXNTaXplc0dyaWRbZV0saD11Pj0wJiZ1PD10LnNpemUtdC5zbGlkZXNTaXplc0dyaWRbZV0sZj11Pj0wJiZ1PHQuc2l6ZS0xfHxtPjEmJm08PXQuc2l6ZXx8dTw9MCYmbT49dC5zaXplO2YmJih0LnZpc2libGVTbGlkZXMucHVzaChvKSx0LnZpc2libGVTbGlkZXNJbmRleGVzLnB1c2goZSkpLGsobyxmLHMuc2xpZGVWaXNpYmxlQ2xhc3MpLGsobyxoLHMuc2xpZGVGdWxseVZpc2libGVDbGFzcyksby5wcm9ncmVzcz1pPy1jOmMsby5vcmlnaW5hbFByb2dyZXNzPWk/LXA6cH19LHVwZGF0ZVByb2dyZXNzOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcztpZih2b2lkIDA9PT1lKXtjb25zdCBzPXQucnRsVHJhbnNsYXRlPy0xOjE7ZT10JiZ0LnRyYW5zbGF0ZSYmdC50cmFuc2xhdGUqc3x8MH1jb25zdCBzPXQucGFyYW1zLGE9dC5tYXhUcmFuc2xhdGUoKS10Lm1pblRyYW5zbGF0ZSgpO2xldHtwcm9ncmVzczppLGlzQmVnaW5uaW5nOnIsaXNFbmQ6bixwcm9ncmVzc0xvb3A6bH09dDtjb25zdCBvPXIsZD1uO2lmKDA9PT1hKWk9MCxyPSEwLG49ITA7ZWxzZXtpPShlLXQubWluVHJhbnNsYXRlKCkpL2E7Y29uc3Qgcz1NYXRoLmFicyhlLXQubWluVHJhbnNsYXRlKCkpPDEsbD1NYXRoLmFicyhlLXQubWF4VHJhbnNsYXRlKCkpPDE7cj1zfHxpPD0wLG49bHx8aT49MSxzJiYoaT0wKSxsJiYoaT0xKX1pZihzLmxvb3Ape2NvbnN0IHM9dC5nZXRTbGlkZUluZGV4QnlEYXRhKDApLGE9dC5nZXRTbGlkZUluZGV4QnlEYXRhKHQuc2xpZGVzLmxlbmd0aC0xKSxpPXQuc2xpZGVzR3JpZFtzXSxyPXQuc2xpZGVzR3JpZFthXSxuPXQuc2xpZGVzR3JpZFt0LnNsaWRlc0dyaWQubGVuZ3RoLTFdLG89TWF0aC5hYnMoZSk7bD1vPj1pPyhvLWkpL246KG8rbi1yKS9uLGw+MSYmKGwtPTEpfU9iamVjdC5hc3NpZ24odCx7cHJvZ3Jlc3M6aSxwcm9ncmVzc0xvb3A6bCxpc0JlZ2lubmluZzpyLGlzRW5kOm59KSwocy53YXRjaFNsaWRlc1Byb2dyZXNzfHxzLmNlbnRlcmVkU2xpZGVzJiZzLmF1dG9IZWlnaHQpJiZ0LnVwZGF0ZVNsaWRlc1Byb2dyZXNzKGUpLHImJiFvJiZ0LmVtaXQoXCJyZWFjaEJlZ2lubmluZyB0b0VkZ2VcIiksbiYmIWQmJnQuZW1pdChcInJlYWNoRW5kIHRvRWRnZVwiKSwobyYmIXJ8fGQmJiFuKSYmdC5lbWl0KFwiZnJvbUVkZ2VcIiksdC5lbWl0KFwicHJvZ3Jlc3NcIixpKX0sdXBkYXRlU2xpZGVzQ2xhc3NlczpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcyx7c2xpZGVzOnQscGFyYW1zOnMsc2xpZGVzRWw6YSxhY3RpdmVJbmRleDppfT1lLHI9ZS52aXJ0dWFsJiZzLnZpcnR1YWwuZW5hYmxlZCxuPWUuZ3JpZCYmcy5ncmlkJiZzLmdyaWQucm93cz4xLGw9ZT0+ZihhLGAuJHtzLnNsaWRlQ2xhc3N9JHtlfSwgc3dpcGVyLXNsaWRlJHtlfWApWzBdO2xldCBvLGQsYztpZihyKWlmKHMubG9vcCl7bGV0IHQ9aS1lLnZpcnR1YWwuc2xpZGVzQmVmb3JlO3Q8MCYmKHQ9ZS52aXJ0dWFsLnNsaWRlcy5sZW5ndGgrdCksdD49ZS52aXJ0dWFsLnNsaWRlcy5sZW5ndGgmJih0LT1lLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCksbz1sKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3R9XCJdYCl9ZWxzZSBvPWwoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl1gKTtlbHNlIG4/KG89dC5maWx0ZXIoKGU9PmUuY29sdW1uPT09aSkpWzBdLGM9dC5maWx0ZXIoKGU9PmUuY29sdW1uPT09aSsxKSlbMF0sZD10LmZpbHRlcigoZT0+ZS5jb2x1bW49PT1pLTEpKVswXSk6bz10W2ldO28mJihufHwoYz1mdW5jdGlvbihlLHQpe2NvbnN0IHM9W107Zm9yKDtlLm5leHRFbGVtZW50U2libGluZzspe2NvbnN0IGE9ZS5uZXh0RWxlbWVudFNpYmxpbmc7dD9hLm1hdGNoZXModCkmJnMucHVzaChhKTpzLnB1c2goYSksZT1hfXJldHVybiBzfShvLGAuJHtzLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXSxzLmxvb3AmJiFjJiYoYz10WzBdKSxkPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcz1bXTtmb3IoO2UucHJldmlvdXNFbGVtZW50U2libGluZzspe2NvbnN0IGE9ZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO3Q/YS5tYXRjaGVzKHQpJiZzLnB1c2goYSk6cy5wdXNoKGEpLGU9YX1yZXR1cm4gc30obyxgLiR7cy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYClbMF0scy5sb29wJiYwPT09IWQmJihkPXRbdC5sZW5ndGgtMV0pKSksdC5mb3JFYWNoKChlPT57TyhlLGU9PT1vLHMuc2xpZGVBY3RpdmVDbGFzcyksTyhlLGU9PT1jLHMuc2xpZGVOZXh0Q2xhc3MpLE8oZSxlPT09ZCxzLnNsaWRlUHJldkNsYXNzKX0pKSxlLmVtaXRTbGlkZXNDbGFzc2VzKCl9LHVwZGF0ZUFjdGl2ZUluZGV4OmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcyxzPXQucnRsVHJhbnNsYXRlP3QudHJhbnNsYXRlOi10LnRyYW5zbGF0ZSx7c25hcEdyaWQ6YSxwYXJhbXM6aSxhY3RpdmVJbmRleDpyLHJlYWxJbmRleDpuLHNuYXBJbmRleDpsfT10O2xldCBvLGQ9ZTtjb25zdCBjPWU9PntsZXQgcz1lLXQudmlydHVhbC5zbGlkZXNCZWZvcmU7cmV0dXJuIHM8MCYmKHM9dC52aXJ0dWFsLnNsaWRlcy5sZW5ndGgrcykscz49dC52aXJ0dWFsLnNsaWRlcy5sZW5ndGgmJihzLT10LnZpcnR1YWwuc2xpZGVzLmxlbmd0aCksc307aWYodm9pZCAwPT09ZCYmKGQ9ZnVuY3Rpb24oZSl7Y29uc3R7c2xpZGVzR3JpZDp0LHBhcmFtczpzfT1lLGE9ZS5ydGxUcmFuc2xhdGU/ZS50cmFuc2xhdGU6LWUudHJhbnNsYXRlO2xldCBpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSl2b2lkIDAhPT10W2UrMV0/YT49dFtlXSYmYTx0W2UrMV0tKHRbZSsxXS10W2VdKS8yP2k9ZTphPj10W2VdJiZhPHRbZSsxXSYmKGk9ZSsxKTphPj10W2VdJiYoaT1lKTtyZXR1cm4gcy5ub3JtYWxpemVTbGlkZUluZGV4JiYoaTwwfHx2b2lkIDA9PT1pKSYmKGk9MCksaX0odCkpLGEuaW5kZXhPZihzKT49MClvPWEuaW5kZXhPZihzKTtlbHNle2NvbnN0IGU9TWF0aC5taW4oaS5zbGlkZXNQZXJHcm91cFNraXAsZCk7bz1lK01hdGguZmxvb3IoKGQtZSkvaS5zbGlkZXNQZXJHcm91cCl9aWYobz49YS5sZW5ndGgmJihvPWEubGVuZ3RoLTEpLGQ9PT1yJiYhdC5wYXJhbXMubG9vcClyZXR1cm4gdm9pZChvIT09bCYmKHQuc25hcEluZGV4PW8sdC5lbWl0KFwic25hcEluZGV4Q2hhbmdlXCIpKSk7aWYoZD09PXImJnQucGFyYW1zLmxvb3AmJnQudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkKXJldHVybiB2b2lkKHQucmVhbEluZGV4PWMoZCkpO2NvbnN0IHA9dC5ncmlkJiZpLmdyaWQmJmkuZ3JpZC5yb3dzPjE7bGV0IHU7aWYodC52aXJ0dWFsJiZpLnZpcnR1YWwuZW5hYmxlZCYmaS5sb29wKXU9YyhkKTtlbHNlIGlmKHApe2NvbnN0IGU9dC5zbGlkZXMuZmlsdGVyKChlPT5lLmNvbHVtbj09PWQpKVswXTtsZXQgcz1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpLDEwKTtOdW1iZXIuaXNOYU4ocykmJihzPU1hdGgubWF4KHQuc2xpZGVzLmluZGV4T2YoZSksMCkpLHU9TWF0aC5mbG9vcihzL2kuZ3JpZC5yb3dzKX1lbHNlIGlmKHQuc2xpZGVzW2RdKXtjb25zdCBlPXQuc2xpZGVzW2RdLmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpO3U9ZT9wYXJzZUludChlLDEwKTpkfWVsc2UgdT1kO09iamVjdC5hc3NpZ24odCx7cHJldmlvdXNTbmFwSW5kZXg6bCxzbmFwSW5kZXg6byxwcmV2aW91c1JlYWxJbmRleDpuLHJlYWxJbmRleDp1LHByZXZpb3VzSW5kZXg6cixhY3RpdmVJbmRleDpkfSksdC5pbml0aWFsaXplZCYmSCh0KSx0LmVtaXQoXCJhY3RpdmVJbmRleENoYW5nZVwiKSx0LmVtaXQoXCJzbmFwSW5kZXhDaGFuZ2VcIiksKHQuaW5pdGlhbGl6ZWR8fHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCkmJihuIT09dSYmdC5lbWl0KFwicmVhbEluZGV4Q2hhbmdlXCIpLHQuZW1pdChcInNsaWRlQ2hhbmdlXCIpKX0sdXBkYXRlQ2xpY2tlZFNsaWRlOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgcz10aGlzLGE9cy5wYXJhbXM7bGV0IGk9ZS5jbG9zZXN0KGAuJHthLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTshaSYmcy5pc0VsZW1lbnQmJnQmJnQubGVuZ3RoPjEmJnQuaW5jbHVkZXMoZSkmJlsuLi50LnNsaWNlKHQuaW5kZXhPZihlKSsxLHQubGVuZ3RoKV0uZm9yRWFjaCgoZT0+eyFpJiZlLm1hdGNoZXMmJmUubWF0Y2hlcyhgLiR7YS5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCkmJihpPWUpfSkpO2xldCByLG49ITE7aWYoaSlmb3IobGV0IGU9MDtlPHMuc2xpZGVzLmxlbmd0aDtlKz0xKWlmKHMuc2xpZGVzW2VdPT09aSl7bj0hMCxyPWU7YnJlYWt9aWYoIWl8fCFuKXJldHVybiBzLmNsaWNrZWRTbGlkZT12b2lkIDAsdm9pZChzLmNsaWNrZWRJbmRleD12b2lkIDApO3MuY2xpY2tlZFNsaWRlPWkscy52aXJ0dWFsJiZzLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ/cy5jbGlja2VkSW5kZXg9cGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCk6cy5jbGlja2VkSW5kZXg9cixhLnNsaWRlVG9DbGlja2VkU2xpZGUmJnZvaWQgMCE9PXMuY2xpY2tlZEluZGV4JiZzLmNsaWNrZWRJbmRleCE9PXMuYWN0aXZlSW5kZXgmJnMuc2xpZGVUb0NsaWNrZWRTbGlkZSgpfX07dmFyIE49e2dldFRyYW5zbGF0ZTpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10aGlzLmlzSG9yaXpvbnRhbCgpP1wieFwiOlwieVwiKTtjb25zdHtwYXJhbXM6dCxydGxUcmFuc2xhdGU6cyx0cmFuc2xhdGU6YSx3cmFwcGVyRWw6aX09dGhpcztpZih0LnZpcnR1YWxUcmFuc2xhdGUpcmV0dXJuIHM/LWE6YTtpZih0LmNzc01vZGUpcmV0dXJuIGE7bGV0IHI9ZChpLGUpO3JldHVybiByKz10aGlzLmNzc092ZXJmbG93QWRqdXN0bWVudCgpLHMmJihyPS1yKSxyfHwwfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSx0KXtjb25zdCBzPXRoaXMse3J0bFRyYW5zbGF0ZTphLHBhcmFtczppLHdyYXBwZXJFbDpyLHByb2dyZXNzOm59PXM7bGV0IGwsbz0wLGQ9MDtzLmlzSG9yaXpvbnRhbCgpP289YT8tZTplOmQ9ZSxpLnJvdW5kTGVuZ3RocyYmKG89TWF0aC5mbG9vcihvKSxkPU1hdGguZmxvb3IoZCkpLHMucHJldmlvdXNUcmFuc2xhdGU9cy50cmFuc2xhdGUscy50cmFuc2xhdGU9cy5pc0hvcml6b250YWwoKT9vOmQsaS5jc3NNb2RlP3Jbcy5pc0hvcml6b250YWwoKT9cInNjcm9sbExlZnRcIjpcInNjcm9sbFRvcFwiXT1zLmlzSG9yaXpvbnRhbCgpPy1vOi1kOmkudmlydHVhbFRyYW5zbGF0ZXx8KHMuaXNIb3Jpem9udGFsKCk/by09cy5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTpkLT1zLmNzc092ZXJmbG93QWRqdXN0bWVudCgpLHIuc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgke299cHgsICR7ZH1weCwgMHB4KWApO2NvbnN0IGM9cy5tYXhUcmFuc2xhdGUoKS1zLm1pblRyYW5zbGF0ZSgpO2w9MD09PWM/MDooZS1zLm1pblRyYW5zbGF0ZSgpKS9jLGwhPT1uJiZzLnVwZGF0ZVByb2dyZXNzKGUpLHMuZW1pdChcInNldFRyYW5zbGF0ZVwiLHMudHJhbnNsYXRlLHQpfSxtaW5UcmFuc2xhdGU6ZnVuY3Rpb24oKXtyZXR1cm4tdGhpcy5zbmFwR3JpZFswXX0sbWF4VHJhbnNsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuLXRoaXMuc25hcEdyaWRbdGhpcy5zbmFwR3JpZC5sZW5ndGgtMV19LHRyYW5zbGF0ZVRvOmZ1bmN0aW9uKGUsdCxzLGEsaSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9dGhpcy5wYXJhbXMuc3BlZWQpLHZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1hJiYoYT0hMCk7Y29uc3Qgcj10aGlzLHtwYXJhbXM6bix3cmFwcGVyRWw6bH09cjtpZihyLmFuaW1hdGluZyYmbi5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pcmV0dXJuITE7Y29uc3Qgbz1yLm1pblRyYW5zbGF0ZSgpLGQ9ci5tYXhUcmFuc2xhdGUoKTtsZXQgYztpZihjPWEmJmU+bz9vOmEmJmU8ZD9kOmUsci51cGRhdGVQcm9ncmVzcyhjKSxuLmNzc01vZGUpe2NvbnN0IGU9ci5pc0hvcml6b250YWwoKTtpZigwPT09dClsW2U/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09LWM7ZWxzZXtpZighci5zdXBwb3J0LnNtb290aFNjcm9sbClyZXR1cm4gbSh7c3dpcGVyOnIsdGFyZ2V0UG9zaXRpb246LWMsc2lkZTplP1wibGVmdFwiOlwidG9wXCJ9KSwhMDtsLnNjcm9sbFRvKHtbZT9cImxlZnRcIjpcInRvcFwiXTotYyxiZWhhdmlvcjpcInNtb290aFwifSl9cmV0dXJuITB9cmV0dXJuIDA9PT10PyhyLnNldFRyYW5zaXRpb24oMCksci5zZXRUcmFuc2xhdGUoYykscyYmKHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQsaSksci5lbWl0KFwidHJhbnNpdGlvbkVuZFwiKSkpOihyLnNldFRyYW5zaXRpb24odCksci5zZXRUcmFuc2xhdGUoYykscyYmKHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQsaSksci5lbWl0KFwidHJhbnNpdGlvblN0YXJ0XCIpKSxyLmFuaW1hdGluZ3x8KHIuYW5pbWF0aW5nPSEwLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kfHwoci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZSl7ciYmIXIuZGVzdHJveWVkJiZlLnRhcmdldD09PXRoaXMmJihyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSxyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZD1udWxsLGRlbGV0ZSByLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCxyLmFuaW1hdGluZz0hMSxzJiZyLmVtaXQoXCJ0cmFuc2l0aW9uRW5kXCIpKX0pLHIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpKSksITB9fTtmdW5jdGlvbiBYKGUpe2xldHtzd2lwZXI6dCxydW5DYWxsYmFja3M6cyxkaXJlY3Rpb246YSxzdGVwOml9PWU7Y29uc3R7YWN0aXZlSW5kZXg6cixwcmV2aW91c0luZGV4Om59PXQ7bGV0IGw9YTtpZihsfHwobD1yPm4/XCJuZXh0XCI6cjxuP1wicHJldlwiOlwicmVzZXRcIiksdC5lbWl0KGB0cmFuc2l0aW9uJHtpfWApLHMmJnIhPT1uKXtpZihcInJlc2V0XCI9PT1sKXJldHVybiB2b2lkIHQuZW1pdChgc2xpZGVSZXNldFRyYW5zaXRpb24ke2l9YCk7dC5lbWl0KGBzbGlkZUNoYW5nZVRyYW5zaXRpb24ke2l9YCksXCJuZXh0XCI9PT1sP3QuZW1pdChgc2xpZGVOZXh0VHJhbnNpdGlvbiR7aX1gKTp0LmVtaXQoYHNsaWRlUHJldlRyYW5zaXRpb24ke2l9YCl9fXZhciBZPXtzbGlkZVRvOmZ1bmN0aW9uKGUsdCxzLGEsaSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09cyYmKHM9ITApLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlLDEwKSk7Y29uc3Qgcj10aGlzO2xldCBuPWU7bjwwJiYobj0wKTtjb25zdHtwYXJhbXM6bCxzbmFwR3JpZDpvLHNsaWRlc0dyaWQ6ZCxwcmV2aW91c0luZGV4OmMsYWN0aXZlSW5kZXg6cCxydGxUcmFuc2xhdGU6dSx3cmFwcGVyRWw6aCxlbmFibGVkOmZ9PXI7aWYoIWYmJiFhJiYhaXx8ci5kZXN0cm95ZWR8fHIuYW5pbWF0aW5nJiZsLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbilyZXR1cm4hMTt2b2lkIDA9PT10JiYodD1yLnBhcmFtcy5zcGVlZCk7Y29uc3QgZz1NYXRoLm1pbihyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsbik7bGV0IHY9ZytNYXRoLmZsb29yKChuLWcpL3IucGFyYW1zLnNsaWRlc1Blckdyb3VwKTt2Pj1vLmxlbmd0aCYmKHY9by5sZW5ndGgtMSk7Y29uc3Qgdz0tb1t2XTtpZihsLm5vcm1hbGl6ZVNsaWRlSW5kZXgpZm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKz0xKXtjb25zdCB0PS1NYXRoLmZsb29yKDEwMCp3KSxzPU1hdGguZmxvb3IoMTAwKmRbZV0pLGE9TWF0aC5mbG9vcigxMDAqZFtlKzFdKTt2b2lkIDAhPT1kW2UrMV0/dD49cyYmdDxhLShhLXMpLzI/bj1lOnQ+PXMmJnQ8YSYmKG49ZSsxKTp0Pj1zJiYobj1lKX1pZihyLmluaXRpYWxpemVkJiZuIT09cCl7aWYoIXIuYWxsb3dTbGlkZU5leHQmJih1P3c+ci50cmFuc2xhdGUmJnc+ci5taW5UcmFuc2xhdGUoKTp3PHIudHJhbnNsYXRlJiZ3PHIubWluVHJhbnNsYXRlKCkpKXJldHVybiExO2lmKCFyLmFsbG93U2xpZGVQcmV2JiZ3PnIudHJhbnNsYXRlJiZ3PnIubWF4VHJhbnNsYXRlKCkmJihwfHwwKSE9PW4pcmV0dXJuITF9bGV0IGI7aWYobiE9PShjfHwwKSYmcyYmci5lbWl0KFwiYmVmb3JlU2xpZGVDaGFuZ2VTdGFydFwiKSxyLnVwZGF0ZVByb2dyZXNzKHcpLGI9bj5wP1wibmV4dFwiOm48cD9cInByZXZcIjpcInJlc2V0XCIsdSYmLXc9PT1yLnRyYW5zbGF0ZXx8IXUmJnc9PT1yLnRyYW5zbGF0ZSlyZXR1cm4gci51cGRhdGVBY3RpdmVJbmRleChuKSxsLmF1dG9IZWlnaHQmJnIudXBkYXRlQXV0b0hlaWdodCgpLHIudXBkYXRlU2xpZGVzQ2xhc3NlcygpLFwic2xpZGVcIiE9PWwuZWZmZWN0JiZyLnNldFRyYW5zbGF0ZSh3KSxcInJlc2V0XCIhPT1iJiYoci50cmFuc2l0aW9uU3RhcnQocyxiKSxyLnRyYW5zaXRpb25FbmQocyxiKSksITE7aWYobC5jc3NNb2RlKXtjb25zdCBlPXIuaXNIb3Jpem9udGFsKCkscz11P3c6LXc7aWYoMD09PXQpe2NvbnN0IHQ9ci52aXJ0dWFsJiZyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7dCYmKHIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlPVwibm9uZVwiLHIuX2ltbWVkaWF0ZVZpcnR1YWw9ITApLHQmJiFyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQmJnIucGFyYW1zLmluaXRpYWxTbGlkZT4wPyhyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQ9ITAscmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e2hbZT9cInNjcm9sbExlZnRcIjpcInNjcm9sbFRvcFwiXT1zfSkpKTpoW2U/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09cyx0JiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57ci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGU9XCJcIixyLl9pbW1lZGlhdGVWaXJ0dWFsPSExfSkpfWVsc2V7aWYoIXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpcmV0dXJuIG0oe3N3aXBlcjpyLHRhcmdldFBvc2l0aW9uOnMsc2lkZTplP1wibGVmdFwiOlwidG9wXCJ9KSwhMDtoLnNjcm9sbFRvKHtbZT9cImxlZnRcIjpcInRvcFwiXTpzLGJlaGF2aW9yOlwic21vb3RoXCJ9KX1yZXR1cm4hMH1yZXR1cm4gci5zZXRUcmFuc2l0aW9uKHQpLHIuc2V0VHJhbnNsYXRlKHcpLHIudXBkYXRlQWN0aXZlSW5kZXgobiksci51cGRhdGVTbGlkZXNDbGFzc2VzKCksci5lbWl0KFwiYmVmb3JlVHJhbnNpdGlvblN0YXJ0XCIsdCxhKSxyLnRyYW5zaXRpb25TdGFydChzLGIpLDA9PT10P3IudHJhbnNpdGlvbkVuZChzLGIpOnIuYW5pbWF0aW5nfHwoci5hbmltYXRpbmc9ITAsci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZHx8KHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZSl7ciYmIXIuZGVzdHJveWVkJiZlLnRhcmdldD09PXRoaXMmJihyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ9bnVsbCxkZWxldGUgci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCxyLnRyYW5zaXRpb25FbmQocyxiKSl9KSxyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpKSwhMH0sc2xpZGVUb0xvb3A6ZnVuY3Rpb24oZSx0LHMsYSl7aWYodm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09cyYmKHM9ITApLFwic3RyaW5nXCI9PXR5cGVvZiBlKXtlPXBhcnNlSW50KGUsMTApfWNvbnN0IGk9dGhpcztpZihpLmRlc3Ryb3llZClyZXR1cm47dm9pZCAwPT09dCYmKHQ9aS5wYXJhbXMuc3BlZWQpO2NvbnN0IHI9aS5ncmlkJiZpLnBhcmFtcy5ncmlkJiZpLnBhcmFtcy5ncmlkLnJvd3M+MTtsZXQgbj1lO2lmKGkucGFyYW1zLmxvb3ApaWYoaS52aXJ0dWFsJiZpLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpbis9aS52aXJ0dWFsLnNsaWRlc0JlZm9yZTtlbHNle2xldCBlO2lmKHIpe2NvbnN0IHQ9bippLnBhcmFtcy5ncmlkLnJvd3M7ZT1pLnNsaWRlcy5maWx0ZXIoKGU9PjEqZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKT09PXQpKVswXS5jb2x1bW59ZWxzZSBlPWkuZ2V0U2xpZGVJbmRleEJ5RGF0YShuKTtjb25zdCB0PXI/TWF0aC5jZWlsKGkuc2xpZGVzLmxlbmd0aC9pLnBhcmFtcy5ncmlkLnJvd3MpOmkuc2xpZGVzLmxlbmd0aCx7Y2VudGVyZWRTbGlkZXM6c309aS5wYXJhbXM7bGV0IGw9aS5wYXJhbXMuc2xpZGVzUGVyVmlldztcImF1dG9cIj09PWw/bD1pLnNsaWRlc1BlclZpZXdEeW5hbWljKCk6KGw9TWF0aC5jZWlsKHBhcnNlRmxvYXQoaS5wYXJhbXMuc2xpZGVzUGVyVmlldywxMCkpLHMmJmwlMj09MCYmKGwrPTEpKTtsZXQgbz10LWU8bDtpZihzJiYobz1vfHxlPE1hdGguY2VpbChsLzIpKSxhJiZzJiZcImF1dG9cIiE9PWkucGFyYW1zLnNsaWRlc1BlclZpZXcmJiFyJiYobz0hMSksbyl7Y29uc3QgYT1zP2U8aS5hY3RpdmVJbmRleD9cInByZXZcIjpcIm5leHRcIjplLWkuYWN0aXZlSW5kZXgtMTxpLnBhcmFtcy5zbGlkZXNQZXJWaWV3P1wibmV4dFwiOlwicHJldlwiO2kubG9vcEZpeCh7ZGlyZWN0aW9uOmEsc2xpZGVUbzohMCxhY3RpdmVTbGlkZUluZGV4OlwibmV4dFwiPT09YT9lKzE6ZS10KzEsc2xpZGVSZWFsSW5kZXg6XCJuZXh0XCI9PT1hP2kucmVhbEluZGV4OnZvaWQgMH0pfWlmKHIpe2NvbnN0IGU9bippLnBhcmFtcy5ncmlkLnJvd3M7bj1pLnNsaWRlcy5maWx0ZXIoKHQ9PjEqdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKT09PWUpKVswXS5jb2x1bW59ZWxzZSBuPWkuZ2V0U2xpZGVJbmRleEJ5RGF0YShuKX1yZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e2kuc2xpZGVUbyhuLHQscyxhKX0pKSxpfSxzbGlkZU5leHQ6ZnVuY3Rpb24oZSx0LHMpe3ZvaWQgMD09PXQmJih0PSEwKTtjb25zdCBhPXRoaXMse2VuYWJsZWQ6aSxwYXJhbXM6cixhbmltYXRpbmc6bn09YTtpZighaXx8YS5kZXN0cm95ZWQpcmV0dXJuIGE7dm9pZCAwPT09ZSYmKGU9YS5wYXJhbXMuc3BlZWQpO2xldCBsPXIuc2xpZGVzUGVyR3JvdXA7XCJhdXRvXCI9PT1yLnNsaWRlc1BlclZpZXcmJjE9PT1yLnNsaWRlc1Blckdyb3VwJiZyLnNsaWRlc1Blckdyb3VwQXV0byYmKGw9TWF0aC5tYXgoYS5zbGlkZXNQZXJWaWV3RHluYW1pYyhcImN1cnJlbnRcIiwhMCksMSkpO2NvbnN0IG89YS5hY3RpdmVJbmRleDxyLnNsaWRlc1Blckdyb3VwU2tpcD8xOmwsZD1hLnZpcnR1YWwmJnIudmlydHVhbC5lbmFibGVkO2lmKHIubG9vcCl7aWYobiYmIWQmJnIubG9vcFByZXZlbnRzU2xpZGluZylyZXR1cm4hMTtpZihhLmxvb3BGaXgoe2RpcmVjdGlvbjpcIm5leHRcIn0pLGEuX2NsaWVudExlZnQ9YS53cmFwcGVyRWwuY2xpZW50TGVmdCxhLmFjdGl2ZUluZGV4PT09YS5zbGlkZXMubGVuZ3RoLTEmJnIuY3NzTW9kZSlyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e2Euc2xpZGVUbyhhLmFjdGl2ZUluZGV4K28sZSx0LHMpfSkpLCEwfXJldHVybiByLnJld2luZCYmYS5pc0VuZD9hLnNsaWRlVG8oMCxlLHQscyk6YS5zbGlkZVRvKGEuYWN0aXZlSW5kZXgrbyxlLHQscyl9LHNsaWRlUHJldjpmdW5jdGlvbihlLHQscyl7dm9pZCAwPT09dCYmKHQ9ITApO2NvbnN0IGE9dGhpcyx7cGFyYW1zOmksc25hcEdyaWQ6cixzbGlkZXNHcmlkOm4scnRsVHJhbnNsYXRlOmwsZW5hYmxlZDpvLGFuaW1hdGluZzpkfT1hO2lmKCFvfHxhLmRlc3Ryb3llZClyZXR1cm4gYTt2b2lkIDA9PT1lJiYoZT1hLnBhcmFtcy5zcGVlZCk7Y29uc3QgYz1hLnZpcnR1YWwmJmkudmlydHVhbC5lbmFibGVkO2lmKGkubG9vcCl7aWYoZCYmIWMmJmkubG9vcFByZXZlbnRzU2xpZGluZylyZXR1cm4hMTthLmxvb3BGaXgoe2RpcmVjdGlvbjpcInByZXZcIn0pLGEuX2NsaWVudExlZnQ9YS53cmFwcGVyRWwuY2xpZW50TGVmdH1mdW5jdGlvbiBwKGUpe3JldHVybiBlPDA/LU1hdGguZmxvb3IoTWF0aC5hYnMoZSkpOk1hdGguZmxvb3IoZSl9Y29uc3QgdT1wKGw/YS50cmFuc2xhdGU6LWEudHJhbnNsYXRlKSxtPXIubWFwKChlPT5wKGUpKSk7bGV0IGg9clttLmluZGV4T2YodSktMV07aWYodm9pZCAwPT09aCYmaS5jc3NNb2RlKXtsZXQgZTtyLmZvckVhY2goKCh0LHMpPT57dT49dCYmKGU9cyl9KSksdm9pZCAwIT09ZSYmKGg9cltlPjA/ZS0xOmVdKX1sZXQgZj0wO2lmKHZvaWQgMCE9PWgmJihmPW4uaW5kZXhPZihoKSxmPDAmJihmPWEuYWN0aXZlSW5kZXgtMSksXCJhdXRvXCI9PT1pLnNsaWRlc1BlclZpZXcmJjE9PT1pLnNsaWRlc1Blckdyb3VwJiZpLnNsaWRlc1Blckdyb3VwQXV0byYmKGY9Zi1hLnNsaWRlc1BlclZpZXdEeW5hbWljKFwicHJldmlvdXNcIiwhMCkrMSxmPU1hdGgubWF4KGYsMCkpKSxpLnJld2luZCYmYS5pc0JlZ2lubmluZyl7Y29uc3QgaT1hLnBhcmFtcy52aXJ0dWFsJiZhLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJmEudmlydHVhbD9hLnZpcnR1YWwuc2xpZGVzLmxlbmd0aC0xOmEuc2xpZGVzLmxlbmd0aC0xO3JldHVybiBhLnNsaWRlVG8oaSxlLHQscyl9cmV0dXJuIGkubG9vcCYmMD09PWEuYWN0aXZlSW5kZXgmJmkuY3NzTW9kZT8ocmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e2Euc2xpZGVUbyhmLGUsdCxzKX0pKSwhMCk6YS5zbGlkZVRvKGYsZSx0LHMpfSxzbGlkZVJlc2V0OmZ1bmN0aW9uKGUsdCxzKXt2b2lkIDA9PT10JiYodD0hMCk7Y29uc3QgYT10aGlzO2lmKCFhLmRlc3Ryb3llZClyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5wYXJhbXMuc3BlZWQpLGEuc2xpZGVUbyhhLmFjdGl2ZUluZGV4LGUsdCxzKX0sc2xpZGVUb0Nsb3Nlc3Q6ZnVuY3Rpb24oZSx0LHMsYSl7dm9pZCAwPT09dCYmKHQ9ITApLHZvaWQgMD09PWEmJihhPS41KTtjb25zdCBpPXRoaXM7aWYoaS5kZXN0cm95ZWQpcmV0dXJuO3ZvaWQgMD09PWUmJihlPWkucGFyYW1zLnNwZWVkKTtsZXQgcj1pLmFjdGl2ZUluZGV4O2NvbnN0IG49TWF0aC5taW4oaS5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLHIpLGw9bitNYXRoLmZsb29yKChyLW4pL2kucGFyYW1zLnNsaWRlc1Blckdyb3VwKSxvPWkucnRsVHJhbnNsYXRlP2kudHJhbnNsYXRlOi1pLnRyYW5zbGF0ZTtpZihvPj1pLnNuYXBHcmlkW2xdKXtjb25zdCBlPWkuc25hcEdyaWRbbF07by1lPihpLnNuYXBHcmlkW2wrMV0tZSkqYSYmKHIrPWkucGFyYW1zLnNsaWRlc1Blckdyb3VwKX1lbHNle2NvbnN0IGU9aS5zbmFwR3JpZFtsLTFdO28tZTw9KGkuc25hcEdyaWRbbF0tZSkqYSYmKHItPWkucGFyYW1zLnNsaWRlc1Blckdyb3VwKX1yZXR1cm4gcj1NYXRoLm1heChyLDApLHI9TWF0aC5taW4ocixpLnNsaWRlc0dyaWQubGVuZ3RoLTEpLGkuc2xpZGVUbyhyLGUsdCxzKX0sc2xpZGVUb0NsaWNrZWRTbGlkZTpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcztpZihlLmRlc3Ryb3llZClyZXR1cm47Y29uc3R7cGFyYW1zOnQsc2xpZGVzRWw6c309ZSxhPVwiYXV0b1wiPT09dC5zbGlkZXNQZXJWaWV3P2Uuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTp0LnNsaWRlc1BlclZpZXc7bGV0IGkscj1lLmNsaWNrZWRJbmRleDtjb25zdCBuPWUuaXNFbGVtZW50P1wic3dpcGVyLXNsaWRlXCI6YC4ke3Quc2xpZGVDbGFzc31gO2lmKHQubG9vcCl7aWYoZS5hbmltYXRpbmcpcmV0dXJuO2k9cGFyc2VJbnQoZS5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApLHQuY2VudGVyZWRTbGlkZXM/cjxlLmxvb3BlZFNsaWRlcy1hLzJ8fHI+ZS5zbGlkZXMubGVuZ3RoLWUubG9vcGVkU2xpZGVzK2EvMj8oZS5sb29wRml4KCkscj1lLmdldFNsaWRlSW5kZXgoZihzLGAke259W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtpfVwiXWApWzBdKSxsKCgoKT0+e2Uuc2xpZGVUbyhyKX0pKSk6ZS5zbGlkZVRvKHIpOnI+ZS5zbGlkZXMubGVuZ3RoLWE/KGUubG9vcEZpeCgpLHI9ZS5nZXRTbGlkZUluZGV4KGYocyxgJHtufVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl1gKVswXSksbCgoKCk9PntlLnNsaWRlVG8ocil9KSkpOmUuc2xpZGVUbyhyKX1lbHNlIGUuc2xpZGVUbyhyKX19O3ZhciBSPXtsb29wQ3JlYXRlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcyx7cGFyYW1zOnMsc2xpZGVzRWw6YX09dDtpZighcy5sb29wfHx0LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZClyZXR1cm47Y29uc3QgaT0oKT0+e2YoYSxgLiR7cy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCkuZm9yRWFjaCgoKGUsdCk9PntlLnNldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIsdCl9KSl9LHI9dC5ncmlkJiZzLmdyaWQmJnMuZ3JpZC5yb3dzPjEsbj1zLnNsaWRlc1Blckdyb3VwKihyP3MuZ3JpZC5yb3dzOjEpLGw9dC5zbGlkZXMubGVuZ3RoJW4hPTAsbz1yJiZ0LnNsaWRlcy5sZW5ndGglcy5ncmlkLnJvd3MhPTAsZD1lPT57Zm9yKGxldCBhPTA7YTxlO2ErPTEpe2NvbnN0IGU9dC5pc0VsZW1lbnQ/dihcInN3aXBlci1zbGlkZVwiLFtzLnNsaWRlQmxhbmtDbGFzc10pOnYoXCJkaXZcIixbcy5zbGlkZUNsYXNzLHMuc2xpZGVCbGFua0NsYXNzXSk7dC5zbGlkZXNFbC5hcHBlbmQoZSl9fTtpZihsKXtpZihzLmxvb3BBZGRCbGFua1NsaWRlcyl7ZChuLXQuc2xpZGVzLmxlbmd0aCVuKSx0LnJlY2FsY1NsaWRlcygpLHQudXBkYXRlU2xpZGVzKCl9ZWxzZSBnKFwiU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGV2ZW4gdG8gc2xpZGVzUGVyR3JvdXAsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKVwiKTtpKCl9ZWxzZSBpZihvKXtpZihzLmxvb3BBZGRCbGFua1NsaWRlcyl7ZChzLmdyaWQucm93cy10LnNsaWRlcy5sZW5ndGglcy5ncmlkLnJvd3MpLHQucmVjYWxjU2xpZGVzKCksdC51cGRhdGVTbGlkZXMoKX1lbHNlIGcoXCJTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBncmlkLnJvd3MsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKVwiKTtpKCl9ZWxzZSBpKCk7dC5sb29wRml4KHtzbGlkZVJlYWxJbmRleDplLGRpcmVjdGlvbjpzLmNlbnRlcmVkU2xpZGVzP3ZvaWQgMDpcIm5leHRcIn0pfSxsb29wRml4OmZ1bmN0aW9uKGUpe2xldHtzbGlkZVJlYWxJbmRleDp0LHNsaWRlVG86cz0hMCxkaXJlY3Rpb246YSxzZXRUcmFuc2xhdGU6aSxhY3RpdmVTbGlkZUluZGV4OnIsYnlDb250cm9sbGVyOm4sYnlNb3VzZXdoZWVsOmx9PXZvaWQgMD09PWU/e306ZTtjb25zdCBvPXRoaXM7aWYoIW8ucGFyYW1zLmxvb3ApcmV0dXJuO28uZW1pdChcImJlZm9yZUxvb3BGaXhcIik7Y29uc3R7c2xpZGVzOmQsYWxsb3dTbGlkZVByZXY6YyxhbGxvd1NsaWRlTmV4dDpwLHNsaWRlc0VsOnUscGFyYW1zOm19PW8se2NlbnRlcmVkU2xpZGVzOmh9PW07aWYoby5hbGxvd1NsaWRlUHJldj0hMCxvLmFsbG93U2xpZGVOZXh0PSEwLG8udmlydHVhbCYmbS52aXJ0dWFsLmVuYWJsZWQpcmV0dXJuIHMmJihtLmNlbnRlcmVkU2xpZGVzfHwwIT09by5zbmFwSW5kZXg/bS5jZW50ZXJlZFNsaWRlcyYmby5zbmFwSW5kZXg8bS5zbGlkZXNQZXJWaWV3P28uc2xpZGVUbyhvLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCtvLnNuYXBJbmRleCwwLCExLCEwKTpvLnNuYXBJbmRleD09PW8uc25hcEdyaWQubGVuZ3RoLTEmJm8uc2xpZGVUbyhvLnZpcnR1YWwuc2xpZGVzQmVmb3JlLDAsITEsITApOm8uc2xpZGVUbyhvLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCwwLCExLCEwKSksby5hbGxvd1NsaWRlUHJldj1jLG8uYWxsb3dTbGlkZU5leHQ9cCx2b2lkIG8uZW1pdChcImxvb3BGaXhcIik7bGV0IGY9bS5zbGlkZXNQZXJWaWV3O1wiYXV0b1wiPT09Zj9mPW8uc2xpZGVzUGVyVmlld0R5bmFtaWMoKTooZj1NYXRoLmNlaWwocGFyc2VGbG9hdChtLnNsaWRlc1BlclZpZXcsMTApKSxoJiZmJTI9PTAmJihmKz0xKSk7Y29uc3Qgdj1tLnNsaWRlc1Blckdyb3VwQXV0bz9mOm0uc2xpZGVzUGVyR3JvdXA7bGV0IHc9djt3JXYhPTAmJih3Kz12LXcldiksdys9bS5sb29wQWRkaXRpb25hbFNsaWRlcyxvLmxvb3BlZFNsaWRlcz13O2NvbnN0IGI9by5ncmlkJiZtLmdyaWQmJm0uZ3JpZC5yb3dzPjE7ZC5sZW5ndGg8Zit3P2coXCJTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZW5vdWdoIGZvciBsb29wIG1vZGUsIGl0IHdpbGwgYmUgZGlzYWJsZWQgYW5kIG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMpIG9yIGxvd2VyIHRoZSB2YWx1ZXMgb2Ygc2xpZGVzUGVyVmlldyBhbmQgc2xpZGVzUGVyR3JvdXAgcGFyYW1ldGVyc1wiKTpiJiZcInJvd1wiPT09bS5ncmlkLmZpbGwmJmcoXCJTd2lwZXIgTG9vcCBXYXJuaW5nOiBMb29wIG1vZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncmlkLmZpbGwgPSBgcm93YFwiKTtjb25zdCB5PVtdLEU9W107bGV0IHg9by5hY3RpdmVJbmRleDt2b2lkIDA9PT1yP3I9by5nZXRTbGlkZUluZGV4KGQuZmlsdGVyKChlPT5lLmNsYXNzTGlzdC5jb250YWlucyhtLnNsaWRlQWN0aXZlQ2xhc3MpKSlbMF0pOng9cjtjb25zdCBTPVwibmV4dFwiPT09YXx8IWEsVD1cInByZXZcIj09PWF8fCFhO2xldCBNPTAsQz0wO2NvbnN0IFA9Yj9NYXRoLmNlaWwoZC5sZW5ndGgvbS5ncmlkLnJvd3MpOmQubGVuZ3RoLEw9KGI/ZFtyXS5jb2x1bW46cikrKGgmJnZvaWQgMD09PWk/LWYvMisuNTowKTtpZihMPHcpe009TWF0aC5tYXgody1MLHYpO2ZvcihsZXQgZT0wO2U8dy1MO2UrPTEpe2NvbnN0IHQ9ZS1NYXRoLmZsb29yKGUvUCkqUDtpZihiKXtjb25zdCBlPVAtdC0xO2ZvcihsZXQgdD1kLmxlbmd0aC0xO3Q+PTA7dC09MSlkW3RdLmNvbHVtbj09PWUmJnkucHVzaCh0KX1lbHNlIHkucHVzaChQLXQtMSl9fWVsc2UgaWYoTCtmPlAtdyl7Qz1NYXRoLm1heChMLShQLTIqdyksdik7Zm9yKGxldCBlPTA7ZTxDO2UrPTEpe2NvbnN0IHQ9ZS1NYXRoLmZsb29yKGUvUCkqUDtiP2QuZm9yRWFjaCgoKGUscyk9PntlLmNvbHVtbj09PXQmJkUucHVzaChzKX0pKTpFLnB1c2godCl9fWlmKG8uX19wcmV2ZW50T2JzZXJ2ZXJfXz0hMCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57by5fX3ByZXZlbnRPYnNlcnZlcl9fPSExfSkpLFQmJnkuZm9yRWFjaCgoZT0+e2RbZV0uc3dpcGVyTG9vcE1vdmVET009ITAsdS5wcmVwZW5kKGRbZV0pLGRbZV0uc3dpcGVyTG9vcE1vdmVET009ITF9KSksUyYmRS5mb3JFYWNoKChlPT57ZFtlXS5zd2lwZXJMb29wTW92ZURPTT0hMCx1LmFwcGVuZChkW2VdKSxkW2VdLnN3aXBlckxvb3BNb3ZlRE9NPSExfSkpLG8ucmVjYWxjU2xpZGVzKCksXCJhdXRvXCI9PT1tLnNsaWRlc1BlclZpZXc/by51cGRhdGVTbGlkZXMoKTpiJiYoeS5sZW5ndGg+MCYmVHx8RS5sZW5ndGg+MCYmUykmJm8uc2xpZGVzLmZvckVhY2goKChlLHQpPT57by5ncmlkLnVwZGF0ZVNsaWRlKHQsZSxvLnNsaWRlcyl9KSksbS53YXRjaFNsaWRlc1Byb2dyZXNzJiZvLnVwZGF0ZVNsaWRlc09mZnNldCgpLHMpaWYoeS5sZW5ndGg+MCYmVCl7aWYodm9pZCAwPT09dCl7Y29uc3QgZT1vLnNsaWRlc0dyaWRbeF0sdD1vLnNsaWRlc0dyaWRbeCtNXS1lO2w/by5zZXRUcmFuc2xhdGUoby50cmFuc2xhdGUtdCk6KG8uc2xpZGVUbyh4K01hdGguY2VpbChNKSwwLCExLCEwKSxpJiYoby50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGU9by50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUtdCxvLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlPW8udG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUtdCkpfWVsc2UgaWYoaSl7Y29uc3QgZT1iP3kubGVuZ3RoL20uZ3JpZC5yb3dzOnkubGVuZ3RoO28uc2xpZGVUbyhvLmFjdGl2ZUluZGV4K2UsMCwhMSwhMCksby50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZT1vLnRyYW5zbGF0ZX19ZWxzZSBpZihFLmxlbmd0aD4wJiZTKWlmKHZvaWQgMD09PXQpe2NvbnN0IGU9by5zbGlkZXNHcmlkW3hdLHQ9by5zbGlkZXNHcmlkW3gtQ10tZTtsP28uc2V0VHJhbnNsYXRlKG8udHJhbnNsYXRlLXQpOihvLnNsaWRlVG8oeC1DLDAsITEsITApLGkmJihvLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZT1vLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZS10LG8udG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGU9by50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZS10KSl9ZWxzZXtjb25zdCBlPWI/RS5sZW5ndGgvbS5ncmlkLnJvd3M6RS5sZW5ndGg7by5zbGlkZVRvKG8uYWN0aXZlSW5kZXgtZSwwLCExLCEwKX1pZihvLmFsbG93U2xpZGVQcmV2PWMsby5hbGxvd1NsaWRlTmV4dD1wLG8uY29udHJvbGxlciYmby5jb250cm9sbGVyLmNvbnRyb2wmJiFuKXtjb25zdCBlPXtzbGlkZVJlYWxJbmRleDp0LGRpcmVjdGlvbjphLHNldFRyYW5zbGF0ZTppLGFjdGl2ZVNsaWRlSW5kZXg6cixieUNvbnRyb2xsZXI6ITB9O0FycmF5LmlzQXJyYXkoby5jb250cm9sbGVyLmNvbnRyb2wpP28uY29udHJvbGxlci5jb250cm9sLmZvckVhY2goKHQ9PnshdC5kZXN0cm95ZWQmJnQucGFyYW1zLmxvb3AmJnQubG9vcEZpeCh7Li4uZSxzbGlkZVRvOnQucGFyYW1zLnNsaWRlc1BlclZpZXc9PT1tLnNsaWRlc1BlclZpZXcmJnN9KX0pKTpvLmNvbnRyb2xsZXIuY29udHJvbCBpbnN0YW5jZW9mIG8uY29uc3RydWN0b3ImJm8uY29udHJvbGxlci5jb250cm9sLnBhcmFtcy5sb29wJiZvLmNvbnRyb2xsZXIuY29udHJvbC5sb29wRml4KHsuLi5lLHNsaWRlVG86by5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLnNsaWRlc1BlclZpZXc9PT1tLnNsaWRlc1BlclZpZXcmJnN9KX1vLmVtaXQoXCJsb29wRml4XCIpfSxsb29wRGVzdHJveTpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcyx7cGFyYW1zOnQsc2xpZGVzRWw6c309ZTtpZighdC5sb29wfHxlLnZpcnR1YWwmJmUucGFyYW1zLnZpcnR1YWwuZW5hYmxlZClyZXR1cm47ZS5yZWNhbGNTbGlkZXMoKTtjb25zdCBhPVtdO2Uuc2xpZGVzLmZvckVhY2goKGU9Pntjb25zdCB0PXZvaWQgMD09PWUuc3dpcGVyU2xpZGVJbmRleD8xKmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik6ZS5zd2lwZXJTbGlkZUluZGV4O2FbdF09ZX0pKSxlLnNsaWRlcy5mb3JFYWNoKChlPT57ZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKX0pKSxhLmZvckVhY2goKGU9PntzLmFwcGVuZChlKX0pKSxlLnJlY2FsY1NsaWRlcygpLGUuc2xpZGVUbyhlLnJlYWxJbmRleCwwKX19O2Z1bmN0aW9uIEYoZSx0LHMpe2NvbnN0IGE9cigpLHtwYXJhbXM6aX09ZSxuPWkuZWRnZVN3aXBlRGV0ZWN0aW9uLGw9aS5lZGdlU3dpcGVUaHJlc2hvbGQ7cmV0dXJuIW58fCEoczw9bHx8cz49YS5pbm5lcldpZHRoLWwpfHxcInByZXZlbnRcIj09PW4mJih0LnByZXZlbnREZWZhdWx0KCksITApfWZ1bmN0aW9uIFYoZSl7Y29uc3QgdD10aGlzLHM9YSgpO2xldCBpPWU7aS5vcmlnaW5hbEV2ZW50JiYoaT1pLm9yaWdpbmFsRXZlbnQpO2NvbnN0IG49dC50b3VjaEV2ZW50c0RhdGE7aWYoXCJwb2ludGVyZG93blwiPT09aS50eXBlKXtpZihudWxsIT09bi5wb2ludGVySWQmJm4ucG9pbnRlcklkIT09aS5wb2ludGVySWQpcmV0dXJuO24ucG9pbnRlcklkPWkucG9pbnRlcklkfWVsc2VcInRvdWNoc3RhcnRcIj09PWkudHlwZSYmMT09PWkudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJihuLnRvdWNoSWQ9aS50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXIpO2lmKFwidG91Y2hzdGFydFwiPT09aS50eXBlKXJldHVybiB2b2lkIEYodCxpLGkudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCk7Y29uc3R7cGFyYW1zOmwsdG91Y2hlczpkLGVuYWJsZWQ6Y309dDtpZighYylyZXR1cm47aWYoIWwuc2ltdWxhdGVUb3VjaCYmXCJtb3VzZVwiPT09aS5wb2ludGVyVHlwZSlyZXR1cm47aWYodC5hbmltYXRpbmcmJmwucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKXJldHVybjshdC5hbmltYXRpbmcmJmwuY3NzTW9kZSYmbC5sb29wJiZ0Lmxvb3BGaXgoKTtsZXQgcD1pLnRhcmdldDtpZihcIndyYXBwZXJcIj09PWwudG91Y2hFdmVudHNUYXJnZXQmJiFmdW5jdGlvbihlLHQpe2NvbnN0IHM9dC5jb250YWlucyhlKTtpZighcyYmdCBpbnN0YW5jZW9mIEhUTUxTbG90RWxlbWVudClyZXR1cm5bLi4udC5hc3NpZ25lZEVsZW1lbnRzKCldLmluY2x1ZGVzKGUpO3JldHVybiBzfShwLHQud3JhcHBlckVsKSlyZXR1cm47aWYoXCJ3aGljaFwiaW4gaSYmMz09PWkud2hpY2gpcmV0dXJuO2lmKFwiYnV0dG9uXCJpbiBpJiZpLmJ1dHRvbj4wKXJldHVybjtpZihuLmlzVG91Y2hlZCYmbi5pc01vdmVkKXJldHVybjtjb25zdCB1PSEhbC5ub1N3aXBpbmdDbGFzcyYmXCJcIiE9PWwubm9Td2lwaW5nQ2xhc3MsbT1pLmNvbXBvc2VkUGF0aD9pLmNvbXBvc2VkUGF0aCgpOmkucGF0aDt1JiZpLnRhcmdldCYmaS50YXJnZXQuc2hhZG93Um9vdCYmbSYmKHA9bVswXSk7Y29uc3QgaD1sLm5vU3dpcGluZ1NlbGVjdG9yP2wubm9Td2lwaW5nU2VsZWN0b3I6YC4ke2wubm9Td2lwaW5nQ2xhc3N9YCxmPSEoIWkudGFyZ2V0fHwhaS50YXJnZXQuc2hhZG93Um9vdCk7aWYobC5ub1N3aXBpbmcmJihmP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMpLGZ1bmN0aW9uIHQocyl7aWYoIXN8fHM9PT1hKCl8fHM9PT1yKCkpcmV0dXJuIG51bGw7cy5hc3NpZ25lZFNsb3QmJihzPXMuYXNzaWduZWRTbG90KTtjb25zdCBpPXMuY2xvc2VzdChlKTtyZXR1cm4gaXx8cy5nZXRSb290Tm9kZT9pfHx0KHMuZ2V0Um9vdE5vZGUoKS5ob3N0KTpudWxsfSh0KX0oaCxwKTpwLmNsb3Nlc3QoaCkpKXJldHVybiB2b2lkKHQuYWxsb3dDbGljaz0hMCk7aWYobC5zd2lwZUhhbmRsZXImJiFwLmNsb3Nlc3QobC5zd2lwZUhhbmRsZXIpKXJldHVybjtkLmN1cnJlbnRYPWkucGFnZVgsZC5jdXJyZW50WT1pLnBhZ2VZO2NvbnN0IGc9ZC5jdXJyZW50WCx2PWQuY3VycmVudFk7aWYoIUYodCxpLGcpKXJldHVybjtPYmplY3QuYXNzaWduKG4se2lzVG91Y2hlZDohMCxpc01vdmVkOiExLGFsbG93VG91Y2hDYWxsYmFja3M6ITAsaXNTY3JvbGxpbmc6dm9pZCAwLHN0YXJ0TW92aW5nOnZvaWQgMH0pLGQuc3RhcnRYPWcsZC5zdGFydFk9dixuLnRvdWNoU3RhcnRUaW1lPW8oKSx0LmFsbG93Q2xpY2s9ITAsdC51cGRhdGVTaXplKCksdC5zd2lwZURpcmVjdGlvbj12b2lkIDAsbC50aHJlc2hvbGQ+MCYmKG4uYWxsb3dUaHJlc2hvbGRNb3ZlPSExKTtsZXQgdz0hMDtwLm1hdGNoZXMobi5mb2N1c2FibGVFbGVtZW50cykmJih3PSExLFwiU0VMRUNUXCI9PT1wLm5vZGVOYW1lJiYobi5pc1RvdWNoZWQ9ITEpKSxzLmFjdGl2ZUVsZW1lbnQmJnMuYWN0aXZlRWxlbWVudC5tYXRjaGVzKG4uZm9jdXNhYmxlRWxlbWVudHMpJiZzLmFjdGl2ZUVsZW1lbnQhPT1wJiZzLmFjdGl2ZUVsZW1lbnQuYmx1cigpO2NvbnN0IGI9dyYmdC5hbGxvd1RvdWNoTW92ZSYmbC50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7IWwudG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQmJiFifHxwLmlzQ29udGVudEVkaXRhYmxlfHxpLnByZXZlbnREZWZhdWx0KCksbC5mcmVlTW9kZSYmbC5mcmVlTW9kZS5lbmFibGVkJiZ0LmZyZWVNb2RlJiZ0LmFuaW1hdGluZyYmIWwuY3NzTW9kZSYmdC5mcmVlTW9kZS5vblRvdWNoU3RhcnQoKSx0LmVtaXQoXCJ0b3VjaFN0YXJ0XCIsaSl9ZnVuY3Rpb24gcShlKXtjb25zdCB0PWEoKSxzPXRoaXMsaT1zLnRvdWNoRXZlbnRzRGF0YSx7cGFyYW1zOnIsdG91Y2hlczpuLHJ0bFRyYW5zbGF0ZTpsLGVuYWJsZWQ6ZH09cztpZighZClyZXR1cm47aWYoIXIuc2ltdWxhdGVUb3VjaCYmXCJtb3VzZVwiPT09ZS5wb2ludGVyVHlwZSlyZXR1cm47bGV0IGMscD1lO2lmKHAub3JpZ2luYWxFdmVudCYmKHA9cC5vcmlnaW5hbEV2ZW50KSxcInBvaW50ZXJtb3ZlXCI9PT1wLnR5cGUpe2lmKG51bGwhPT1pLnRvdWNoSWQpcmV0dXJuO2lmKHAucG9pbnRlcklkIT09aS5wb2ludGVySWQpcmV0dXJufWlmKFwidG91Y2htb3ZlXCI9PT1wLnR5cGUpe2lmKGM9Wy4uLnAuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcigoZT0+ZS5pZGVudGlmaWVyPT09aS50b3VjaElkKSlbMF0sIWN8fGMuaWRlbnRpZmllciE9PWkudG91Y2hJZClyZXR1cm59ZWxzZSBjPXA7aWYoIWkuaXNUb3VjaGVkKXJldHVybiB2b2lkKGkuc3RhcnRNb3ZpbmcmJmkuaXNTY3JvbGxpbmcmJnMuZW1pdChcInRvdWNoTW92ZU9wcG9zaXRlXCIscCkpO2NvbnN0IHU9Yy5wYWdlWCxtPWMucGFnZVk7aWYocC5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcilyZXR1cm4gbi5zdGFydFg9dSx2b2lkKG4uc3RhcnRZPW0pO2lmKCFzLmFsbG93VG91Y2hNb3ZlKXJldHVybiBwLnRhcmdldC5tYXRjaGVzKGkuZm9jdXNhYmxlRWxlbWVudHMpfHwocy5hbGxvd0NsaWNrPSExKSx2b2lkKGkuaXNUb3VjaGVkJiYoT2JqZWN0LmFzc2lnbihuLHtzdGFydFg6dSxzdGFydFk6bSxjdXJyZW50WDp1LGN1cnJlbnRZOm19KSxpLnRvdWNoU3RhcnRUaW1lPW8oKSkpO2lmKHIudG91Y2hSZWxlYXNlT25FZGdlcyYmIXIubG9vcClpZihzLmlzVmVydGljYWwoKSl7aWYobTxuLnN0YXJ0WSYmcy50cmFuc2xhdGU8PXMubWF4VHJhbnNsYXRlKCl8fG0+bi5zdGFydFkmJnMudHJhbnNsYXRlPj1zLm1pblRyYW5zbGF0ZSgpKXJldHVybiBpLmlzVG91Y2hlZD0hMSx2b2lkKGkuaXNNb3ZlZD0hMSl9ZWxzZSBpZih1PG4uc3RhcnRYJiZzLnRyYW5zbGF0ZTw9cy5tYXhUcmFuc2xhdGUoKXx8dT5uLnN0YXJ0WCYmcy50cmFuc2xhdGU+PXMubWluVHJhbnNsYXRlKCkpcmV0dXJuO2lmKHQuYWN0aXZlRWxlbWVudCYmcC50YXJnZXQ9PT10LmFjdGl2ZUVsZW1lbnQmJnAudGFyZ2V0Lm1hdGNoZXMoaS5mb2N1c2FibGVFbGVtZW50cykpcmV0dXJuIGkuaXNNb3ZlZD0hMCx2b2lkKHMuYWxsb3dDbGljaz0hMSk7aS5hbGxvd1RvdWNoQ2FsbGJhY2tzJiZzLmVtaXQoXCJ0b3VjaE1vdmVcIixwKSxuLnByZXZpb3VzWD1uLmN1cnJlbnRYLG4ucHJldmlvdXNZPW4uY3VycmVudFksbi5jdXJyZW50WD11LG4uY3VycmVudFk9bTtjb25zdCBoPW4uY3VycmVudFgtbi5zdGFydFgsZj1uLmN1cnJlbnRZLW4uc3RhcnRZO2lmKHMucGFyYW1zLnRocmVzaG9sZCYmTWF0aC5zcXJ0KGgqKjIrZioqMik8cy5wYXJhbXMudGhyZXNob2xkKXJldHVybjtpZih2b2lkIDA9PT1pLmlzU2Nyb2xsaW5nKXtsZXQgZTtzLmlzSG9yaXpvbnRhbCgpJiZuLmN1cnJlbnRZPT09bi5zdGFydFl8fHMuaXNWZXJ0aWNhbCgpJiZuLmN1cnJlbnRYPT09bi5zdGFydFg/aS5pc1Njcm9sbGluZz0hMTpoKmgrZipmPj0yNSYmKGU9MTgwKk1hdGguYXRhbjIoTWF0aC5hYnMoZiksTWF0aC5hYnMoaCkpL01hdGguUEksaS5pc1Njcm9sbGluZz1zLmlzSG9yaXpvbnRhbCgpP2U+ci50b3VjaEFuZ2xlOjkwLWU+ci50b3VjaEFuZ2xlKX1pZihpLmlzU2Nyb2xsaW5nJiZzLmVtaXQoXCJ0b3VjaE1vdmVPcHBvc2l0ZVwiLHApLHZvaWQgMD09PWkuc3RhcnRNb3ZpbmcmJihuLmN1cnJlbnRYPT09bi5zdGFydFgmJm4uY3VycmVudFk9PT1uLnN0YXJ0WXx8KGkuc3RhcnRNb3Zpbmc9ITApKSxpLmlzU2Nyb2xsaW5nfHxcInRvdWNobW92ZVwiPT09cC50eXBlJiZpLnByZXZlbnRUb3VjaE1vdmVGcm9tUG9pbnRlck1vdmUpcmV0dXJuIHZvaWQoaS5pc1RvdWNoZWQ9ITEpO2lmKCFpLnN0YXJ0TW92aW5nKXJldHVybjtzLmFsbG93Q2xpY2s9ITEsIXIuY3NzTW9kZSYmcC5jYW5jZWxhYmxlJiZwLnByZXZlbnREZWZhdWx0KCksci50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24mJiFyLm5lc3RlZCYmcC5zdG9wUHJvcGFnYXRpb24oKTtsZXQgZz1zLmlzSG9yaXpvbnRhbCgpP2g6Zix2PXMuaXNIb3Jpem9udGFsKCk/bi5jdXJyZW50WC1uLnByZXZpb3VzWDpuLmN1cnJlbnRZLW4ucHJldmlvdXNZO3Iub25lV2F5TW92ZW1lbnQmJihnPU1hdGguYWJzKGcpKihsPzE6LTEpLHY9TWF0aC5hYnModikqKGw/MTotMSkpLG4uZGlmZj1nLGcqPXIudG91Y2hSYXRpbyxsJiYoZz0tZyx2PS12KTtjb25zdCB3PXMudG91Y2hlc0RpcmVjdGlvbjtzLnN3aXBlRGlyZWN0aW9uPWc+MD9cInByZXZcIjpcIm5leHRcIixzLnRvdWNoZXNEaXJlY3Rpb249dj4wP1wicHJldlwiOlwibmV4dFwiO2NvbnN0IGI9cy5wYXJhbXMubG9vcCYmIXIuY3NzTW9kZSx5PVwibmV4dFwiPT09cy50b3VjaGVzRGlyZWN0aW9uJiZzLmFsbG93U2xpZGVOZXh0fHxcInByZXZcIj09PXMudG91Y2hlc0RpcmVjdGlvbiYmcy5hbGxvd1NsaWRlUHJldjtpZighaS5pc01vdmVkKXtpZihiJiZ5JiZzLmxvb3BGaXgoe2RpcmVjdGlvbjpzLnN3aXBlRGlyZWN0aW9ufSksaS5zdGFydFRyYW5zbGF0ZT1zLmdldFRyYW5zbGF0ZSgpLHMuc2V0VHJhbnNpdGlvbigwKSxzLmFuaW1hdGluZyl7Y29uc3QgZT1uZXcgd2luZG93LkN1c3RvbUV2ZW50KFwidHJhbnNpdGlvbmVuZFwiLHtidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsZGV0YWlsOntieVN3aXBlclRvdWNoTW92ZTohMH19KTtzLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGUpfWkuYWxsb3dNb21lbnR1bUJvdW5jZT0hMSwhci5ncmFiQ3Vyc29yfHwhMCE9PXMuYWxsb3dTbGlkZU5leHQmJiEwIT09cy5hbGxvd1NsaWRlUHJldnx8cy5zZXRHcmFiQ3Vyc29yKCEwKSxzLmVtaXQoXCJzbGlkZXJGaXJzdE1vdmVcIixwKX1pZigobmV3IERhdGUpLmdldFRpbWUoKSxpLmlzTW92ZWQmJmkuYWxsb3dUaHJlc2hvbGRNb3ZlJiZ3IT09cy50b3VjaGVzRGlyZWN0aW9uJiZiJiZ5JiZNYXRoLmFicyhnKT49MSlyZXR1cm4gT2JqZWN0LmFzc2lnbihuLHtzdGFydFg6dSxzdGFydFk6bSxjdXJyZW50WDp1LGN1cnJlbnRZOm0sc3RhcnRUcmFuc2xhdGU6aS5jdXJyZW50VHJhbnNsYXRlfSksaS5sb29wU3dhcFJlc2V0PSEwLHZvaWQoaS5zdGFydFRyYW5zbGF0ZT1pLmN1cnJlbnRUcmFuc2xhdGUpO3MuZW1pdChcInNsaWRlck1vdmVcIixwKSxpLmlzTW92ZWQ9ITAsaS5jdXJyZW50VHJhbnNsYXRlPWcraS5zdGFydFRyYW5zbGF0ZTtsZXQgRT0hMCx4PXIucmVzaXN0YW5jZVJhdGlvO2lmKHIudG91Y2hSZWxlYXNlT25FZGdlcyYmKHg9MCksZz4wPyhiJiZ5JiZpLmFsbG93VGhyZXNob2xkTW92ZSYmaS5jdXJyZW50VHJhbnNsYXRlPihyLmNlbnRlcmVkU2xpZGVzP3MubWluVHJhbnNsYXRlKCktcy5zbGlkZXNTaXplc0dyaWRbcy5hY3RpdmVJbmRleCsxXS0oXCJhdXRvXCIhPT1yLnNsaWRlc1BlclZpZXcmJnMuc2xpZGVzLmxlbmd0aC1yLnNsaWRlc1BlclZpZXc+PTI/cy5zbGlkZXNTaXplc0dyaWRbcy5hY3RpdmVJbmRleCsxXStzLnBhcmFtcy5zcGFjZUJldHdlZW46MCktcy5wYXJhbXMuc3BhY2VCZXR3ZWVuOnMubWluVHJhbnNsYXRlKCkpJiZzLmxvb3BGaXgoe2RpcmVjdGlvbjpcInByZXZcIixzZXRUcmFuc2xhdGU6ITAsYWN0aXZlU2xpZGVJbmRleDowfSksaS5jdXJyZW50VHJhbnNsYXRlPnMubWluVHJhbnNsYXRlKCkmJihFPSExLHIucmVzaXN0YW5jZSYmKGkuY3VycmVudFRyYW5zbGF0ZT1zLm1pblRyYW5zbGF0ZSgpLTErKC1zLm1pblRyYW5zbGF0ZSgpK2kuc3RhcnRUcmFuc2xhdGUrZykqKngpKSk6ZzwwJiYoYiYmeSYmaS5hbGxvd1RocmVzaG9sZE1vdmUmJmkuY3VycmVudFRyYW5zbGF0ZTwoci5jZW50ZXJlZFNsaWRlcz9zLm1heFRyYW5zbGF0ZSgpK3Muc2xpZGVzU2l6ZXNHcmlkW3Muc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aC0xXStzLnBhcmFtcy5zcGFjZUJldHdlZW4rKFwiYXV0b1wiIT09ci5zbGlkZXNQZXJWaWV3JiZzLnNsaWRlcy5sZW5ndGgtci5zbGlkZXNQZXJWaWV3Pj0yP3Muc2xpZGVzU2l6ZXNHcmlkW3Muc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aC0xXStzLnBhcmFtcy5zcGFjZUJldHdlZW46MCk6cy5tYXhUcmFuc2xhdGUoKSkmJnMubG9vcEZpeCh7ZGlyZWN0aW9uOlwibmV4dFwiLHNldFRyYW5zbGF0ZTohMCxhY3RpdmVTbGlkZUluZGV4OnMuc2xpZGVzLmxlbmd0aC0oXCJhdXRvXCI9PT1yLnNsaWRlc1BlclZpZXc/cy5zbGlkZXNQZXJWaWV3RHluYW1pYygpOk1hdGguY2VpbChwYXJzZUZsb2F0KHIuc2xpZGVzUGVyVmlldywxMCkpKX0pLGkuY3VycmVudFRyYW5zbGF0ZTxzLm1heFRyYW5zbGF0ZSgpJiYoRT0hMSxyLnJlc2lzdGFuY2UmJihpLmN1cnJlbnRUcmFuc2xhdGU9cy5tYXhUcmFuc2xhdGUoKSsxLShzLm1heFRyYW5zbGF0ZSgpLWkuc3RhcnRUcmFuc2xhdGUtZykqKngpKSksRSYmKHAucHJldmVudGVkQnlOZXN0ZWRTd2lwZXI9ITApLCFzLmFsbG93U2xpZGVOZXh0JiZcIm5leHRcIj09PXMuc3dpcGVEaXJlY3Rpb24mJmkuY3VycmVudFRyYW5zbGF0ZTxpLnN0YXJ0VHJhbnNsYXRlJiYoaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUpLCFzLmFsbG93U2xpZGVQcmV2JiZcInByZXZcIj09PXMuc3dpcGVEaXJlY3Rpb24mJmkuY3VycmVudFRyYW5zbGF0ZT5pLnN0YXJ0VHJhbnNsYXRlJiYoaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUpLHMuYWxsb3dTbGlkZVByZXZ8fHMuYWxsb3dTbGlkZU5leHR8fChpLmN1cnJlbnRUcmFuc2xhdGU9aS5zdGFydFRyYW5zbGF0ZSksci50aHJlc2hvbGQ+MCl7aWYoIShNYXRoLmFicyhnKT5yLnRocmVzaG9sZHx8aS5hbGxvd1RocmVzaG9sZE1vdmUpKXJldHVybiB2b2lkKGkuY3VycmVudFRyYW5zbGF0ZT1pLnN0YXJ0VHJhbnNsYXRlKTtpZighaS5hbGxvd1RocmVzaG9sZE1vdmUpcmV0dXJuIGkuYWxsb3dUaHJlc2hvbGRNb3ZlPSEwLG4uc3RhcnRYPW4uY3VycmVudFgsbi5zdGFydFk9bi5jdXJyZW50WSxpLmN1cnJlbnRUcmFuc2xhdGU9aS5zdGFydFRyYW5zbGF0ZSx2b2lkKG4uZGlmZj1zLmlzSG9yaXpvbnRhbCgpP24uY3VycmVudFgtbi5zdGFydFg6bi5jdXJyZW50WS1uLnN0YXJ0WSl9ci5mb2xsb3dGaW5nZXImJiFyLmNzc01vZGUmJigoci5mcmVlTW9kZSYmci5mcmVlTW9kZS5lbmFibGVkJiZzLmZyZWVNb2RlfHxyLndhdGNoU2xpZGVzUHJvZ3Jlc3MpJiYocy51cGRhdGVBY3RpdmVJbmRleCgpLHMudXBkYXRlU2xpZGVzQ2xhc3NlcygpKSxyLmZyZWVNb2RlJiZyLmZyZWVNb2RlLmVuYWJsZWQmJnMuZnJlZU1vZGUmJnMuZnJlZU1vZGUub25Ub3VjaE1vdmUoKSxzLnVwZGF0ZVByb2dyZXNzKGkuY3VycmVudFRyYW5zbGF0ZSkscy5zZXRUcmFuc2xhdGUoaS5jdXJyZW50VHJhbnNsYXRlKSl9ZnVuY3Rpb24gXyhlKXtjb25zdCB0PXRoaXMscz10LnRvdWNoRXZlbnRzRGF0YTtsZXQgYSxpPWU7aS5vcmlnaW5hbEV2ZW50JiYoaT1pLm9yaWdpbmFsRXZlbnQpO2lmKFwidG91Y2hlbmRcIj09PWkudHlwZXx8XCJ0b3VjaGNhbmNlbFwiPT09aS50eXBlKXtpZihhPVsuLi5pLmNoYW5nZWRUb3VjaGVzXS5maWx0ZXIoKGU9PmUuaWRlbnRpZmllcj09PXMudG91Y2hJZCkpWzBdLCFhfHxhLmlkZW50aWZpZXIhPT1zLnRvdWNoSWQpcmV0dXJufWVsc2V7aWYobnVsbCE9PXMudG91Y2hJZClyZXR1cm47aWYoaS5wb2ludGVySWQhPT1zLnBvaW50ZXJJZClyZXR1cm47YT1pfWlmKFtcInBvaW50ZXJjYW5jZWxcIixcInBvaW50ZXJvdXRcIixcInBvaW50ZXJsZWF2ZVwiLFwiY29udGV4dG1lbnVcIl0uaW5jbHVkZXMoaS50eXBlKSl7aWYoIShbXCJwb2ludGVyY2FuY2VsXCIsXCJjb250ZXh0bWVudVwiXS5pbmNsdWRlcyhpLnR5cGUpJiYodC5icm93c2VyLmlzU2FmYXJpfHx0LmJyb3dzZXIuaXNXZWJWaWV3KSkpcmV0dXJufXMucG9pbnRlcklkPW51bGwscy50b3VjaElkPW51bGw7Y29uc3R7cGFyYW1zOnIsdG91Y2hlczpuLHJ0bFRyYW5zbGF0ZTpkLHNsaWRlc0dyaWQ6YyxlbmFibGVkOnB9PXQ7aWYoIXApcmV0dXJuO2lmKCFyLnNpbXVsYXRlVG91Y2gmJlwibW91c2VcIj09PWkucG9pbnRlclR5cGUpcmV0dXJuO2lmKHMuYWxsb3dUb3VjaENhbGxiYWNrcyYmdC5lbWl0KFwidG91Y2hFbmRcIixpKSxzLmFsbG93VG91Y2hDYWxsYmFja3M9ITEsIXMuaXNUb3VjaGVkKXJldHVybiBzLmlzTW92ZWQmJnIuZ3JhYkN1cnNvciYmdC5zZXRHcmFiQ3Vyc29yKCExKSxzLmlzTW92ZWQ9ITEsdm9pZChzLnN0YXJ0TW92aW5nPSExKTtyLmdyYWJDdXJzb3ImJnMuaXNNb3ZlZCYmcy5pc1RvdWNoZWQmJighMD09PXQuYWxsb3dTbGlkZU5leHR8fCEwPT09dC5hbGxvd1NsaWRlUHJldikmJnQuc2V0R3JhYkN1cnNvcighMSk7Y29uc3QgdT1vKCksbT11LXMudG91Y2hTdGFydFRpbWU7aWYodC5hbGxvd0NsaWNrKXtjb25zdCBlPWkucGF0aHx8aS5jb21wb3NlZFBhdGgmJmkuY29tcG9zZWRQYXRoKCk7dC51cGRhdGVDbGlja2VkU2xpZGUoZSYmZVswXXx8aS50YXJnZXQsZSksdC5lbWl0KFwidGFwIGNsaWNrXCIsaSksbTwzMDAmJnUtcy5sYXN0Q2xpY2tUaW1lPDMwMCYmdC5lbWl0KFwiZG91YmxlVGFwIGRvdWJsZUNsaWNrXCIsaSl9aWYocy5sYXN0Q2xpY2tUaW1lPW8oKSxsKCgoKT0+e3QuZGVzdHJveWVkfHwodC5hbGxvd0NsaWNrPSEwKX0pKSwhcy5pc1RvdWNoZWR8fCFzLmlzTW92ZWR8fCF0LnN3aXBlRGlyZWN0aW9ufHwwPT09bi5kaWZmJiYhcy5sb29wU3dhcFJlc2V0fHxzLmN1cnJlbnRUcmFuc2xhdGU9PT1zLnN0YXJ0VHJhbnNsYXRlJiYhcy5sb29wU3dhcFJlc2V0KXJldHVybiBzLmlzVG91Y2hlZD0hMSxzLmlzTW92ZWQ9ITEsdm9pZChzLnN0YXJ0TW92aW5nPSExKTtsZXQgaDtpZihzLmlzVG91Y2hlZD0hMSxzLmlzTW92ZWQ9ITEscy5zdGFydE1vdmluZz0hMSxoPXIuZm9sbG93RmluZ2VyP2Q/dC50cmFuc2xhdGU6LXQudHJhbnNsYXRlOi1zLmN1cnJlbnRUcmFuc2xhdGUsci5jc3NNb2RlKXJldHVybjtpZihyLmZyZWVNb2RlJiZyLmZyZWVNb2RlLmVuYWJsZWQpcmV0dXJuIHZvaWQgdC5mcmVlTW9kZS5vblRvdWNoRW5kKHtjdXJyZW50UG9zOmh9KTtjb25zdCBmPWg+PS10Lm1heFRyYW5zbGF0ZSgpJiYhdC5wYXJhbXMubG9vcDtsZXQgZz0wLHY9dC5zbGlkZXNTaXplc0dyaWRbMF07Zm9yKGxldCBlPTA7ZTxjLmxlbmd0aDtlKz1lPHIuc2xpZGVzUGVyR3JvdXBTa2lwPzE6ci5zbGlkZXNQZXJHcm91cCl7Y29uc3QgdD1lPHIuc2xpZGVzUGVyR3JvdXBTa2lwLTE/MTpyLnNsaWRlc1Blckdyb3VwO3ZvaWQgMCE9PWNbZSt0XT8oZnx8aD49Y1tlXSYmaDxjW2UrdF0pJiYoZz1lLHY9Y1tlK3RdLWNbZV0pOihmfHxoPj1jW2VdKSYmKGc9ZSx2PWNbYy5sZW5ndGgtMV0tY1tjLmxlbmd0aC0yXSl9bGV0IHc9bnVsbCxiPW51bGw7ci5yZXdpbmQmJih0LmlzQmVnaW5uaW5nP2I9ci52aXJ0dWFsJiZyLnZpcnR1YWwuZW5hYmxlZCYmdC52aXJ0dWFsP3QudmlydHVhbC5zbGlkZXMubGVuZ3RoLTE6dC5zbGlkZXMubGVuZ3RoLTE6dC5pc0VuZCYmKHc9MCkpO2NvbnN0IHk9KGgtY1tnXSkvdixFPWc8ci5zbGlkZXNQZXJHcm91cFNraXAtMT8xOnIuc2xpZGVzUGVyR3JvdXA7aWYobT5yLmxvbmdTd2lwZXNNcyl7aWYoIXIubG9uZ1N3aXBlcylyZXR1cm4gdm9pZCB0LnNsaWRlVG8odC5hY3RpdmVJbmRleCk7XCJuZXh0XCI9PT10LnN3aXBlRGlyZWN0aW9uJiYoeT49ci5sb25nU3dpcGVzUmF0aW8/dC5zbGlkZVRvKHIucmV3aW5kJiZ0LmlzRW5kP3c6ZytFKTp0LnNsaWRlVG8oZykpLFwicHJldlwiPT09dC5zd2lwZURpcmVjdGlvbiYmKHk+MS1yLmxvbmdTd2lwZXNSYXRpbz90LnNsaWRlVG8oZytFKTpudWxsIT09YiYmeTwwJiZNYXRoLmFicyh5KT5yLmxvbmdTd2lwZXNSYXRpbz90LnNsaWRlVG8oYik6dC5zbGlkZVRvKGcpKX1lbHNle2lmKCFyLnNob3J0U3dpcGVzKXJldHVybiB2b2lkIHQuc2xpZGVUbyh0LmFjdGl2ZUluZGV4KTt0Lm5hdmlnYXRpb24mJihpLnRhcmdldD09PXQubmF2aWdhdGlvbi5uZXh0RWx8fGkudGFyZ2V0PT09dC5uYXZpZ2F0aW9uLnByZXZFbCk/aS50YXJnZXQ9PT10Lm5hdmlnYXRpb24ubmV4dEVsP3Quc2xpZGVUbyhnK0UpOnQuc2xpZGVUbyhnKTooXCJuZXh0XCI9PT10LnN3aXBlRGlyZWN0aW9uJiZ0LnNsaWRlVG8obnVsbCE9PXc/dzpnK0UpLFwicHJldlwiPT09dC5zd2lwZURpcmVjdGlvbiYmdC5zbGlkZVRvKG51bGwhPT1iP2I6ZykpfX1mdW5jdGlvbiBXKCl7Y29uc3QgZT10aGlzLHtwYXJhbXM6dCxlbDpzfT1lO2lmKHMmJjA9PT1zLm9mZnNldFdpZHRoKXJldHVybjt0LmJyZWFrcG9pbnRzJiZlLnNldEJyZWFrcG9pbnQoKTtjb25zdHthbGxvd1NsaWRlTmV4dDphLGFsbG93U2xpZGVQcmV2Omksc25hcEdyaWQ6cn09ZSxuPWUudmlydHVhbCYmZS5wYXJhbXMudmlydHVhbC5lbmFibGVkO2UuYWxsb3dTbGlkZU5leHQ9ITAsZS5hbGxvd1NsaWRlUHJldj0hMCxlLnVwZGF0ZVNpemUoKSxlLnVwZGF0ZVNsaWRlcygpLGUudXBkYXRlU2xpZGVzQ2xhc3NlcygpO2NvbnN0IGw9biYmdC5sb29wOyEoXCJhdXRvXCI9PT10LnNsaWRlc1BlclZpZXd8fHQuc2xpZGVzUGVyVmlldz4xKXx8IWUuaXNFbmR8fGUuaXNCZWdpbm5pbmd8fGUucGFyYW1zLmNlbnRlcmVkU2xpZGVzfHxsP2UucGFyYW1zLmxvb3AmJiFuP2Uuc2xpZGVUb0xvb3AoZS5yZWFsSW5kZXgsMCwhMSwhMCk6ZS5zbGlkZVRvKGUuYWN0aXZlSW5kZXgsMCwhMSwhMCk6ZS5zbGlkZVRvKGUuc2xpZGVzLmxlbmd0aC0xLDAsITEsITApLGUuYXV0b3BsYXkmJmUuYXV0b3BsYXkucnVubmluZyYmZS5hdXRvcGxheS5wYXVzZWQmJihjbGVhclRpbWVvdXQoZS5hdXRvcGxheS5yZXNpemVUaW1lb3V0KSxlLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dCgoKCk9PntlLmF1dG9wbGF5JiZlLmF1dG9wbGF5LnJ1bm5pbmcmJmUuYXV0b3BsYXkucGF1c2VkJiZlLmF1dG9wbGF5LnJlc3VtZSgpfSksNTAwKSksZS5hbGxvd1NsaWRlUHJldj1pLGUuYWxsb3dTbGlkZU5leHQ9YSxlLnBhcmFtcy53YXRjaE92ZXJmbG93JiZyIT09ZS5zbmFwR3JpZCYmZS5jaGVja092ZXJmbG93KCl9ZnVuY3Rpb24gaihlKXtjb25zdCB0PXRoaXM7dC5lbmFibGVkJiYodC5hbGxvd0NsaWNrfHwodC5wYXJhbXMucHJldmVudENsaWNrcyYmZS5wcmV2ZW50RGVmYXVsdCgpLHQucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbiYmdC5hbmltYXRpbmcmJihlLnN0b3BQcm9wYWdhdGlvbigpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpKSl9ZnVuY3Rpb24gVSgpe2NvbnN0IGU9dGhpcyx7d3JhcHBlckVsOnQscnRsVHJhbnNsYXRlOnMsZW5hYmxlZDphfT1lO2lmKCFhKXJldHVybjtsZXQgaTtlLnByZXZpb3VzVHJhbnNsYXRlPWUudHJhbnNsYXRlLGUuaXNIb3Jpem9udGFsKCk/ZS50cmFuc2xhdGU9LXQuc2Nyb2xsTGVmdDplLnRyYW5zbGF0ZT0tdC5zY3JvbGxUb3AsMD09PWUudHJhbnNsYXRlJiYoZS50cmFuc2xhdGU9MCksZS51cGRhdGVBY3RpdmVJbmRleCgpLGUudXBkYXRlU2xpZGVzQ2xhc3NlcygpO2NvbnN0IHI9ZS5tYXhUcmFuc2xhdGUoKS1lLm1pblRyYW5zbGF0ZSgpO2k9MD09PXI/MDooZS50cmFuc2xhdGUtZS5taW5UcmFuc2xhdGUoKSkvcixpIT09ZS5wcm9ncmVzcyYmZS51cGRhdGVQcm9ncmVzcyhzPy1lLnRyYW5zbGF0ZTplLnRyYW5zbGF0ZSksZS5lbWl0KFwic2V0VHJhbnNsYXRlXCIsZS50cmFuc2xhdGUsITEpfWZ1bmN0aW9uIEsoZSl7Y29uc3QgdD10aGlzO0QodCxlLnRhcmdldCksdC5wYXJhbXMuY3NzTW9kZXx8XCJhdXRvXCIhPT10LnBhcmFtcy5zbGlkZXNQZXJWaWV3JiYhdC5wYXJhbXMuYXV0b0hlaWdodHx8dC51cGRhdGUoKX1mdW5jdGlvbiBaKCl7Y29uc3QgZT10aGlzO2UuZG9jdW1lbnRUb3VjaEhhbmRsZXJQcm9jZWVkZWR8fChlLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkPSEwLGUucGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMmJihlLmVsLnN0eWxlLnRvdWNoQWN0aW9uPVwiYXV0b1wiKSl9Y29uc3QgUT0oZSx0KT0+e2NvbnN0IHM9YSgpLHtwYXJhbXM6aSxlbDpyLHdyYXBwZXJFbDpuLGRldmljZTpsfT1lLG89ISFpLm5lc3RlZCxkPVwib25cIj09PXQ/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsYz10O3ImJlwic3RyaW5nXCIhPXR5cGVvZiByJiYoc1tkXShcInRvdWNoc3RhcnRcIixlLm9uRG9jdW1lbnRUb3VjaFN0YXJ0LHtwYXNzaXZlOiExLGNhcHR1cmU6b30pLHJbZF0oXCJ0b3VjaHN0YXJ0XCIsZS5vblRvdWNoU3RhcnQse3Bhc3NpdmU6ITF9KSxyW2RdKFwicG9pbnRlcmRvd25cIixlLm9uVG91Y2hTdGFydCx7cGFzc2l2ZTohMX0pLHNbZF0oXCJ0b3VjaG1vdmVcIixlLm9uVG91Y2hNb3ZlLHtwYXNzaXZlOiExLGNhcHR1cmU6b30pLHNbZF0oXCJwb2ludGVybW92ZVwiLGUub25Ub3VjaE1vdmUse3Bhc3NpdmU6ITEsY2FwdHVyZTpvfSksc1tkXShcInRvdWNoZW5kXCIsZS5vblRvdWNoRW5kLHtwYXNzaXZlOiEwfSksc1tkXShcInBvaW50ZXJ1cFwiLGUub25Ub3VjaEVuZCx7cGFzc2l2ZTohMH0pLHNbZF0oXCJwb2ludGVyY2FuY2VsXCIsZS5vblRvdWNoRW5kLHtwYXNzaXZlOiEwfSksc1tkXShcInRvdWNoY2FuY2VsXCIsZS5vblRvdWNoRW5kLHtwYXNzaXZlOiEwfSksc1tkXShcInBvaW50ZXJvdXRcIixlLm9uVG91Y2hFbmQse3Bhc3NpdmU6ITB9KSxzW2RdKFwicG9pbnRlcmxlYXZlXCIsZS5vblRvdWNoRW5kLHtwYXNzaXZlOiEwfSksc1tkXShcImNvbnRleHRtZW51XCIsZS5vblRvdWNoRW5kLHtwYXNzaXZlOiEwfSksKGkucHJldmVudENsaWNrc3x8aS5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24pJiZyW2RdKFwiY2xpY2tcIixlLm9uQ2xpY2ssITApLGkuY3NzTW9kZSYmbltkXShcInNjcm9sbFwiLGUub25TY3JvbGwpLGkudXBkYXRlT25XaW5kb3dSZXNpemU/ZVtjXShsLmlvc3x8bC5hbmRyb2lkP1wicmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIG9ic2VydmVyVXBkYXRlXCI6XCJyZXNpemUgb2JzZXJ2ZXJVcGRhdGVcIixXLCEwKTplW2NdKFwib2JzZXJ2ZXJVcGRhdGVcIixXLCEwKSxyW2RdKFwibG9hZFwiLGUub25Mb2FkLHtjYXB0dXJlOiEwfSkpfTtjb25zdCBKPShlLHQpPT5lLmdyaWQmJnQuZ3JpZCYmdC5ncmlkLnJvd3M+MTt2YXIgZWU9e2luaXQ6ITAsZGlyZWN0aW9uOlwiaG9yaXpvbnRhbFwiLG9uZVdheU1vdmVtZW50OiExLHN3aXBlckVsZW1lbnROb2RlTmFtZTpcIlNXSVBFUi1DT05UQUlORVJcIix0b3VjaEV2ZW50c1RhcmdldDpcIndyYXBwZXJcIixpbml0aWFsU2xpZGU6MCxzcGVlZDozMDAsY3NzTW9kZTohMSx1cGRhdGVPbldpbmRvd1Jlc2l6ZTohMCxyZXNpemVPYnNlcnZlcjohMCxuZXN0ZWQ6ITEsY3JlYXRlRWxlbWVudHM6ITEsZXZlbnRzUHJlZml4Olwic3dpcGVyXCIsZW5hYmxlZDohMCxmb2N1c2FibGVFbGVtZW50czpcImlucHV0LCBzZWxlY3QsIG9wdGlvbiwgdGV4dGFyZWEsIGJ1dHRvbiwgdmlkZW8sIGxhYmVsXCIsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246ITEsdXNlckFnZW50Om51bGwsdXJsOm51bGwsZWRnZVN3aXBlRGV0ZWN0aW9uOiExLGVkZ2VTd2lwZVRocmVzaG9sZDoyMCxhdXRvSGVpZ2h0OiExLHNldFdyYXBwZXJTaXplOiExLHZpcnR1YWxUcmFuc2xhdGU6ITEsZWZmZWN0Olwic2xpZGVcIixicmVha3BvaW50czp2b2lkIDAsYnJlYWtwb2ludHNCYXNlOlwid2luZG93XCIsc3BhY2VCZXR3ZWVuOjAsc2xpZGVzUGVyVmlldzoxLHNsaWRlc1Blckdyb3VwOjEsc2xpZGVzUGVyR3JvdXBTa2lwOjAsc2xpZGVzUGVyR3JvdXBBdXRvOiExLGNlbnRlcmVkU2xpZGVzOiExLGNlbnRlcmVkU2xpZGVzQm91bmRzOiExLHNsaWRlc09mZnNldEJlZm9yZTowLHNsaWRlc09mZnNldEFmdGVyOjAsbm9ybWFsaXplU2xpZGVJbmRleDohMCxjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6ITEsd2F0Y2hPdmVyZmxvdzohMCxyb3VuZExlbmd0aHM6ITEsdG91Y2hSYXRpbzoxLHRvdWNoQW5nbGU6NDUsc2ltdWxhdGVUb3VjaDohMCxzaG9ydFN3aXBlczohMCxsb25nU3dpcGVzOiEwLGxvbmdTd2lwZXNSYXRpbzouNSxsb25nU3dpcGVzTXM6MzAwLGZvbGxvd0ZpbmdlcjohMCxhbGxvd1RvdWNoTW92ZTohMCx0aHJlc2hvbGQ6NSx0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb246ITEsdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiEwLHRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0OiExLHRvdWNoUmVsZWFzZU9uRWRnZXM6ITEsdW5pcXVlTmF2RWxlbWVudHM6ITAscmVzaXN0YW5jZTohMCxyZXNpc3RhbmNlUmF0aW86Ljg1LHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ITEsZ3JhYkN1cnNvcjohMSxwcmV2ZW50Q2xpY2tzOiEwLHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExLGxvb3A6ITEsbG9vcEFkZEJsYW5rU2xpZGVzOiEwLGxvb3BBZGRpdGlvbmFsU2xpZGVzOjAsbG9vcFByZXZlbnRzU2xpZGluZzohMCxyZXdpbmQ6ITEsYWxsb3dTbGlkZVByZXY6ITAsYWxsb3dTbGlkZU5leHQ6ITAsc3dpcGVIYW5kbGVyOm51bGwsbm9Td2lwaW5nOiEwLG5vU3dpcGluZ0NsYXNzOlwic3dpcGVyLW5vLXN3aXBpbmdcIixub1N3aXBpbmdTZWxlY3RvcjpudWxsLHBhc3NpdmVMaXN0ZW5lcnM6ITAsbWF4QmFja2ZhY2VIaWRkZW5TbGlkZXM6MTAsY29udGFpbmVyTW9kaWZpZXJDbGFzczpcInN3aXBlci1cIixzbGlkZUNsYXNzOlwic3dpcGVyLXNsaWRlXCIsc2xpZGVCbGFua0NsYXNzOlwic3dpcGVyLXNsaWRlLWJsYW5rXCIsc2xpZGVBY3RpdmVDbGFzczpcInN3aXBlci1zbGlkZS1hY3RpdmVcIixzbGlkZVZpc2libGVDbGFzczpcInN3aXBlci1zbGlkZS12aXNpYmxlXCIsc2xpZGVGdWxseVZpc2libGVDbGFzczpcInN3aXBlci1zbGlkZS1mdWxseS12aXNpYmxlXCIsc2xpZGVOZXh0Q2xhc3M6XCJzd2lwZXItc2xpZGUtbmV4dFwiLHNsaWRlUHJldkNsYXNzOlwic3dpcGVyLXNsaWRlLXByZXZcIix3cmFwcGVyQ2xhc3M6XCJzd2lwZXItd3JhcHBlclwiLGxhenlQcmVsb2FkZXJDbGFzczpcInN3aXBlci1sYXp5LXByZWxvYWRlclwiLGxhenlQcmVsb2FkUHJldk5leHQ6MCxydW5DYWxsYmFja3NPbkluaXQ6ITAsX2VtaXRDbGFzc2VzOiExfTtmdW5jdGlvbiB0ZShlLHQpe3JldHVybiBmdW5jdGlvbihzKXt2b2lkIDA9PT1zJiYocz17fSk7Y29uc3QgYT1PYmplY3Qua2V5cyhzKVswXSxpPXNbYV07XCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pPyghMD09PWVbYV0mJihlW2FdPXtlbmFibGVkOiEwfSksXCJuYXZpZ2F0aW9uXCI9PT1hJiZlW2FdJiZlW2FdLmVuYWJsZWQmJiFlW2FdLnByZXZFbCYmIWVbYV0ubmV4dEVsJiYoZVthXS5hdXRvPSEwKSxbXCJwYWdpbmF0aW9uXCIsXCJzY3JvbGxiYXJcIl0uaW5kZXhPZihhKT49MCYmZVthXSYmZVthXS5lbmFibGVkJiYhZVthXS5lbCYmKGVbYV0uYXV0bz0hMCksYSBpbiBlJiZcImVuYWJsZWRcImluIGk/KFwib2JqZWN0XCIhPXR5cGVvZiBlW2FdfHxcImVuYWJsZWRcImluIGVbYV18fChlW2FdLmVuYWJsZWQ9ITApLGVbYV18fChlW2FdPXtlbmFibGVkOiExfSkscCh0LHMpKTpwKHQscykpOnAodCxzKX19Y29uc3Qgc2U9e2V2ZW50c0VtaXR0ZXI6JCx1cGRhdGU6Qix0cmFuc2xhdGU6Tix0cmFuc2l0aW9uOntzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgcz10aGlzO3MucGFyYW1zLmNzc01vZGV8fChzLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7ZX1tc2Ascy53cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkRlbGF5PTA9PT1lP1wiMG1zXCI6XCJcIikscy5lbWl0KFwic2V0VHJhbnNpdGlvblwiLGUsdCl9LHRyYW5zaXRpb25TdGFydDpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPSEwKTtjb25zdCBzPXRoaXMse3BhcmFtczphfT1zO2EuY3NzTW9kZXx8KGEuYXV0b0hlaWdodCYmcy51cGRhdGVBdXRvSGVpZ2h0KCksWCh7c3dpcGVyOnMscnVuQ2FsbGJhY2tzOmUsZGlyZWN0aW9uOnQsc3RlcDpcIlN0YXJ0XCJ9KSl9LHRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1lJiYoZT0hMCk7Y29uc3Qgcz10aGlzLHtwYXJhbXM6YX09cztzLmFuaW1hdGluZz0hMSxhLmNzc01vZGV8fChzLnNldFRyYW5zaXRpb24oMCksWCh7c3dpcGVyOnMscnVuQ2FsbGJhY2tzOmUsZGlyZWN0aW9uOnQsc3RlcDpcIkVuZFwifSkpfX0sc2xpZGU6WSxsb29wOlIsZ3JhYkN1cnNvcjp7c2V0R3JhYkN1cnNvcjpmdW5jdGlvbihlKXtjb25zdCB0PXRoaXM7aWYoIXQucGFyYW1zLnNpbXVsYXRlVG91Y2h8fHQucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnQuaXNMb2NrZWR8fHQucGFyYW1zLmNzc01vZGUpcmV0dXJuO2NvbnN0IHM9XCJjb250YWluZXJcIj09PXQucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0P3QuZWw6dC53cmFwcGVyRWw7dC5pc0VsZW1lbnQmJih0Ll9fcHJldmVudE9ic2VydmVyX189ITApLHMuc3R5bGUuY3Vyc29yPVwibW92ZVwiLHMuc3R5bGUuY3Vyc29yPWU/XCJncmFiYmluZ1wiOlwiZ3JhYlwiLHQuaXNFbGVtZW50JiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57dC5fX3ByZXZlbnRPYnNlcnZlcl9fPSExfSkpfSx1bnNldEdyYWJDdXJzb3I6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7ZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5pc0xvY2tlZHx8ZS5wYXJhbXMuY3NzTW9kZXx8KGUuaXNFbGVtZW50JiYoZS5fX3ByZXZlbnRPYnNlcnZlcl9fPSEwKSxlW1wiY29udGFpbmVyXCI9PT1lLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldD9cImVsXCI6XCJ3cmFwcGVyRWxcIl0uc3R5bGUuY3Vyc29yPVwiXCIsZS5pc0VsZW1lbnQmJnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntlLl9fcHJldmVudE9ic2VydmVyX189ITF9KSkpfX0sZXZlbnRzOnthdHRhY2hFdmVudHM6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse3BhcmFtczp0fT1lO2Uub25Ub3VjaFN0YXJ0PVYuYmluZChlKSxlLm9uVG91Y2hNb3ZlPXEuYmluZChlKSxlLm9uVG91Y2hFbmQ9Xy5iaW5kKGUpLGUub25Eb2N1bWVudFRvdWNoU3RhcnQ9Wi5iaW5kKGUpLHQuY3NzTW9kZSYmKGUub25TY3JvbGw9VS5iaW5kKGUpKSxlLm9uQ2xpY2s9ai5iaW5kKGUpLGUub25Mb2FkPUsuYmluZChlKSxRKGUsXCJvblwiKX0sZGV0YWNoRXZlbnRzOmZ1bmN0aW9uKCl7USh0aGlzLFwib2ZmXCIpfX0sYnJlYWtwb2ludHM6e3NldEJyZWFrcG9pbnQ6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse3JlYWxJbmRleDp0LGluaXRpYWxpemVkOnMscGFyYW1zOmEsZWw6aX09ZSxyPWEuYnJlYWtwb2ludHM7aWYoIXJ8fHImJjA9PT1PYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuO2NvbnN0IG49ZS5nZXRCcmVha3BvaW50KHIsZS5wYXJhbXMuYnJlYWtwb2ludHNCYXNlLGUuZWwpO2lmKCFufHxlLmN1cnJlbnRCcmVha3BvaW50PT09bilyZXR1cm47Y29uc3QgbD0obiBpbiByP3Jbbl06dm9pZCAwKXx8ZS5vcmlnaW5hbFBhcmFtcyxvPUooZSxhKSxkPUooZSxsKSxjPWUucGFyYW1zLmdyYWJDdXJzb3IsdT1sLmdyYWJDdXJzb3IsbT1hLmVuYWJsZWQ7byYmIWQ/KGkuY2xhc3NMaXN0LnJlbW92ZShgJHthLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGAsYCR7YS5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCksZS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpKTohbyYmZCYmKGkuY2xhc3NMaXN0LmFkZChgJHthLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGApLChsLmdyaWQuZmlsbCYmXCJjb2x1bW5cIj09PWwuZ3JpZC5maWxsfHwhbC5ncmlkLmZpbGwmJlwiY29sdW1uXCI9PT1hLmdyaWQuZmlsbCkmJmkuY2xhc3NMaXN0LmFkZChgJHthLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKSxlLmVtaXRDb250YWluZXJDbGFzc2VzKCkpLGMmJiF1P2UudW5zZXRHcmFiQ3Vyc29yKCk6IWMmJnUmJmUuc2V0R3JhYkN1cnNvcigpLFtcIm5hdmlnYXRpb25cIixcInBhZ2luYXRpb25cIixcInNjcm9sbGJhclwiXS5mb3JFYWNoKCh0PT57aWYodm9pZCAwPT09bFt0XSlyZXR1cm47Y29uc3Qgcz1hW3RdJiZhW3RdLmVuYWJsZWQsaT1sW3RdJiZsW3RdLmVuYWJsZWQ7cyYmIWkmJmVbdF0uZGlzYWJsZSgpLCFzJiZpJiZlW3RdLmVuYWJsZSgpfSkpO2NvbnN0IGg9bC5kaXJlY3Rpb24mJmwuZGlyZWN0aW9uIT09YS5kaXJlY3Rpb24sZj1hLmxvb3AmJihsLnNsaWRlc1BlclZpZXchPT1hLnNsaWRlc1BlclZpZXd8fGgpLGc9YS5sb29wO2gmJnMmJmUuY2hhbmdlRGlyZWN0aW9uKCkscChlLnBhcmFtcyxsKTtjb25zdCB2PWUucGFyYW1zLmVuYWJsZWQsdz1lLnBhcmFtcy5sb29wO09iamVjdC5hc3NpZ24oZSx7YWxsb3dUb3VjaE1vdmU6ZS5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsYWxsb3dTbGlkZU5leHQ6ZS5wYXJhbXMuYWxsb3dTbGlkZU5leHQsYWxsb3dTbGlkZVByZXY6ZS5wYXJhbXMuYWxsb3dTbGlkZVByZXZ9KSxtJiYhdj9lLmRpc2FibGUoKTohbSYmdiYmZS5lbmFibGUoKSxlLmN1cnJlbnRCcmVha3BvaW50PW4sZS5lbWl0KFwiX2JlZm9yZUJyZWFrcG9pbnRcIixsKSxzJiYoZj8oZS5sb29wRGVzdHJveSgpLGUubG9vcENyZWF0ZSh0KSxlLnVwZGF0ZVNsaWRlcygpKTohZyYmdz8oZS5sb29wQ3JlYXRlKHQpLGUudXBkYXRlU2xpZGVzKCkpOmcmJiF3JiZlLmxvb3BEZXN0cm95KCkpLGUuZW1pdChcImJyZWFrcG9pbnRcIixsKX0sZ2V0QnJlYWtwb2ludDpmdW5jdGlvbihlLHQscyl7aWYodm9pZCAwPT09dCYmKHQ9XCJ3aW5kb3dcIiksIWV8fFwiY29udGFpbmVyXCI9PT10JiYhcylyZXR1cm47bGV0IGE9ITE7Y29uc3QgaT1yKCksbj1cIndpbmRvd1wiPT09dD9pLmlubmVySGVpZ2h0OnMuY2xpZW50SGVpZ2h0LGw9T2JqZWN0LmtleXMoZSkubWFwKChlPT57aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJjA9PT1lLmluZGV4T2YoXCJAXCIpKXtjb25zdCB0PXBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpO3JldHVybnt2YWx1ZTpuKnQscG9pbnQ6ZX19cmV0dXJue3ZhbHVlOmUscG9pbnQ6ZX19KSk7bC5zb3J0KCgoZSx0KT0+cGFyc2VJbnQoZS52YWx1ZSwxMCktcGFyc2VJbnQodC52YWx1ZSwxMCkpKTtmb3IobGV0IGU9MDtlPGwubGVuZ3RoO2UrPTEpe2NvbnN0e3BvaW50OnIsdmFsdWU6bn09bFtlXTtcIndpbmRvd1wiPT09dD9pLm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7bn1weClgKS5tYXRjaGVzJiYoYT1yKTpuPD1zLmNsaWVudFdpZHRoJiYoYT1yKX1yZXR1cm4gYXx8XCJtYXhcIn19LGNoZWNrT3ZlcmZsb3c6e2NoZWNrT3ZlcmZsb3c6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse2lzTG9ja2VkOnQscGFyYW1zOnN9PWUse3NsaWRlc09mZnNldEJlZm9yZTphfT1zO2lmKGEpe2NvbnN0IHQ9ZS5zbGlkZXMubGVuZ3RoLTEscz1lLnNsaWRlc0dyaWRbdF0rZS5zbGlkZXNTaXplc0dyaWRbdF0rMiphO2UuaXNMb2NrZWQ9ZS5zaXplPnN9ZWxzZSBlLmlzTG9ja2VkPTE9PT1lLnNuYXBHcmlkLmxlbmd0aDshMD09PXMuYWxsb3dTbGlkZU5leHQmJihlLmFsbG93U2xpZGVOZXh0PSFlLmlzTG9ja2VkKSwhMD09PXMuYWxsb3dTbGlkZVByZXYmJihlLmFsbG93U2xpZGVQcmV2PSFlLmlzTG9ja2VkKSx0JiZ0IT09ZS5pc0xvY2tlZCYmKGUuaXNFbmQ9ITEpLHQhPT1lLmlzTG9ja2VkJiZlLmVtaXQoZS5pc0xvY2tlZD9cImxvY2tcIjpcInVubG9ja1wiKX19LGNsYXNzZXM6e2FkZENsYXNzZXM6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse2NsYXNzTmFtZXM6dCxwYXJhbXM6cyxydGw6YSxlbDppLGRldmljZTpyfT1lLG49ZnVuY3Rpb24oZSx0KXtjb25zdCBzPVtdO3JldHVybiBlLmZvckVhY2goKGU9PntcIm9iamVjdFwiPT10eXBlb2YgZT9PYmplY3Qua2V5cyhlKS5mb3JFYWNoKChhPT57ZVthXSYmcy5wdXNoKHQrYSl9KSk6XCJzdHJpbmdcIj09dHlwZW9mIGUmJnMucHVzaCh0K2UpfSkpLHN9KFtcImluaXRpYWxpemVkXCIscy5kaXJlY3Rpb24se1wiZnJlZS1tb2RlXCI6ZS5wYXJhbXMuZnJlZU1vZGUmJnMuZnJlZU1vZGUuZW5hYmxlZH0se2F1dG9oZWlnaHQ6cy5hdXRvSGVpZ2h0fSx7cnRsOmF9LHtncmlkOnMuZ3JpZCYmcy5ncmlkLnJvd3M+MX0se1wiZ3JpZC1jb2x1bW5cIjpzLmdyaWQmJnMuZ3JpZC5yb3dzPjEmJlwiY29sdW1uXCI9PT1zLmdyaWQuZmlsbH0se2FuZHJvaWQ6ci5hbmRyb2lkfSx7aW9zOnIuaW9zfSx7XCJjc3MtbW9kZVwiOnMuY3NzTW9kZX0se2NlbnRlcmVkOnMuY3NzTW9kZSYmcy5jZW50ZXJlZFNsaWRlc30se1wid2F0Y2gtcHJvZ3Jlc3NcIjpzLndhdGNoU2xpZGVzUHJvZ3Jlc3N9XSxzLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpO3QucHVzaCguLi5uKSxpLmNsYXNzTGlzdC5hZGQoLi4udCksZS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpfSxyZW1vdmVDbGFzc2VzOmZ1bmN0aW9uKCl7Y29uc3R7ZWw6ZSxjbGFzc05hbWVzOnR9PXRoaXM7ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlLmNsYXNzTGlzdC5yZW1vdmUoLi4udCksdGhpcy5lbWl0Q29udGFpbmVyQ2xhc3NlcygpKX19fSxhZT17fTtjbGFzcyBpZXtjb25zdHJ1Y3Rvcigpe2xldCBlLHQ7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkocykscj0wO3I8cztyKyspaVtyXT1hcmd1bWVudHNbcl07MT09PWkubGVuZ3RoJiZpWzBdLmNvbnN0cnVjdG9yJiZcIk9iamVjdFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlbMF0pLnNsaWNlKDgsLTEpP3Q9aVswXTpbZSx0XT1pLHR8fCh0PXt9KSx0PXAoe30sdCksZSYmIXQuZWwmJih0LmVsPWUpO2NvbnN0IG49YSgpO2lmKHQuZWwmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmVsJiZuLnF1ZXJ5U2VsZWN0b3JBbGwodC5lbCkubGVuZ3RoPjEpe2NvbnN0IGU9W107cmV0dXJuIG4ucXVlcnlTZWxlY3RvckFsbCh0LmVsKS5mb3JFYWNoKChzPT57Y29uc3QgYT1wKHt9LHQse2VsOnN9KTtlLnB1c2gobmV3IGllKGEpKX0pKSxlfWNvbnN0IGw9dGhpcztsLl9fc3dpcGVyX189ITAsbC5zdXBwb3J0PUkoKSxsLmRldmljZT16KHt1c2VyQWdlbnQ6dC51c2VyQWdlbnR9KSxsLmJyb3dzZXI9QSgpLGwuZXZlbnRzTGlzdGVuZXJzPXt9LGwuZXZlbnRzQW55TGlzdGVuZXJzPVtdLGwubW9kdWxlcz1bLi4ubC5fX21vZHVsZXNfX10sdC5tb2R1bGVzJiZBcnJheS5pc0FycmF5KHQubW9kdWxlcykmJmwubW9kdWxlcy5wdXNoKC4uLnQubW9kdWxlcyk7Y29uc3Qgbz17fTtsLm1vZHVsZXMuZm9yRWFjaCgoZT0+e2Uoe3BhcmFtczp0LHN3aXBlcjpsLGV4dGVuZFBhcmFtczp0ZSh0LG8pLG9uOmwub24uYmluZChsKSxvbmNlOmwub25jZS5iaW5kKGwpLG9mZjpsLm9mZi5iaW5kKGwpLGVtaXQ6bC5lbWl0LmJpbmQobCl9KX0pKTtjb25zdCBkPXAoe30sZWUsbyk7cmV0dXJuIGwucGFyYW1zPXAoe30sZCxhZSx0KSxsLm9yaWdpbmFsUGFyYW1zPXAoe30sbC5wYXJhbXMpLGwucGFzc2VkUGFyYW1zPXAoe30sdCksbC5wYXJhbXMmJmwucGFyYW1zLm9uJiZPYmplY3Qua2V5cyhsLnBhcmFtcy5vbikuZm9yRWFjaCgoZT0+e2wub24oZSxsLnBhcmFtcy5vbltlXSl9KSksbC5wYXJhbXMmJmwucGFyYW1zLm9uQW55JiZsLm9uQW55KGwucGFyYW1zLm9uQW55KSxPYmplY3QuYXNzaWduKGwse2VuYWJsZWQ6bC5wYXJhbXMuZW5hYmxlZCxlbDplLGNsYXNzTmFtZXM6W10sc2xpZGVzOltdLHNsaWRlc0dyaWQ6W10sc25hcEdyaWQ6W10sc2xpZGVzU2l6ZXNHcmlkOltdLGlzSG9yaXpvbnRhbDooKT0+XCJob3Jpem9udGFsXCI9PT1sLnBhcmFtcy5kaXJlY3Rpb24saXNWZXJ0aWNhbDooKT0+XCJ2ZXJ0aWNhbFwiPT09bC5wYXJhbXMuZGlyZWN0aW9uLGFjdGl2ZUluZGV4OjAscmVhbEluZGV4OjAsaXNCZWdpbm5pbmc6ITAsaXNFbmQ6ITEsdHJhbnNsYXRlOjAscHJldmlvdXNUcmFuc2xhdGU6MCxwcm9ncmVzczowLHZlbG9jaXR5OjAsYW5pbWF0aW5nOiExLGNzc092ZXJmbG93QWRqdXN0bWVudCgpe3JldHVybiBNYXRoLnRydW5jKHRoaXMudHJhbnNsYXRlLzIqKjIzKSoyKioyM30sYWxsb3dTbGlkZU5leHQ6bC5wYXJhbXMuYWxsb3dTbGlkZU5leHQsYWxsb3dTbGlkZVByZXY6bC5wYXJhbXMuYWxsb3dTbGlkZVByZXYsdG91Y2hFdmVudHNEYXRhOntpc1RvdWNoZWQ6dm9pZCAwLGlzTW92ZWQ6dm9pZCAwLGFsbG93VG91Y2hDYWxsYmFja3M6dm9pZCAwLHRvdWNoU3RhcnRUaW1lOnZvaWQgMCxpc1Njcm9sbGluZzp2b2lkIDAsY3VycmVudFRyYW5zbGF0ZTp2b2lkIDAsc3RhcnRUcmFuc2xhdGU6dm9pZCAwLGFsbG93VGhyZXNob2xkTW92ZTp2b2lkIDAsZm9jdXNhYmxlRWxlbWVudHM6bC5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsbGFzdENsaWNrVGltZTowLGNsaWNrVGltZW91dDp2b2lkIDAsdmVsb2NpdGllczpbXSxhbGxvd01vbWVudHVtQm91bmNlOnZvaWQgMCxzdGFydE1vdmluZzp2b2lkIDAscG9pbnRlcklkOm51bGwsdG91Y2hJZDpudWxsfSxhbGxvd0NsaWNrOiEwLGFsbG93VG91Y2hNb3ZlOmwucGFyYW1zLmFsbG93VG91Y2hNb3ZlLHRvdWNoZXM6e3N0YXJ0WDowLHN0YXJ0WTowLGN1cnJlbnRYOjAsY3VycmVudFk6MCxkaWZmOjB9LGltYWdlc1RvTG9hZDpbXSxpbWFnZXNMb2FkZWQ6MH0pLGwuZW1pdChcIl9zd2lwZXJcIiksbC5wYXJhbXMuaW5pdCYmbC5pbml0KCksbH1nZXREaXJlY3Rpb25MYWJlbChlKXtyZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKT9lOnt3aWR0aDpcImhlaWdodFwiLFwibWFyZ2luLXRvcFwiOlwibWFyZ2luLWxlZnRcIixcIm1hcmdpbi1ib3R0b20gXCI6XCJtYXJnaW4tcmlnaHRcIixcIm1hcmdpbi1sZWZ0XCI6XCJtYXJnaW4tdG9wXCIsXCJtYXJnaW4tcmlnaHRcIjpcIm1hcmdpbi1ib3R0b21cIixcInBhZGRpbmctbGVmdFwiOlwicGFkZGluZy10b3BcIixcInBhZGRpbmctcmlnaHRcIjpcInBhZGRpbmctYm90dG9tXCIsbWFyZ2luUmlnaHQ6XCJtYXJnaW5Cb3R0b21cIn1bZV19Z2V0U2xpZGVJbmRleChlKXtjb25zdHtzbGlkZXNFbDp0LHBhcmFtczpzfT10aGlzLGE9eShmKHQsYC4ke3Muc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdKTtyZXR1cm4geShlKS1hfWdldFNsaWRlSW5kZXhCeURhdGEoZSl7cmV0dXJuIHRoaXMuZ2V0U2xpZGVJbmRleCh0aGlzLnNsaWRlcy5maWx0ZXIoKHQ9PjEqdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKT09PWUpKVswXSl9cmVjYWxjU2xpZGVzKCl7Y29uc3R7c2xpZGVzRWw6ZSxwYXJhbXM6dH09dGhpczt0aGlzLnNsaWRlcz1mKGUsYC4ke3Quc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApfWVuYWJsZSgpe2NvbnN0IGU9dGhpcztlLmVuYWJsZWR8fChlLmVuYWJsZWQ9ITAsZS5wYXJhbXMuZ3JhYkN1cnNvciYmZS5zZXRHcmFiQ3Vyc29yKCksZS5lbWl0KFwiZW5hYmxlXCIpKX1kaXNhYmxlKCl7Y29uc3QgZT10aGlzO2UuZW5hYmxlZCYmKGUuZW5hYmxlZD0hMSxlLnBhcmFtcy5ncmFiQ3Vyc29yJiZlLnVuc2V0R3JhYkN1cnNvcigpLGUuZW1pdChcImRpc2FibGVcIikpfXNldFByb2dyZXNzKGUsdCl7Y29uc3Qgcz10aGlzO2U9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTtjb25zdCBhPXMubWluVHJhbnNsYXRlKCksaT0ocy5tYXhUcmFuc2xhdGUoKS1hKSplK2E7cy50cmFuc2xhdGVUbyhpLHZvaWQgMD09PXQ/MDp0KSxzLnVwZGF0ZUFjdGl2ZUluZGV4KCkscy51cGRhdGVTbGlkZXNDbGFzc2VzKCl9ZW1pdENvbnRhaW5lckNsYXNzZXMoKXtjb25zdCBlPXRoaXM7aWYoIWUucGFyYW1zLl9lbWl0Q2xhc3Nlc3x8IWUuZWwpcmV0dXJuO2NvbnN0IHQ9ZS5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigodD0+MD09PXQuaW5kZXhPZihcInN3aXBlclwiKXx8MD09PXQuaW5kZXhPZihlLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSkpO2UuZW1pdChcIl9jb250YWluZXJDbGFzc2VzXCIsdC5qb2luKFwiIFwiKSl9Z2V0U2xpZGVDbGFzc2VzKGUpe2NvbnN0IHQ9dGhpcztyZXR1cm4gdC5kZXN0cm95ZWQ/XCJcIjplLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuZmlsdGVyKChlPT4wPT09ZS5pbmRleE9mKFwic3dpcGVyLXNsaWRlXCIpfHwwPT09ZS5pbmRleE9mKHQucGFyYW1zLnNsaWRlQ2xhc3MpKSkuam9pbihcIiBcIil9ZW1pdFNsaWRlc0NsYXNzZXMoKXtjb25zdCBlPXRoaXM7aWYoIWUucGFyYW1zLl9lbWl0Q2xhc3Nlc3x8IWUuZWwpcmV0dXJuO2NvbnN0IHQ9W107ZS5zbGlkZXMuZm9yRWFjaCgocz0+e2NvbnN0IGE9ZS5nZXRTbGlkZUNsYXNzZXMocyk7dC5wdXNoKHtzbGlkZUVsOnMsY2xhc3NOYW1lczphfSksZS5lbWl0KFwiX3NsaWRlQ2xhc3NcIixzLGEpfSkpLGUuZW1pdChcIl9zbGlkZUNsYXNzZXNcIix0KX1zbGlkZXNQZXJWaWV3RHluYW1pYyhlLHQpe3ZvaWQgMD09PWUmJihlPVwiY3VycmVudFwiKSx2b2lkIDA9PT10JiYodD0hMSk7Y29uc3R7cGFyYW1zOnMsc2xpZGVzOmEsc2xpZGVzR3JpZDppLHNsaWRlc1NpemVzR3JpZDpyLHNpemU6bixhY3RpdmVJbmRleDpsfT10aGlzO2xldCBvPTE7aWYoXCJudW1iZXJcIj09dHlwZW9mIHMuc2xpZGVzUGVyVmlldylyZXR1cm4gcy5zbGlkZXNQZXJWaWV3O2lmKHMuY2VudGVyZWRTbGlkZXMpe2xldCBlLHQ9YVtsXT9NYXRoLmNlaWwoYVtsXS5zd2lwZXJTbGlkZVNpemUpOjA7Zm9yKGxldCBzPWwrMTtzPGEubGVuZ3RoO3MrPTEpYVtzXSYmIWUmJih0Kz1NYXRoLmNlaWwoYVtzXS5zd2lwZXJTbGlkZVNpemUpLG8rPTEsdD5uJiYoZT0hMCkpO2ZvcihsZXQgcz1sLTE7cz49MDtzLT0xKWFbc10mJiFlJiYodCs9YVtzXS5zd2lwZXJTbGlkZVNpemUsbys9MSx0Pm4mJihlPSEwKSl9ZWxzZSBpZihcImN1cnJlbnRcIj09PWUpZm9yKGxldCBlPWwrMTtlPGEubGVuZ3RoO2UrPTEpeyh0P2lbZV0rcltlXS1pW2xdPG46aVtlXS1pW2xdPG4pJiYobys9MSl9ZWxzZSBmb3IobGV0IGU9bC0xO2U+PTA7ZS09MSl7aVtsXS1pW2VdPG4mJihvKz0xKX1yZXR1cm4gb311cGRhdGUoKXtjb25zdCBlPXRoaXM7aWYoIWV8fGUuZGVzdHJveWVkKXJldHVybjtjb25zdHtzbmFwR3JpZDp0LHBhcmFtczpzfT1lO2Z1bmN0aW9uIGEoKXtjb25zdCB0PWUucnRsVHJhbnNsYXRlPy0xKmUudHJhbnNsYXRlOmUudHJhbnNsYXRlLHM9TWF0aC5taW4oTWF0aC5tYXgodCxlLm1heFRyYW5zbGF0ZSgpKSxlLm1pblRyYW5zbGF0ZSgpKTtlLnNldFRyYW5zbGF0ZShzKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9bGV0IGk7aWYocy5icmVha3BvaW50cyYmZS5zZXRCcmVha3BvaW50KCksWy4uLmUuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldLmZvckVhY2goKHQ9Pnt0LmNvbXBsZXRlJiZEKGUsdCl9KSksZS51cGRhdGVTaXplKCksZS51cGRhdGVTbGlkZXMoKSxlLnVwZGF0ZVByb2dyZXNzKCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCkscy5mcmVlTW9kZSYmcy5mcmVlTW9kZS5lbmFibGVkJiYhcy5jc3NNb2RlKWEoKSxzLmF1dG9IZWlnaHQmJmUudXBkYXRlQXV0b0hlaWdodCgpO2Vsc2V7aWYoKFwiYXV0b1wiPT09cy5zbGlkZXNQZXJWaWV3fHxzLnNsaWRlc1BlclZpZXc+MSkmJmUuaXNFbmQmJiFzLmNlbnRlcmVkU2xpZGVzKXtjb25zdCB0PWUudmlydHVhbCYmcy52aXJ0dWFsLmVuYWJsZWQ/ZS52aXJ0dWFsLnNsaWRlczplLnNsaWRlcztpPWUuc2xpZGVUbyh0Lmxlbmd0aC0xLDAsITEsITApfWVsc2UgaT1lLnNsaWRlVG8oZS5hY3RpdmVJbmRleCwwLCExLCEwKTtpfHxhKCl9cy53YXRjaE92ZXJmbG93JiZ0IT09ZS5zbmFwR3JpZCYmZS5jaGVja092ZXJmbG93KCksZS5lbWl0KFwidXBkYXRlXCIpfWNoYW5nZURpcmVjdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSEwKTtjb25zdCBzPXRoaXMsYT1zLnBhcmFtcy5kaXJlY3Rpb247cmV0dXJuIGV8fChlPVwiaG9yaXpvbnRhbFwiPT09YT9cInZlcnRpY2FsXCI6XCJob3Jpem9udGFsXCIpLGU9PT1hfHxcImhvcml6b250YWxcIiE9PWUmJlwidmVydGljYWxcIiE9PWV8fChzLmVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7cy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2F9YCkscy5lbC5jbGFzc0xpc3QuYWRkKGAke3MucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtlfWApLHMuZW1pdENvbnRhaW5lckNsYXNzZXMoKSxzLnBhcmFtcy5kaXJlY3Rpb249ZSxzLnNsaWRlcy5mb3JFYWNoKCh0PT57XCJ2ZXJ0aWNhbFwiPT09ZT90LnN0eWxlLndpZHRoPVwiXCI6dC5zdHlsZS5oZWlnaHQ9XCJcIn0pKSxzLmVtaXQoXCJjaGFuZ2VEaXJlY3Rpb25cIiksdCYmcy51cGRhdGUoKSksc31jaGFuZ2VMYW5ndWFnZURpcmVjdGlvbihlKXtjb25zdCB0PXRoaXM7dC5ydGwmJlwicnRsXCI9PT1lfHwhdC5ydGwmJlwibHRyXCI9PT1lfHwodC5ydGw9XCJydGxcIj09PWUsdC5ydGxUcmFuc2xhdGU9XCJob3Jpem9udGFsXCI9PT10LnBhcmFtcy5kaXJlY3Rpb24mJnQucnRsLHQucnRsPyh0LmVsLmNsYXNzTGlzdC5hZGQoYCR7dC5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKSx0LmVsLmRpcj1cInJ0bFwiKToodC5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3QucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCksdC5lbC5kaXI9XCJsdHJcIiksdC51cGRhdGUoKSl9bW91bnQoZSl7Y29uc3QgdD10aGlzO2lmKHQubW91bnRlZClyZXR1cm4hMDtsZXQgcz1lfHx0LnBhcmFtcy5lbDtpZihcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKSksIXMpcmV0dXJuITE7cy5zd2lwZXI9dCxzLnBhcmVudE5vZGUmJnMucGFyZW50Tm9kZS5ob3N0JiZzLnBhcmVudE5vZGUuaG9zdC5ub2RlTmFtZT09PXQucGFyYW1zLnN3aXBlckVsZW1lbnROb2RlTmFtZS50b1VwcGVyQ2FzZSgpJiYodC5pc0VsZW1lbnQ9ITApO2NvbnN0IGE9KCk9PmAuJHsodC5wYXJhbXMud3JhcHBlckNsYXNzfHxcIlwiKS50cmltKCkuc3BsaXQoXCIgXCIpLmpvaW4oXCIuXCIpfWA7bGV0IGk9KCgpPT57aWYocyYmcy5zaGFkb3dSb290JiZzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcil7cmV0dXJuIHMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGEoKSl9cmV0dXJuIGYocyxhKCkpWzBdfSkoKTtyZXR1cm4haSYmdC5wYXJhbXMuY3JlYXRlRWxlbWVudHMmJihpPXYoXCJkaXZcIix0LnBhcmFtcy53cmFwcGVyQ2xhc3MpLHMuYXBwZW5kKGkpLGYocyxgLiR7dC5wYXJhbXMuc2xpZGVDbGFzc31gKS5mb3JFYWNoKChlPT57aS5hcHBlbmQoZSl9KSkpLE9iamVjdC5hc3NpZ24odCx7ZWw6cyx3cmFwcGVyRWw6aSxzbGlkZXNFbDp0LmlzRWxlbWVudCYmIXMucGFyZW50Tm9kZS5ob3N0LnNsaWRlU2xvdHM/cy5wYXJlbnROb2RlLmhvc3Q6aSxob3N0RWw6dC5pc0VsZW1lbnQ/cy5wYXJlbnROb2RlLmhvc3Q6cyxtb3VudGVkOiEwLHJ0bDpcInJ0bFwiPT09cy5kaXIudG9Mb3dlckNhc2UoKXx8XCJydGxcIj09PWIocyxcImRpcmVjdGlvblwiKSxydGxUcmFuc2xhdGU6XCJob3Jpem9udGFsXCI9PT10LnBhcmFtcy5kaXJlY3Rpb24mJihcInJ0bFwiPT09cy5kaXIudG9Mb3dlckNhc2UoKXx8XCJydGxcIj09PWIocyxcImRpcmVjdGlvblwiKSksd3JvbmdSVEw6XCItd2Via2l0LWJveFwiPT09YihpLFwiZGlzcGxheVwiKX0pLCEwfWluaXQoZSl7Y29uc3QgdD10aGlzO2lmKHQuaW5pdGlhbGl6ZWQpcmV0dXJuIHQ7aWYoITE9PT10Lm1vdW50KGUpKXJldHVybiB0O3QuZW1pdChcImJlZm9yZUluaXRcIiksdC5wYXJhbXMuYnJlYWtwb2ludHMmJnQuc2V0QnJlYWtwb2ludCgpLHQuYWRkQ2xhc3NlcygpLHQudXBkYXRlU2l6ZSgpLHQudXBkYXRlU2xpZGVzKCksdC5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmdC5jaGVja092ZXJmbG93KCksdC5wYXJhbXMuZ3JhYkN1cnNvciYmdC5lbmFibGVkJiZ0LnNldEdyYWJDdXJzb3IoKSx0LnBhcmFtcy5sb29wJiZ0LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD90LnNsaWRlVG8odC5wYXJhbXMuaW5pdGlhbFNsaWRlK3QudmlydHVhbC5zbGlkZXNCZWZvcmUsMCx0LnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsITEsITApOnQuc2xpZGVUbyh0LnBhcmFtcy5pbml0aWFsU2xpZGUsMCx0LnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsITEsITApLHQucGFyYW1zLmxvb3AmJnQubG9vcENyZWF0ZSgpLHQuYXR0YWNoRXZlbnRzKCk7Y29uc3Qgcz1bLi4udC5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKV07cmV0dXJuIHQuaXNFbGVtZW50JiZzLnB1c2goLi4udC5ob3N0RWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJykpLHMuZm9yRWFjaCgoZT0+e2UuY29tcGxldGU/RCh0LGUpOmUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoZT0+e0QodCxlLnRhcmdldCl9KSl9KSksSCh0KSx0LmluaXRpYWxpemVkPSEwLEgodCksdC5lbWl0KFwiaW5pdFwiKSx0LmVtaXQoXCJhZnRlckluaXRcIiksdH1kZXN0cm95KGUsdCl7dm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PXQmJih0PSEwKTtjb25zdCBzPXRoaXMse3BhcmFtczphLGVsOmksd3JhcHBlckVsOnIsc2xpZGVzOm59PXM7cmV0dXJuIHZvaWQgMD09PXMucGFyYW1zfHxzLmRlc3Ryb3llZHx8KHMuZW1pdChcImJlZm9yZURlc3Ryb3lcIikscy5pbml0aWFsaXplZD0hMSxzLmRldGFjaEV2ZW50cygpLGEubG9vcCYmcy5sb29wRGVzdHJveSgpLHQmJihzLnJlbW92ZUNsYXNzZXMoKSxpJiZcInN0cmluZ1wiIT10eXBlb2YgaSYmaS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxyJiZyLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpLG4mJm4ubGVuZ3RoJiZuLmZvckVhY2goKGU9PntlLmNsYXNzTGlzdC5yZW1vdmUoYS5zbGlkZVZpc2libGVDbGFzcyxhLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MsYS5zbGlkZUFjdGl2ZUNsYXNzLGEuc2xpZGVOZXh0Q2xhc3MsYS5zbGlkZVByZXZDbGFzcyksZS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpfSkpKSxzLmVtaXQoXCJkZXN0cm95XCIpLE9iamVjdC5rZXlzKHMuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKChlPT57cy5vZmYoZSl9KSksITEhPT1lJiYocy5lbCYmXCJzdHJpbmdcIiE9dHlwZW9mIHMuZWwmJihzLmVsLnN3aXBlcj1udWxsKSxmdW5jdGlvbihlKXtjb25zdCB0PWU7T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZT0+e3RyeXt0W2VdPW51bGx9Y2F0Y2goZSl7fXRyeXtkZWxldGUgdFtlXX1jYXRjaChlKXt9fSkpfShzKSkscy5kZXN0cm95ZWQ9ITApLG51bGx9c3RhdGljIGV4dGVuZERlZmF1bHRzKGUpe3AoYWUsZSl9c3RhdGljIGdldCBleHRlbmRlZERlZmF1bHRzKCl7cmV0dXJuIGFlfXN0YXRpYyBnZXQgZGVmYXVsdHMoKXtyZXR1cm4gZWV9c3RhdGljIGluc3RhbGxNb2R1bGUoZSl7aWUucHJvdG90eXBlLl9fbW9kdWxlc19ffHwoaWUucHJvdG90eXBlLl9fbW9kdWxlc19fPVtdKTtjb25zdCB0PWllLnByb3RvdHlwZS5fX21vZHVsZXNfXztcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZ0LmluZGV4T2YoZSk8MCYmdC5wdXNoKGUpfXN0YXRpYyB1c2UoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/KGUuZm9yRWFjaCgoZT0+aWUuaW5zdGFsbE1vZHVsZShlKSkpLGllKTooaWUuaW5zdGFsbE1vZHVsZShlKSxpZSl9fWZ1bmN0aW9uIHJlKGUsdCxzLGEpe3JldHVybiBlLnBhcmFtcy5jcmVhdGVFbGVtZW50cyYmT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoaT0+e2lmKCFzW2ldJiYhMD09PXMuYXV0byl7bGV0IHI9ZihlLmVsLGAuJHthW2ldfWApWzBdO3J8fChyPXYoXCJkaXZcIixhW2ldKSxyLmNsYXNzTmFtZT1hW2ldLGUuZWwuYXBwZW5kKHIpKSxzW2ldPXIsdFtpXT1yfX0pKSxzfWZ1bmN0aW9uIG5lKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSxgLiR7ZS50cmltKCkucmVwbGFjZSgvKFtcXC46IStcXC9dKS9nLFwiXFxcXCQxXCIpLnJlcGxhY2UoLyAvZyxcIi5cIil9YH1mdW5jdGlvbiBsZShlKXtjb25zdCB0PXRoaXMse3BhcmFtczpzLHNsaWRlc0VsOmF9PXQ7cy5sb29wJiZ0Lmxvb3BEZXN0cm95KCk7Y29uc3QgaT1lPT57aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmlubmVySFRNTD1lLGEuYXBwZW5kKHQuY2hpbGRyZW5bMF0pLHQuaW5uZXJIVE1MPVwiXCJ9ZWxzZSBhLmFwcGVuZChlKX07aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJlwibGVuZ3RoXCJpbiBlKWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSllW3RdJiZpKGVbdF0pO2Vsc2UgaShlKTt0LnJlY2FsY1NsaWRlcygpLHMubG9vcCYmdC5sb29wQ3JlYXRlKCkscy5vYnNlcnZlciYmIXQuaXNFbGVtZW50fHx0LnVwZGF0ZSgpfWZ1bmN0aW9uIG9lKGUpe2NvbnN0IHQ9dGhpcyx7cGFyYW1zOnMsYWN0aXZlSW5kZXg6YSxzbGlkZXNFbDppfT10O3MubG9vcCYmdC5sb29wRGVzdHJveSgpO2xldCByPWErMTtjb25zdCBuPWU9PntpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuaW5uZXJIVE1MPWUsaS5wcmVwZW5kKHQuY2hpbGRyZW5bMF0pLHQuaW5uZXJIVE1MPVwiXCJ9ZWxzZSBpLnByZXBlbmQoZSl9O2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImxlbmd0aFwiaW4gZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0xKWVbdF0mJm4oZVt0XSk7cj1hK2UubGVuZ3RofWVsc2UgbihlKTt0LnJlY2FsY1NsaWRlcygpLHMubG9vcCYmdC5sb29wQ3JlYXRlKCkscy5vYnNlcnZlciYmIXQuaXNFbGVtZW50fHx0LnVwZGF0ZSgpLHQuc2xpZGVUbyhyLDAsITEpfWZ1bmN0aW9uIGRlKGUsdCl7Y29uc3Qgcz10aGlzLHtwYXJhbXM6YSxhY3RpdmVJbmRleDppLHNsaWRlc0VsOnJ9PXM7bGV0IG49aTthLmxvb3AmJihuLT1zLmxvb3BlZFNsaWRlcyxzLmxvb3BEZXN0cm95KCkscy5yZWNhbGNTbGlkZXMoKSk7Y29uc3QgbD1zLnNsaWRlcy5sZW5ndGg7aWYoZTw9MClyZXR1cm4gdm9pZCBzLnByZXBlbmRTbGlkZSh0KTtpZihlPj1sKXJldHVybiB2b2lkIHMuYXBwZW5kU2xpZGUodCk7bGV0IG89bj5lP24rMTpuO2NvbnN0IGQ9W107Zm9yKGxldCB0PWwtMTt0Pj1lO3QtPTEpe2NvbnN0IGU9cy5zbGlkZXNbdF07ZS5yZW1vdmUoKSxkLnVuc2hpZnQoZSl9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJlwibGVuZ3RoXCJpbiB0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTEpdFtlXSYmci5hcHBlbmQodFtlXSk7bz1uPmU/bit0Lmxlbmd0aDpufWVsc2Ugci5hcHBlbmQodCk7Zm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKz0xKXIuYXBwZW5kKGRbZV0pO3MucmVjYWxjU2xpZGVzKCksYS5sb29wJiZzLmxvb3BDcmVhdGUoKSxhLm9ic2VydmVyJiYhcy5pc0VsZW1lbnR8fHMudXBkYXRlKCksYS5sb29wP3Muc2xpZGVUbyhvK3MubG9vcGVkU2xpZGVzLDAsITEpOnMuc2xpZGVUbyhvLDAsITEpfWZ1bmN0aW9uIGNlKGUpe2NvbnN0IHQ9dGhpcyx7cGFyYW1zOnMsYWN0aXZlSW5kZXg6YX09dDtsZXQgaT1hO3MubG9vcCYmKGktPXQubG9vcGVkU2xpZGVzLHQubG9vcERlc3Ryb3koKSk7bGV0IHIsbj1pO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImxlbmd0aFwiaW4gZSl7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0xKXI9ZVtzXSx0LnNsaWRlc1tyXSYmdC5zbGlkZXNbcl0ucmVtb3ZlKCkscjxuJiYobi09MSk7bj1NYXRoLm1heChuLDApfWVsc2Ugcj1lLHQuc2xpZGVzW3JdJiZ0LnNsaWRlc1tyXS5yZW1vdmUoKSxyPG4mJihuLT0xKSxuPU1hdGgubWF4KG4sMCk7dC5yZWNhbGNTbGlkZXMoKSxzLmxvb3AmJnQubG9vcENyZWF0ZSgpLHMub2JzZXJ2ZXImJiF0LmlzRWxlbWVudHx8dC51cGRhdGUoKSxzLmxvb3A/dC5zbGlkZVRvKG4rdC5sb29wZWRTbGlkZXMsMCwhMSk6dC5zbGlkZVRvKG4sMCwhMSl9ZnVuY3Rpb24gcGUoKXtjb25zdCBlPXRoaXMsdD1bXTtmb3IobGV0IHM9MDtzPGUuc2xpZGVzLmxlbmd0aDtzKz0xKXQucHVzaChzKTtlLnJlbW92ZVNsaWRlKHQpfWZ1bmN0aW9uIHVlKGUpe2NvbnN0e2VmZmVjdDp0LHN3aXBlcjpzLG9uOmEsc2V0VHJhbnNsYXRlOmksc2V0VHJhbnNpdGlvbjpyLG92ZXJ3cml0ZVBhcmFtczpuLHBlcnNwZWN0aXZlOmwscmVjcmVhdGVTaGFkb3dzOm8sZ2V0RWZmZWN0UGFyYW1zOmR9PWU7bGV0IGM7YShcImJlZm9yZUluaXRcIiwoKCk9PntpZihzLnBhcmFtcy5lZmZlY3QhPT10KXJldHVybjtzLmNsYXNzTmFtZXMucHVzaChgJHtzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7dH1gKSxsJiZsKCkmJnMuY2xhc3NOYW1lcy5wdXNoKGAke3MucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9M2RgKTtjb25zdCBlPW4/bigpOnt9O09iamVjdC5hc3NpZ24ocy5wYXJhbXMsZSksT2JqZWN0LmFzc2lnbihzLm9yaWdpbmFsUGFyYW1zLGUpfSkpLGEoXCJzZXRUcmFuc2xhdGVcIiwoKCk9PntzLnBhcmFtcy5lZmZlY3Q9PT10JiZpKCl9KSksYShcInNldFRyYW5zaXRpb25cIiwoKGUsYSk9PntzLnBhcmFtcy5lZmZlY3Q9PT10JiZyKGEpfSkpLGEoXCJ0cmFuc2l0aW9uRW5kXCIsKCgpPT57aWYocy5wYXJhbXMuZWZmZWN0PT09dCYmbyl7aWYoIWR8fCFkKCkuc2xpZGVTaGFkb3dzKXJldHVybjtzLnNsaWRlcy5mb3JFYWNoKChlPT57ZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpLmZvckVhY2goKGU9PmUucmVtb3ZlKCkpKX0pKSxvKCl9fSkpLGEoXCJ2aXJ0dWFsVXBkYXRlXCIsKCgpPT57cy5wYXJhbXMuZWZmZWN0PT09dCYmKHMuc2xpZGVzLmxlbmd0aHx8KGM9ITApLHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntjJiZzLnNsaWRlcyYmcy5zbGlkZXMubGVuZ3RoJiYoaSgpLGM9ITEpfSkpKX0pKX1mdW5jdGlvbiBtZShlLHQpe2NvbnN0IHM9aCh0KTtyZXR1cm4gcyE9PXQmJihzLnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eT1cImhpZGRlblwiLHMuc3R5bGVbXCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHlcIl09XCJoaWRkZW5cIiksc31mdW5jdGlvbiBoZShlKXtsZXR7c3dpcGVyOnQsZHVyYXRpb246cyx0cmFuc2Zvcm1FbGVtZW50czphLGFsbFNsaWRlczppfT1lO2NvbnN0e2FjdGl2ZUluZGV4OnJ9PXQ7aWYodC5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSYmMCE9PXMpe2xldCBlLHM9ITE7ZT1pP2E6YS5maWx0ZXIoKGU9Pntjb25zdCBzPWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3dpcGVyLXNsaWRlLXRyYW5zZm9ybVwiKT8oZT0+e2lmKCFlLnBhcmVudEVsZW1lbnQpcmV0dXJuIHQuc2xpZGVzLmZpbHRlcigodD0+dC5zaGFkb3dSb290JiZ0LnNoYWRvd1Jvb3Q9PT1lLnBhcmVudE5vZGUpKVswXTtyZXR1cm4gZS5wYXJlbnRFbGVtZW50fSkoZSk6ZTtyZXR1cm4gdC5nZXRTbGlkZUluZGV4KHMpPT09cn0pKSxlLmZvckVhY2goKGU9Pnt4KGUsKCgpPT57aWYocylyZXR1cm47aWYoIXR8fHQuZGVzdHJveWVkKXJldHVybjtzPSEwLHQuYW5pbWF0aW5nPSExO2NvbnN0IGU9bmV3IHdpbmRvdy5DdXN0b21FdmVudChcInRyYW5zaXRpb25lbmRcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwfSk7dC53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChlKX0pKX0pKX19ZnVuY3Rpb24gZmUoZSx0LHMpe2NvbnN0IGE9YHN3aXBlci1zbGlkZS1zaGFkb3cke3M/YC0ke3N9YDpcIlwifSR7ZT9gIHN3aXBlci1zbGlkZS1zaGFkb3ctJHtlfWA6XCJcIn1gLGk9aCh0KTtsZXQgcj1pLnF1ZXJ5U2VsZWN0b3IoYC4ke2Euc3BsaXQoXCIgXCIpLmpvaW4oXCIuXCIpfWApO3JldHVybiByfHwocj12KFwiZGl2XCIsYS5zcGxpdChcIiBcIikpLGkuYXBwZW5kKHIpKSxyfU9iamVjdC5rZXlzKHNlKS5mb3JFYWNoKChlPT57T2JqZWN0LmtleXMoc2VbZV0pLmZvckVhY2goKHQ9PntpZS5wcm90b3R5cGVbdF09c2VbZV1bdF19KSl9KSksaWUudXNlKFtmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsb246cyxlbWl0OmF9PWU7Y29uc3QgaT1yKCk7bGV0IG49bnVsbCxsPW51bGw7Y29uc3Qgbz0oKT0+e3QmJiF0LmRlc3Ryb3llZCYmdC5pbml0aWFsaXplZCYmKGEoXCJiZWZvcmVSZXNpemVcIiksYShcInJlc2l6ZVwiKSl9LGQ9KCk9Pnt0JiYhdC5kZXN0cm95ZWQmJnQuaW5pdGlhbGl6ZWQmJmEoXCJvcmllbnRhdGlvbmNoYW5nZVwiKX07cyhcImluaXRcIiwoKCk9Pnt0LnBhcmFtcy5yZXNpemVPYnNlcnZlciYmdm9pZCAwIT09aS5SZXNpemVPYnNlcnZlcj90JiYhdC5kZXN0cm95ZWQmJnQuaW5pdGlhbGl6ZWQmJihuPW5ldyBSZXNpemVPYnNlcnZlcigoZT0+e2w9aS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57Y29uc3R7d2lkdGg6cyxoZWlnaHQ6YX09dDtsZXQgaT1zLHI9YTtlLmZvckVhY2goKGU9PntsZXR7Y29udGVudEJveFNpemU6cyxjb250ZW50UmVjdDphLHRhcmdldDpufT1lO24mJm4hPT10LmVsfHwoaT1hP2Eud2lkdGg6KHNbMF18fHMpLmlubGluZVNpemUscj1hP2EuaGVpZ2h0OihzWzBdfHxzKS5ibG9ja1NpemUpfSkpLGk9PT1zJiZyPT09YXx8bygpfSkpfSkpLG4ub2JzZXJ2ZSh0LmVsKSk6KGkuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLG8pLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsZCkpfSkpLHMoXCJkZXN0cm95XCIsKCgpPT57bCYmaS5jYW5jZWxBbmltYXRpb25GcmFtZShsKSxuJiZuLnVub2JzZXJ2ZSYmdC5lbCYmKG4udW5vYnNlcnZlKHQuZWwpLG49bnVsbCksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsbyksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIixkKX0pKX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmEsZW1pdDppfT1lO2NvbnN0IG49W10sbD1yKCksbz1mdW5jdGlvbihlLHMpe3ZvaWQgMD09PXMmJihzPXt9KTtjb25zdCBhPW5ldyhsLk11dGF0aW9uT2JzZXJ2ZXJ8fGwuV2Via2l0TXV0YXRpb25PYnNlcnZlcikoKGU9PntpZih0Ll9fcHJldmVudE9ic2VydmVyX18pcmV0dXJuO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCBpKFwib2JzZXJ2ZXJVcGRhdGVcIixlWzBdKTtjb25zdCBzPWZ1bmN0aW9uKCl7aShcIm9ic2VydmVyVXBkYXRlXCIsZVswXSl9O2wucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2wucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHMpOmwuc2V0VGltZW91dChzLDApfSkpO2Eub2JzZXJ2ZShlLHthdHRyaWJ1dGVzOnZvaWQgMD09PXMuYXR0cmlidXRlc3x8cy5hdHRyaWJ1dGVzLGNoaWxkTGlzdDp0LmlzRWxlbWVudHx8KHZvaWQgMD09PXMuY2hpbGRMaXN0fHxzKS5jaGlsZExpc3QsY2hhcmFjdGVyRGF0YTp2b2lkIDA9PT1zLmNoYXJhY3RlckRhdGF8fHMuY2hhcmFjdGVyRGF0YX0pLG4ucHVzaChhKX07cyh7b2JzZXJ2ZXI6ITEsb2JzZXJ2ZVBhcmVudHM6ITEsb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46ITF9KSxhKFwiaW5pdFwiLCgoKT0+e2lmKHQucGFyYW1zLm9ic2VydmVyKXtpZih0LnBhcmFtcy5vYnNlcnZlUGFyZW50cyl7Y29uc3QgZT1FKHQuaG9zdEVsKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTEpbyhlW3RdKX1vKHQuaG9zdEVsLHtjaGlsZExpc3Q6dC5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW59KSxvKHQud3JhcHBlckVsLHthdHRyaWJ1dGVzOiExfSl9fSkpLGEoXCJkZXN0cm95XCIsKCgpPT57bi5mb3JFYWNoKChlPT57ZS5kaXNjb25uZWN0KCl9KSksbi5zcGxpY2UoMCxuLmxlbmd0aCl9KSl9XSk7Y29uc3QgZ2U9W2Z1bmN0aW9uKGUpe2xldCB0LHtzd2lwZXI6cyxleHRlbmRQYXJhbXM6aSxvbjpyLGVtaXQ6bn09ZTtpKHt2aXJ0dWFsOntlbmFibGVkOiExLHNsaWRlczpbXSxjYWNoZTohMCxyZW5kZXJTbGlkZTpudWxsLHJlbmRlckV4dGVybmFsOm51bGwscmVuZGVyRXh0ZXJuYWxVcGRhdGU6ITAsYWRkU2xpZGVzQmVmb3JlOjAsYWRkU2xpZGVzQWZ0ZXI6MH19KTtjb25zdCBsPWEoKTtzLnZpcnR1YWw9e2NhY2hlOnt9LGZyb206dm9pZCAwLHRvOnZvaWQgMCxzbGlkZXM6W10sb2Zmc2V0OjAsc2xpZGVzR3JpZDpbXX07Y29uc3Qgbz1sLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZnVuY3Rpb24gZChlLHQpe2NvbnN0IGE9cy5wYXJhbXMudmlydHVhbDtpZihhLmNhY2hlJiZzLnZpcnR1YWwuY2FjaGVbdF0pcmV0dXJuIHMudmlydHVhbC5jYWNoZVt0XTtsZXQgaTtyZXR1cm4gYS5yZW5kZXJTbGlkZT8oaT1hLnJlbmRlclNsaWRlLmNhbGwocyxlLHQpLFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoby5pbm5lckhUTUw9aSxpPW8uY2hpbGRyZW5bMF0pKTppPXMuaXNFbGVtZW50P3YoXCJzd2lwZXItc2xpZGVcIik6dihcImRpdlwiLHMucGFyYW1zLnNsaWRlQ2xhc3MpLGkuc2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIix0KSxhLnJlbmRlclNsaWRlfHwoaS5pbm5lckhUTUw9ZSksYS5jYWNoZSYmKHMudmlydHVhbC5jYWNoZVt0XT1pKSxpfWZ1bmN0aW9uIGMoZSx0KXtjb25zdHtzbGlkZXNQZXJWaWV3OmEsc2xpZGVzUGVyR3JvdXA6aSxjZW50ZXJlZFNsaWRlczpyLGxvb3A6bCxpbml0aWFsU2xpZGU6b309cy5wYXJhbXM7aWYodCYmIWwmJm8+MClyZXR1cm47Y29uc3R7YWRkU2xpZGVzQmVmb3JlOmMsYWRkU2xpZGVzQWZ0ZXI6cH09cy5wYXJhbXMudmlydHVhbCx7ZnJvbTp1LHRvOm0sc2xpZGVzOmgsc2xpZGVzR3JpZDpnLG9mZnNldDp2fT1zLnZpcnR1YWw7cy5wYXJhbXMuY3NzTW9kZXx8cy51cGRhdGVBY3RpdmVJbmRleCgpO2NvbnN0IHc9cy5hY3RpdmVJbmRleHx8MDtsZXQgYix5LEU7Yj1zLnJ0bFRyYW5zbGF0ZT9cInJpZ2h0XCI6cy5pc0hvcml6b250YWwoKT9cImxlZnRcIjpcInRvcFwiLHI/KHk9TWF0aC5mbG9vcihhLzIpK2krcCxFPU1hdGguZmxvb3IoYS8yKStpK2MpOih5PWErKGktMSkrcCxFPShsP2E6aSkrYyk7bGV0IHg9dy1FLFM9dyt5O2x8fCh4PU1hdGgubWF4KHgsMCksUz1NYXRoLm1pbihTLGgubGVuZ3RoLTEpKTtsZXQgVD0ocy5zbGlkZXNHcmlkW3hdfHwwKS0ocy5zbGlkZXNHcmlkWzBdfHwwKTtmdW5jdGlvbiBNKCl7cy51cGRhdGVTbGlkZXMoKSxzLnVwZGF0ZVByb2dyZXNzKCkscy51cGRhdGVTbGlkZXNDbGFzc2VzKCksbihcInZpcnR1YWxVcGRhdGVcIil9aWYobCYmdz49RT8oeC09RSxyfHwoVCs9cy5zbGlkZXNHcmlkWzBdKSk6bCYmdzxFJiYoeD0tRSxyJiYoVCs9cy5zbGlkZXNHcmlkWzBdKSksT2JqZWN0LmFzc2lnbihzLnZpcnR1YWwse2Zyb206eCx0bzpTLG9mZnNldDpULHNsaWRlc0dyaWQ6cy5zbGlkZXNHcmlkLHNsaWRlc0JlZm9yZTpFLHNsaWRlc0FmdGVyOnl9KSx1PT09eCYmbT09PVMmJiFlKXJldHVybiBzLnNsaWRlc0dyaWQhPT1nJiZUIT09diYmcy5zbGlkZXMuZm9yRWFjaCgoZT0+e2Uuc3R5bGVbYl09VC1NYXRoLmFicyhzLmNzc092ZXJmbG93QWRqdXN0bWVudCgpKStcInB4XCJ9KSkscy51cGRhdGVQcm9ncmVzcygpLHZvaWQgbihcInZpcnR1YWxVcGRhdGVcIik7aWYocy5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbClyZXR1cm4gcy5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHMse29mZnNldDpULGZyb206eCx0bzpTLHNsaWRlczpmdW5jdGlvbigpe2NvbnN0IGU9W107Zm9yKGxldCB0PXg7dDw9Uzt0Kz0xKWUucHVzaChoW3RdKTtyZXR1cm4gZX0oKX0pLHZvaWQocy5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbFVwZGF0ZT9NKCk6bihcInZpcnR1YWxVcGRhdGVcIikpO2NvbnN0IEM9W10sUD1bXSxMPWU9PntsZXQgdD1lO3JldHVybiBlPDA/dD1oLmxlbmd0aCtlOnQ+PWgubGVuZ3RoJiYodC09aC5sZW5ndGgpLHR9O2lmKGUpcy5zbGlkZXMuZmlsdGVyKChlPT5lLm1hdGNoZXMoYC4ke3MucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkpLmZvckVhY2goKGU9PntlLnJlbW92ZSgpfSkpO2Vsc2UgZm9yKGxldCBlPXU7ZTw9bTtlKz0xKWlmKGU8eHx8ZT5TKXtjb25zdCB0PUwoZSk7cy5zbGlkZXMuZmlsdGVyKChlPT5lLm1hdGNoZXMoYC4ke3MucGFyYW1zLnNsaWRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0fVwiXSwgc3dpcGVyLXNsaWRlW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0fVwiXWApKSkuZm9yRWFjaCgoZT0+e2UucmVtb3ZlKCl9KSl9Y29uc3QgST1sPy1oLmxlbmd0aDowLHo9bD8yKmgubGVuZ3RoOmgubGVuZ3RoO2ZvcihsZXQgdD1JO3Q8ejt0Kz0xKWlmKHQ+PXgmJnQ8PVMpe2NvbnN0IHM9TCh0KTt2b2lkIDA9PT1tfHxlP1AucHVzaChzKToodD5tJiZQLnB1c2gocyksdDx1JiZDLnB1c2gocykpfWlmKFAuZm9yRWFjaCgoZT0+e3Muc2xpZGVzRWwuYXBwZW5kKGQoaFtlXSxlKSl9KSksbClmb3IobGV0IGU9Qy5sZW5ndGgtMTtlPj0wO2UtPTEpe2NvbnN0IHQ9Q1tlXTtzLnNsaWRlc0VsLnByZXBlbmQoZChoW3RdLHQpKX1lbHNlIEMuc29ydCgoKGUsdCk9PnQtZSkpLEMuZm9yRWFjaCgoZT0+e3Muc2xpZGVzRWwucHJlcGVuZChkKGhbZV0sZSkpfSkpO2Yocy5zbGlkZXNFbCxcIi5zd2lwZXItc2xpZGUsIHN3aXBlci1zbGlkZVwiKS5mb3JFYWNoKChlPT57ZS5zdHlsZVtiXT1ULU1hdGguYWJzKHMuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCkpK1wicHhcIn0pKSxNKCl9cihcImJlZm9yZUluaXRcIiwoKCk9PntpZighcy5wYXJhbXMudmlydHVhbC5lbmFibGVkKXJldHVybjtsZXQgZTtpZih2b2lkIDA9PT1zLnBhc3NlZFBhcmFtcy52aXJ0dWFsLnNsaWRlcyl7Y29uc3QgdD1bLi4ucy5zbGlkZXNFbC5jaGlsZHJlbl0uZmlsdGVyKChlPT5lLm1hdGNoZXMoYC4ke3MucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkpO3QmJnQubGVuZ3RoJiYocy52aXJ0dWFsLnNsaWRlcz1bLi4udF0sZT0hMCx0LmZvckVhY2goKChlLHQpPT57ZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiLHQpLHMudmlydHVhbC5jYWNoZVt0XT1lLGUucmVtb3ZlKCl9KSkpfWV8fChzLnZpcnR1YWwuc2xpZGVzPXMucGFyYW1zLnZpcnR1YWwuc2xpZGVzKSxzLmNsYXNzTmFtZXMucHVzaChgJHtzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXZpcnR1YWxgKSxzLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzPSEwLHMub3JpZ2luYWxQYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcz0hMCxjKCExLCEwKX0pKSxyKFwic2V0VHJhbnNsYXRlXCIsKCgpPT57cy5wYXJhbXMudmlydHVhbC5lbmFibGVkJiYocy5wYXJhbXMuY3NzTW9kZSYmIXMuX2ltbWVkaWF0ZVZpcnR1YWw/KGNsZWFyVGltZW91dCh0KSx0PXNldFRpbWVvdXQoKCgpPT57YygpfSksMTAwKSk6YygpKX0pKSxyKFwiaW5pdCB1cGRhdGUgcmVzaXplXCIsKCgpPT57cy5wYXJhbXMudmlydHVhbC5lbmFibGVkJiZzLnBhcmFtcy5jc3NNb2RlJiZ1KHMud3JhcHBlckVsLFwiLS1zd2lwZXItdmlydHVhbC1zaXplXCIsYCR7cy52aXJ0dWFsU2l6ZX1weGApfSkpLE9iamVjdC5hc3NpZ24ocy52aXJ0dWFsLHthcHBlbmRTbGlkZTpmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJsZW5ndGhcImluIGUpZm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0xKWVbdF0mJnMudmlydHVhbC5zbGlkZXMucHVzaChlW3RdKTtlbHNlIHMudmlydHVhbC5zbGlkZXMucHVzaChlKTtjKCEwKX0scHJlcGVuZFNsaWRlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9cy5hY3RpdmVJbmRleDtsZXQgYT10KzEsaT0xO2lmKEFycmF5LmlzQXJyYXkoZSkpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSllW3RdJiZzLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoZVt0XSk7YT10K2UubGVuZ3RoLGk9ZS5sZW5ndGh9ZWxzZSBzLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoZSk7aWYocy5wYXJhbXMudmlydHVhbC5jYWNoZSl7Y29uc3QgZT1zLnZpcnR1YWwuY2FjaGUsdD17fTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChzPT57Y29uc3QgYT1lW3NdLHI9YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKTtyJiZhLnNldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIscGFyc2VJbnQociwxMCkraSksdFtwYXJzZUludChzLDEwKStpXT1hfSkpLHMudmlydHVhbC5jYWNoZT10fWMoITApLHMuc2xpZGVUbyhhLDApfSxyZW1vdmVTbGlkZTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybjtsZXQgdD1zLmFjdGl2ZUluZGV4O2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCBhPWUubGVuZ3RoLTE7YT49MDthLT0xKXMucGFyYW1zLnZpcnR1YWwuY2FjaGUmJihkZWxldGUgcy52aXJ0dWFsLmNhY2hlW2VbYV1dLE9iamVjdC5rZXlzKHMudmlydHVhbC5jYWNoZSkuZm9yRWFjaCgodD0+e3Q+ZSYmKHMudmlydHVhbC5jYWNoZVt0LTFdPXMudmlydHVhbC5jYWNoZVt0XSxzLnZpcnR1YWwuY2FjaGVbdC0xXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiLHQtMSksZGVsZXRlIHMudmlydHVhbC5jYWNoZVt0XSl9KSkpLHMudmlydHVhbC5zbGlkZXMuc3BsaWNlKGVbYV0sMSksZVthXTx0JiYodC09MSksdD1NYXRoLm1heCh0LDApO2Vsc2Ugcy5wYXJhbXMudmlydHVhbC5jYWNoZSYmKGRlbGV0ZSBzLnZpcnR1YWwuY2FjaGVbZV0sT2JqZWN0LmtleXMocy52aXJ0dWFsLmNhY2hlKS5mb3JFYWNoKCh0PT57dD5lJiYocy52aXJ0dWFsLmNhY2hlW3QtMV09cy52aXJ0dWFsLmNhY2hlW3RdLHMudmlydHVhbC5jYWNoZVt0LTFdLnNldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIsdC0xKSxkZWxldGUgcy52aXJ0dWFsLmNhY2hlW3RdKX0pKSkscy52aXJ0dWFsLnNsaWRlcy5zcGxpY2UoZSwxKSxlPHQmJih0LT0xKSx0PU1hdGgubWF4KHQsMCk7YyghMCkscy5zbGlkZVRvKHQsMCl9LHJlbW92ZUFsbFNsaWRlczpmdW5jdGlvbigpe3MudmlydHVhbC5zbGlkZXM9W10scy5wYXJhbXMudmlydHVhbC5jYWNoZSYmKHMudmlydHVhbC5jYWNoZT17fSksYyghMCkscy5zbGlkZVRvKDAsMCl9LHVwZGF0ZTpjfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjppLGVtaXQ6bn09ZTtjb25zdCBsPWEoKSxvPXIoKTtmdW5jdGlvbiBkKGUpe2lmKCF0LmVuYWJsZWQpcmV0dXJuO2NvbnN0e3J0bFRyYW5zbGF0ZTpzfT10O2xldCBhPWU7YS5vcmlnaW5hbEV2ZW50JiYoYT1hLm9yaWdpbmFsRXZlbnQpO2NvbnN0IGk9YS5rZXlDb2RlfHxhLmNoYXJDb2RlLHI9dC5wYXJhbXMua2V5Ym9hcmQucGFnZVVwRG93bixkPXImJjMzPT09aSxjPXImJjM0PT09aSxwPTM3PT09aSx1PTM5PT09aSxtPTM4PT09aSxoPTQwPT09aTtpZighdC5hbGxvd1NsaWRlTmV4dCYmKHQuaXNIb3Jpem9udGFsKCkmJnV8fHQuaXNWZXJ0aWNhbCgpJiZofHxjKSlyZXR1cm4hMTtpZighdC5hbGxvd1NsaWRlUHJldiYmKHQuaXNIb3Jpem9udGFsKCkmJnB8fHQuaXNWZXJ0aWNhbCgpJiZtfHxkKSlyZXR1cm4hMTtpZighKGEuc2hpZnRLZXl8fGEuYWx0S2V5fHxhLmN0cmxLZXl8fGEubWV0YUtleXx8bC5hY3RpdmVFbGVtZW50JiZsLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUmJihcImlucHV0XCI9PT1sLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8XCJ0ZXh0YXJlYVwiPT09bC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKSl7aWYodC5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQmJihkfHxjfHxwfHx1fHxtfHxoKSl7bGV0IGU9ITE7aWYoRSh0LmVsLGAuJHt0LnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCkubGVuZ3RoPjAmJjA9PT1FKHQuZWwsYC4ke3QucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3N9YCkubGVuZ3RoKXJldHVybjtjb25zdCBhPXQuZWwsaT1hLmNsaWVudFdpZHRoLHI9YS5jbGllbnRIZWlnaHQsbj1vLmlubmVyV2lkdGgsbD1vLmlubmVySGVpZ2h0LGQ9dyhhKTtzJiYoZC5sZWZ0LT1hLnNjcm9sbExlZnQpO2NvbnN0IGM9W1tkLmxlZnQsZC50b3BdLFtkLmxlZnQraSxkLnRvcF0sW2QubGVmdCxkLnRvcCtyXSxbZC5sZWZ0K2ksZC50b3Arcl1dO2ZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7dCs9MSl7Y29uc3Qgcz1jW3RdO2lmKHNbMF0+PTAmJnNbMF08PW4mJnNbMV0+PTAmJnNbMV08PWwpe2lmKDA9PT1zWzBdJiYwPT09c1sxXSljb250aW51ZTtlPSEwfX1pZighZSlyZXR1cm59dC5pc0hvcml6b250YWwoKT8oKGR8fGN8fHB8fHUpJiYoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSksKChjfHx1KSYmIXN8fChkfHxwKSYmcykmJnQuc2xpZGVOZXh0KCksKChkfHxwKSYmIXN8fChjfHx1KSYmcykmJnQuc2xpZGVQcmV2KCkpOigoZHx8Y3x8bXx8aCkmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKSwoY3x8aCkmJnQuc2xpZGVOZXh0KCksKGR8fG0pJiZ0LnNsaWRlUHJldigpKSxuKFwia2V5UHJlc3NcIixpKX19ZnVuY3Rpb24gYygpe3Qua2V5Ym9hcmQuZW5hYmxlZHx8KGwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixkKSx0LmtleWJvYXJkLmVuYWJsZWQ9ITApfWZ1bmN0aW9uIHAoKXt0LmtleWJvYXJkLmVuYWJsZWQmJihsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZCksdC5rZXlib2FyZC5lbmFibGVkPSExKX10LmtleWJvYXJkPXtlbmFibGVkOiExfSxzKHtrZXlib2FyZDp7ZW5hYmxlZDohMSxvbmx5SW5WaWV3cG9ydDohMCxwYWdlVXBEb3duOiEwfX0pLGkoXCJpbml0XCIsKCgpPT57dC5wYXJhbXMua2V5Ym9hcmQuZW5hYmxlZCYmYygpfSkpLGkoXCJkZXN0cm95XCIsKCgpPT57dC5rZXlib2FyZC5lbmFibGVkJiZwKCl9KSksT2JqZWN0LmFzc2lnbih0LmtleWJvYXJkLHtlbmFibGU6YyxkaXNhYmxlOnB9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmEsZW1pdDppfT1lO2NvbnN0IG49cigpO2xldCBkO3Moe21vdXNld2hlZWw6e2VuYWJsZWQ6ITEscmVsZWFzZU9uRWRnZXM6ITEsaW52ZXJ0OiExLGZvcmNlVG9BeGlzOiExLHNlbnNpdGl2aXR5OjEsZXZlbnRzVGFyZ2V0OlwiY29udGFpbmVyXCIsdGhyZXNob2xkRGVsdGE6bnVsbCx0aHJlc2hvbGRUaW1lOm51bGwsbm9Nb3VzZXdoZWVsQ2xhc3M6XCJzd2lwZXItbm8tbW91c2V3aGVlbFwifX0pLHQubW91c2V3aGVlbD17ZW5hYmxlZDohMX07bGV0IGMscD1vKCk7Y29uc3QgdT1bXTtmdW5jdGlvbiBtKCl7dC5lbmFibGVkJiYodC5tb3VzZUVudGVyZWQ9ITApfWZ1bmN0aW9uIGgoKXt0LmVuYWJsZWQmJih0Lm1vdXNlRW50ZXJlZD0hMSl9ZnVuY3Rpb24gZihlKXtyZXR1cm4hKHQucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEmJmUuZGVsdGE8dC5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkmJighKHQucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSYmbygpLXA8dC5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lKSYmKGUuZGVsdGE+PTYmJm8oKS1wPDYwfHwoZS5kaXJlY3Rpb248MD90LmlzRW5kJiYhdC5wYXJhbXMubG9vcHx8dC5hbmltYXRpbmd8fCh0LnNsaWRlTmV4dCgpLGkoXCJzY3JvbGxcIixlLnJhdykpOnQuaXNCZWdpbm5pbmcmJiF0LnBhcmFtcy5sb29wfHx0LmFuaW1hdGluZ3x8KHQuc2xpZGVQcmV2KCksaShcInNjcm9sbFwiLGUucmF3KSkscD0obmV3IG4uRGF0ZSkuZ2V0VGltZSgpLCExKSkpfWZ1bmN0aW9uIGcoZSl7bGV0IHM9ZSxhPSEwO2lmKCF0LmVuYWJsZWQpcmV0dXJuO2lmKGUudGFyZ2V0LmNsb3Nlc3QoYC4ke3QucGFyYW1zLm1vdXNld2hlZWwubm9Nb3VzZXdoZWVsQ2xhc3N9YCkpcmV0dXJuO2NvbnN0IHI9dC5wYXJhbXMubW91c2V3aGVlbDt0LnBhcmFtcy5jc3NNb2RlJiZzLnByZXZlbnREZWZhdWx0KCk7bGV0IG49dC5lbDtcImNvbnRhaW5lclwiIT09dC5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQmJihuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpKTtjb25zdCBwPW4mJm4uY29udGFpbnMocy50YXJnZXQpO2lmKCF0Lm1vdXNlRW50ZXJlZCYmIXAmJiFyLnJlbGVhc2VPbkVkZ2VzKXJldHVybiEwO3Mub3JpZ2luYWxFdmVudCYmKHM9cy5vcmlnaW5hbEV2ZW50KTtsZXQgbT0wO2NvbnN0IGg9dC5ydGxUcmFuc2xhdGU/LTE6MSxnPWZ1bmN0aW9uKGUpe2xldCB0PTAscz0wLGE9MCxpPTA7cmV0dXJuXCJkZXRhaWxcImluIGUmJihzPWUuZGV0YWlsKSxcIndoZWVsRGVsdGFcImluIGUmJihzPS1lLndoZWVsRGVsdGEvMTIwKSxcIndoZWVsRGVsdGFZXCJpbiBlJiYocz0tZS53aGVlbERlbHRhWS8xMjApLFwid2hlZWxEZWx0YVhcImluIGUmJih0PS1lLndoZWVsRGVsdGFYLzEyMCksXCJheGlzXCJpbiBlJiZlLmF4aXM9PT1lLkhPUklaT05UQUxfQVhJUyYmKHQ9cyxzPTApLGE9MTAqdCxpPTEwKnMsXCJkZWx0YVlcImluIGUmJihpPWUuZGVsdGFZKSxcImRlbHRhWFwiaW4gZSYmKGE9ZS5kZWx0YVgpLGUuc2hpZnRLZXkmJiFhJiYoYT1pLGk9MCksKGF8fGkpJiZlLmRlbHRhTW9kZSYmKDE9PT1lLmRlbHRhTW9kZT8oYSo9NDAsaSo9NDApOihhKj04MDAsaSo9ODAwKSksYSYmIXQmJih0PWE8MT8tMToxKSxpJiYhcyYmKHM9aTwxPy0xOjEpLHtzcGluWDp0LHNwaW5ZOnMscGl4ZWxYOmEscGl4ZWxZOml9fShzKTtpZihyLmZvcmNlVG9BeGlzKWlmKHQuaXNIb3Jpem9udGFsKCkpe2lmKCEoTWF0aC5hYnMoZy5waXhlbFgpPk1hdGguYWJzKGcucGl4ZWxZKSkpcmV0dXJuITA7bT0tZy5waXhlbFgqaH1lbHNle2lmKCEoTWF0aC5hYnMoZy5waXhlbFkpPk1hdGguYWJzKGcucGl4ZWxYKSkpcmV0dXJuITA7bT0tZy5waXhlbFl9ZWxzZSBtPU1hdGguYWJzKGcucGl4ZWxYKT5NYXRoLmFicyhnLnBpeGVsWSk/LWcucGl4ZWxYKmg6LWcucGl4ZWxZO2lmKDA9PT1tKXJldHVybiEwO3IuaW52ZXJ0JiYobT0tbSk7bGV0IHY9dC5nZXRUcmFuc2xhdGUoKSttKnIuc2Vuc2l0aXZpdHk7aWYodj49dC5taW5UcmFuc2xhdGUoKSYmKHY9dC5taW5UcmFuc2xhdGUoKSksdjw9dC5tYXhUcmFuc2xhdGUoKSYmKHY9dC5tYXhUcmFuc2xhdGUoKSksYT0hIXQucGFyYW1zLmxvb3B8fCEodj09PXQubWluVHJhbnNsYXRlKCl8fHY9PT10Lm1heFRyYW5zbGF0ZSgpKSxhJiZ0LnBhcmFtcy5uZXN0ZWQmJnMuc3RvcFByb3BhZ2F0aW9uKCksdC5wYXJhbXMuZnJlZU1vZGUmJnQucGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQpe2NvbnN0IGU9e3RpbWU6bygpLGRlbHRhOk1hdGguYWJzKG0pLGRpcmVjdGlvbjpNYXRoLnNpZ24obSl9LGE9YyYmZS50aW1lPGMudGltZSs1MDAmJmUuZGVsdGE8PWMuZGVsdGEmJmUuZGlyZWN0aW9uPT09Yy5kaXJlY3Rpb247aWYoIWEpe2M9dm9pZCAwO2xldCBuPXQuZ2V0VHJhbnNsYXRlKCkrbSpyLnNlbnNpdGl2aXR5O2NvbnN0IG89dC5pc0JlZ2lubmluZyxwPXQuaXNFbmQ7aWYobj49dC5taW5UcmFuc2xhdGUoKSYmKG49dC5taW5UcmFuc2xhdGUoKSksbjw9dC5tYXhUcmFuc2xhdGUoKSYmKG49dC5tYXhUcmFuc2xhdGUoKSksdC5zZXRUcmFuc2l0aW9uKDApLHQuc2V0VHJhbnNsYXRlKG4pLHQudXBkYXRlUHJvZ3Jlc3MoKSx0LnVwZGF0ZUFjdGl2ZUluZGV4KCksdC51cGRhdGVTbGlkZXNDbGFzc2VzKCksKCFvJiZ0LmlzQmVnaW5uaW5nfHwhcCYmdC5pc0VuZCkmJnQudXBkYXRlU2xpZGVzQ2xhc3NlcygpLHQucGFyYW1zLmxvb3AmJnQubG9vcEZpeCh7ZGlyZWN0aW9uOmUuZGlyZWN0aW9uPDA/XCJuZXh0XCI6XCJwcmV2XCIsYnlNb3VzZXdoZWVsOiEwfSksdC5wYXJhbXMuZnJlZU1vZGUuc3RpY2t5KXtjbGVhclRpbWVvdXQoZCksZD12b2lkIDAsdS5sZW5ndGg+PTE1JiZ1LnNoaWZ0KCk7Y29uc3Qgcz11Lmxlbmd0aD91W3UubGVuZ3RoLTFdOnZvaWQgMCxhPXVbMF07aWYodS5wdXNoKGUpLHMmJihlLmRlbHRhPnMuZGVsdGF8fGUuZGlyZWN0aW9uIT09cy5kaXJlY3Rpb24pKXUuc3BsaWNlKDApO2Vsc2UgaWYodS5sZW5ndGg+PTE1JiZlLnRpbWUtYS50aW1lPDUwMCYmYS5kZWx0YS1lLmRlbHRhPj0xJiZlLmRlbHRhPD02KXtjb25zdCBzPW0+MD8uODouMjtjPWUsdS5zcGxpY2UoMCksZD1sKCgoKT0+eyF0LmRlc3Ryb3llZCYmdC5wYXJhbXMmJnQuc2xpZGVUb0Nsb3Nlc3QodC5wYXJhbXMuc3BlZWQsITAsdm9pZCAwLHMpfSksMCl9ZHx8KGQ9bCgoKCk9PntpZih0LmRlc3Ryb3llZHx8IXQucGFyYW1zKXJldHVybjtjPWUsdS5zcGxpY2UoMCksdC5zbGlkZVRvQ2xvc2VzdCh0LnBhcmFtcy5zcGVlZCwhMCx2b2lkIDAsLjUpfSksNTAwKSl9aWYoYXx8aShcInNjcm9sbFwiLHMpLHQucGFyYW1zLmF1dG9wbGF5JiZ0LnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uJiZ0LmF1dG9wbGF5LnN0b3AoKSxyLnJlbGVhc2VPbkVkZ2VzJiYobj09PXQubWluVHJhbnNsYXRlKCl8fG49PT10Lm1heFRyYW5zbGF0ZSgpKSlyZXR1cm4hMH19ZWxzZXtjb25zdCBzPXt0aW1lOm8oKSxkZWx0YTpNYXRoLmFicyhtKSxkaXJlY3Rpb246TWF0aC5zaWduKG0pLHJhdzplfTt1Lmxlbmd0aD49MiYmdS5zaGlmdCgpO2NvbnN0IGE9dS5sZW5ndGg/dVt1Lmxlbmd0aC0xXTp2b2lkIDA7aWYodS5wdXNoKHMpLGE/KHMuZGlyZWN0aW9uIT09YS5kaXJlY3Rpb258fHMuZGVsdGE+YS5kZWx0YXx8cy50aW1lPmEudGltZSsxNTApJiZmKHMpOmYocyksZnVuY3Rpb24oZSl7Y29uc3Qgcz10LnBhcmFtcy5tb3VzZXdoZWVsO2lmKGUuZGlyZWN0aW9uPDApe2lmKHQuaXNFbmQmJiF0LnBhcmFtcy5sb29wJiZzLnJlbGVhc2VPbkVkZ2VzKXJldHVybiEwfWVsc2UgaWYodC5pc0JlZ2lubmluZyYmIXQucGFyYW1zLmxvb3AmJnMucmVsZWFzZU9uRWRnZXMpcmV0dXJuITA7cmV0dXJuITF9KHMpKXJldHVybiEwfXJldHVybiBzLnByZXZlbnREZWZhdWx0P3MucHJldmVudERlZmF1bHQoKTpzLnJldHVyblZhbHVlPSExLCExfWZ1bmN0aW9uIHYoZSl7bGV0IHM9dC5lbDtcImNvbnRhaW5lclwiIT09dC5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQmJihzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpKSxzW2VdKFwibW91c2VlbnRlclwiLG0pLHNbZV0oXCJtb3VzZWxlYXZlXCIsaCksc1tlXShcIndoZWVsXCIsZyl9ZnVuY3Rpb24gdygpe3JldHVybiB0LnBhcmFtcy5jc3NNb2RlPyh0LndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIixnKSwhMCk6IXQubW91c2V3aGVlbC5lbmFibGVkJiYodihcImFkZEV2ZW50TGlzdGVuZXJcIiksdC5tb3VzZXdoZWVsLmVuYWJsZWQ9ITAsITApfWZ1bmN0aW9uIGIoKXtyZXR1cm4gdC5wYXJhbXMuY3NzTW9kZT8odC53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxnKSwhMCk6ISF0Lm1vdXNld2hlZWwuZW5hYmxlZCYmKHYoXCJyZW1vdmVFdmVudExpc3RlbmVyXCIpLHQubW91c2V3aGVlbC5lbmFibGVkPSExLCEwKX1hKFwiaW5pdFwiLCgoKT0+eyF0LnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQmJnQucGFyYW1zLmNzc01vZGUmJmIoKSx0LnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQmJncoKX0pKSxhKFwiZGVzdHJveVwiLCgoKT0+e3QucGFyYW1zLmNzc01vZGUmJncoKSx0Lm1vdXNld2hlZWwuZW5hYmxlZCYmYigpfSkpLE9iamVjdC5hc3NpZ24odC5tb3VzZXdoZWVsLHtlbmFibGU6dyxkaXNhYmxlOmJ9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmEsZW1pdDppfT1lO2Z1bmN0aW9uIHIoZSl7bGV0IHM7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZ0LmlzRWxlbWVudCYmKHM9dC5lbC5xdWVyeVNlbGVjdG9yKGUpLHMpP3M6KGUmJihcInN0cmluZ1wiPT10eXBlb2YgZSYmKHM9Wy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZSldKSx0LnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJnMmJnMubGVuZ3RoPjEmJjE9PT10LmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZSkubGVuZ3RoP3M9dC5lbC5xdWVyeVNlbGVjdG9yKGUpOnMmJjE9PT1zLmxlbmd0aCYmKHM9c1swXSkpLGUmJiFzP2U6cyl9ZnVuY3Rpb24gbihlLHMpe2NvbnN0IGE9dC5wYXJhbXMubmF2aWdhdGlvbjsoZT1UKGUpKS5mb3JFYWNoKChlPT57ZSYmKGUuY2xhc3NMaXN0W3M/XCJhZGRcIjpcInJlbW92ZVwiXSguLi5hLmRpc2FibGVkQ2xhc3Muc3BsaXQoXCIgXCIpKSxcIkJVVFRPTlwiPT09ZS50YWdOYW1lJiYoZS5kaXNhYmxlZD1zKSx0LnBhcmFtcy53YXRjaE92ZXJmbG93JiZ0LmVuYWJsZWQmJmUuY2xhc3NMaXN0W3QuaXNMb2NrZWQ/XCJhZGRcIjpcInJlbW92ZVwiXShhLmxvY2tDbGFzcykpfSkpfWZ1bmN0aW9uIGwoKXtjb25zdHtuZXh0RWw6ZSxwcmV2RWw6c309dC5uYXZpZ2F0aW9uO2lmKHQucGFyYW1zLmxvb3ApcmV0dXJuIG4ocywhMSksdm9pZCBuKGUsITEpO24ocyx0LmlzQmVnaW5uaW5nJiYhdC5wYXJhbXMucmV3aW5kKSxuKGUsdC5pc0VuZCYmIXQucGFyYW1zLnJld2luZCl9ZnVuY3Rpb24gbyhlKXtlLnByZXZlbnREZWZhdWx0KCksKCF0LmlzQmVnaW5uaW5nfHx0LnBhcmFtcy5sb29wfHx0LnBhcmFtcy5yZXdpbmQpJiYodC5zbGlkZVByZXYoKSxpKFwibmF2aWdhdGlvblByZXZcIikpfWZ1bmN0aW9uIGQoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLCghdC5pc0VuZHx8dC5wYXJhbXMubG9vcHx8dC5wYXJhbXMucmV3aW5kKSYmKHQuc2xpZGVOZXh0KCksaShcIm5hdmlnYXRpb25OZXh0XCIpKX1mdW5jdGlvbiBjKCl7Y29uc3QgZT10LnBhcmFtcy5uYXZpZ2F0aW9uO2lmKHQucGFyYW1zLm5hdmlnYXRpb249cmUodCx0Lm9yaWdpbmFsUGFyYW1zLm5hdmlnYXRpb24sdC5wYXJhbXMubmF2aWdhdGlvbix7bmV4dEVsOlwic3dpcGVyLWJ1dHRvbi1uZXh0XCIscHJldkVsOlwic3dpcGVyLWJ1dHRvbi1wcmV2XCJ9KSwhZS5uZXh0RWwmJiFlLnByZXZFbClyZXR1cm47bGV0IHM9cihlLm5leHRFbCksYT1yKGUucHJldkVsKTtPYmplY3QuYXNzaWduKHQubmF2aWdhdGlvbix7bmV4dEVsOnMscHJldkVsOmF9KSxzPVQocyksYT1UKGEpO2NvbnN0IGk9KHMsYSk9PntzJiZzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFwibmV4dFwiPT09YT9kOm8pLCF0LmVuYWJsZWQmJnMmJnMuY2xhc3NMaXN0LmFkZCguLi5lLmxvY2tDbGFzcy5zcGxpdChcIiBcIikpfTtzLmZvckVhY2goKGU9PmkoZSxcIm5leHRcIikpKSxhLmZvckVhY2goKGU9PmkoZSxcInByZXZcIikpKX1mdW5jdGlvbiBwKCl7bGV0e25leHRFbDplLHByZXZFbDpzfT10Lm5hdmlnYXRpb247ZT1UKGUpLHM9VChzKTtjb25zdCBhPShlLHMpPT57ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixcIm5leHRcIj09PXM/ZDpvKSxlLmNsYXNzTGlzdC5yZW1vdmUoLi4udC5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzLnNwbGl0KFwiIFwiKSl9O2UuZm9yRWFjaCgoZT0+YShlLFwibmV4dFwiKSkpLHMuZm9yRWFjaCgoZT0+YShlLFwicHJldlwiKSkpfXMoe25hdmlnYXRpb246e25leHRFbDpudWxsLHByZXZFbDpudWxsLGhpZGVPbkNsaWNrOiExLGRpc2FibGVkQ2xhc3M6XCJzd2lwZXItYnV0dG9uLWRpc2FibGVkXCIsaGlkZGVuQ2xhc3M6XCJzd2lwZXItYnV0dG9uLWhpZGRlblwiLGxvY2tDbGFzczpcInN3aXBlci1idXR0b24tbG9ja1wiLG5hdmlnYXRpb25EaXNhYmxlZENsYXNzOlwic3dpcGVyLW5hdmlnYXRpb24tZGlzYWJsZWRcIn19KSx0Lm5hdmlnYXRpb249e25leHRFbDpudWxsLHByZXZFbDpudWxsfSxhKFwiaW5pdFwiLCgoKT0+eyExPT09dC5wYXJhbXMubmF2aWdhdGlvbi5lbmFibGVkP3UoKTooYygpLGwoKSl9KSksYShcInRvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9ja1wiLCgoKT0+e2woKX0pKSxhKFwiZGVzdHJveVwiLCgoKT0+e3AoKX0pKSxhKFwiZW5hYmxlIGRpc2FibGVcIiwoKCk9PntsZXR7bmV4dEVsOmUscHJldkVsOnN9PXQubmF2aWdhdGlvbjtlPVQoZSkscz1UKHMpLHQuZW5hYmxlZD9sKCk6Wy4uLmUsLi4uc10uZmlsdGVyKChlPT4hIWUpKS5mb3JFYWNoKChlPT5lLmNsYXNzTGlzdC5hZGQodC5wYXJhbXMubmF2aWdhdGlvbi5sb2NrQ2xhc3MpKSl9KSksYShcImNsaWNrXCIsKChlLHMpPT57bGV0e25leHRFbDphLHByZXZFbDpyfT10Lm5hdmlnYXRpb247YT1UKGEpLHI9VChyKTtjb25zdCBuPXMudGFyZ2V0O2xldCBsPXIuaW5jbHVkZXMobil8fGEuaW5jbHVkZXMobik7aWYodC5pc0VsZW1lbnQmJiFsKXtjb25zdCBlPXMucGF0aHx8cy5jb21wb3NlZFBhdGgmJnMuY29tcG9zZWRQYXRoKCk7ZSYmKGw9ZS5maW5kKChlPT5hLmluY2x1ZGVzKGUpfHxyLmluY2x1ZGVzKGUpKSkpfWlmKHQucGFyYW1zLm5hdmlnYXRpb24uaGlkZU9uQ2xpY2smJiFsKXtpZih0LnBhZ2luYXRpb24mJnQucGFyYW1zLnBhZ2luYXRpb24mJnQucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlJiYodC5wYWdpbmF0aW9uLmVsPT09bnx8dC5wYWdpbmF0aW9uLmVsLmNvbnRhaW5zKG4pKSlyZXR1cm47bGV0IGU7YS5sZW5ndGg/ZT1hWzBdLmNsYXNzTGlzdC5jb250YWlucyh0LnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTpyLmxlbmd0aCYmKGU9clswXS5jbGFzc0xpc3QuY29udGFpbnModC5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcykpLGkoITA9PT1lP1wibmF2aWdhdGlvblNob3dcIjpcIm5hdmlnYXRpb25IaWRlXCIpLFsuLi5hLC4uLnJdLmZpbHRlcigoZT0+ISFlKSkuZm9yRWFjaCgoZT0+ZS5jbGFzc0xpc3QudG9nZ2xlKHQucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKSl9fSkpO2NvbnN0IHU9KCk9Pnt0LmVsLmNsYXNzTGlzdC5hZGQoLi4udC5wYXJhbXMubmF2aWdhdGlvbi5uYXZpZ2F0aW9uRGlzYWJsZWRDbGFzcy5zcGxpdChcIiBcIikpLHAoKX07T2JqZWN0LmFzc2lnbih0Lm5hdmlnYXRpb24se2VuYWJsZTooKT0+e3QuZWwuY2xhc3NMaXN0LnJlbW92ZSguLi50LnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KFwiIFwiKSksYygpLGwoKX0sZGlzYWJsZTp1LHVwZGF0ZTpsLGluaXQ6YyxkZXN0cm95OnB9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmEsZW1pdDppfT1lO2NvbnN0IHI9XCJzd2lwZXItcGFnaW5hdGlvblwiO2xldCBuO3Moe3BhZ2luYXRpb246e2VsOm51bGwsYnVsbGV0RWxlbWVudDpcInNwYW5cIixjbGlja2FibGU6ITEsaGlkZU9uQ2xpY2s6ITEscmVuZGVyQnVsbGV0Om51bGwscmVuZGVyUHJvZ3Jlc3NiYXI6bnVsbCxyZW5kZXJGcmFjdGlvbjpudWxsLHJlbmRlckN1c3RvbTpudWxsLHByb2dyZXNzYmFyT3Bwb3NpdGU6ITEsdHlwZTpcImJ1bGxldHNcIixkeW5hbWljQnVsbGV0czohMSxkeW5hbWljTWFpbkJ1bGxldHM6MSxmb3JtYXRGcmFjdGlvbkN1cnJlbnQ6ZT0+ZSxmb3JtYXRGcmFjdGlvblRvdGFsOmU9PmUsYnVsbGV0Q2xhc3M6YCR7cn0tYnVsbGV0YCxidWxsZXRBY3RpdmVDbGFzczpgJHtyfS1idWxsZXQtYWN0aXZlYCxtb2RpZmllckNsYXNzOmAke3J9LWAsY3VycmVudENsYXNzOmAke3J9LWN1cnJlbnRgLHRvdGFsQ2xhc3M6YCR7cn0tdG90YWxgLGhpZGRlbkNsYXNzOmAke3J9LWhpZGRlbmAscHJvZ3Jlc3NiYXJGaWxsQ2xhc3M6YCR7cn0tcHJvZ3Jlc3NiYXItZmlsbGAscHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOmAke3J9LXByb2dyZXNzYmFyLW9wcG9zaXRlYCxjbGlja2FibGVDbGFzczpgJHtyfS1jbGlja2FibGVgLGxvY2tDbGFzczpgJHtyfS1sb2NrYCxob3Jpem9udGFsQ2xhc3M6YCR7cn0taG9yaXpvbnRhbGAsdmVydGljYWxDbGFzczpgJHtyfS12ZXJ0aWNhbGAscGFnaW5hdGlvbkRpc2FibGVkQ2xhc3M6YCR7cn0tZGlzYWJsZWRgfX0pLHQucGFnaW5hdGlvbj17ZWw6bnVsbCxidWxsZXRzOltdfTtsZXQgbD0wO2Z1bmN0aW9uIG8oKXtyZXR1cm4hdC5wYXJhbXMucGFnaW5hdGlvbi5lbHx8IXQucGFnaW5hdGlvbi5lbHx8QXJyYXkuaXNBcnJheSh0LnBhZ2luYXRpb24uZWwpJiYwPT09dC5wYWdpbmF0aW9uLmVsLmxlbmd0aH1mdW5jdGlvbiBkKGUscyl7Y29uc3R7YnVsbGV0QWN0aXZlQ2xhc3M6YX09dC5wYXJhbXMucGFnaW5hdGlvbjtlJiYoZT1lWyhcInByZXZcIj09PXM/XCJwcmV2aW91c1wiOlwibmV4dFwiKStcIkVsZW1lbnRTaWJsaW5nXCJdKSYmKGUuY2xhc3NMaXN0LmFkZChgJHthfS0ke3N9YCksKGU9ZVsoXCJwcmV2XCI9PT1zP1wicHJldmlvdXNcIjpcIm5leHRcIikrXCJFbGVtZW50U2libGluZ1wiXSkmJmUuY2xhc3NMaXN0LmFkZChgJHthfS0ke3N9LSR7c31gKSl9ZnVuY3Rpb24gYyhlKXtjb25zdCBzPWUudGFyZ2V0LmNsb3Nlc3QobmUodC5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpO2lmKCFzKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3QgYT15KHMpKnQucGFyYW1zLnNsaWRlc1Blckdyb3VwO2lmKHQucGFyYW1zLmxvb3Ape2lmKHQucmVhbEluZGV4PT09YSlyZXR1cm47Y29uc3QgZT0oaT10LnJlYWxJbmRleCxyPWEsbj10LnNsaWRlcy5sZW5ndGgsKHIlPW4pPT0xKyhpJT1uKT9cIm5leHRcIjpyPT09aS0xP1wicHJldmlvdXNcIjp2b2lkIDApO1wibmV4dFwiPT09ZT90LnNsaWRlTmV4dCgpOlwicHJldmlvdXNcIj09PWU/dC5zbGlkZVByZXYoKTp0LnNsaWRlVG9Mb29wKGEpfWVsc2UgdC5zbGlkZVRvKGEpO3ZhciBpLHIsbn1mdW5jdGlvbiBwKCl7Y29uc3QgZT10LnJ0bCxzPXQucGFyYW1zLnBhZ2luYXRpb247aWYobygpKXJldHVybjtsZXQgYSxyLGM9dC5wYWdpbmF0aW9uLmVsO2M9VChjKTtjb25zdCBwPXQudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkP3QudmlydHVhbC5zbGlkZXMubGVuZ3RoOnQuc2xpZGVzLmxlbmd0aCx1PXQucGFyYW1zLmxvb3A/TWF0aC5jZWlsKHAvdC5wYXJhbXMuc2xpZGVzUGVyR3JvdXApOnQuc25hcEdyaWQubGVuZ3RoO2lmKHQucGFyYW1zLmxvb3A/KHI9dC5wcmV2aW91c1JlYWxJbmRleHx8MCxhPXQucGFyYW1zLnNsaWRlc1Blckdyb3VwPjE/TWF0aC5mbG9vcih0LnJlYWxJbmRleC90LnBhcmFtcy5zbGlkZXNQZXJHcm91cCk6dC5yZWFsSW5kZXgpOnZvaWQgMCE9PXQuc25hcEluZGV4PyhhPXQuc25hcEluZGV4LHI9dC5wcmV2aW91c1NuYXBJbmRleCk6KHI9dC5wcmV2aW91c0luZGV4fHwwLGE9dC5hY3RpdmVJbmRleHx8MCksXCJidWxsZXRzXCI9PT1zLnR5cGUmJnQucGFnaW5hdGlvbi5idWxsZXRzJiZ0LnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGg+MCl7Y29uc3QgaT10LnBhZ2luYXRpb24uYnVsbGV0cztsZXQgbyxwLHU7aWYocy5keW5hbWljQnVsbGV0cyYmKG49UyhpWzBdLHQuaXNIb3Jpem9udGFsKCk/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsITApLGMuZm9yRWFjaCgoZT0+e2Uuc3R5bGVbdC5pc0hvcml6b250YWwoKT9cIndpZHRoXCI6XCJoZWlnaHRcIl09bioocy5keW5hbWljTWFpbkJ1bGxldHMrNCkrXCJweFwifSkpLHMuZHluYW1pY01haW5CdWxsZXRzPjEmJnZvaWQgMCE9PXImJihsKz1hLShyfHwwKSxsPnMuZHluYW1pY01haW5CdWxsZXRzLTE/bD1zLmR5bmFtaWNNYWluQnVsbGV0cy0xOmw8MCYmKGw9MCkpLG89TWF0aC5tYXgoYS1sLDApLHA9bysoTWF0aC5taW4oaS5sZW5ndGgscy5keW5hbWljTWFpbkJ1bGxldHMpLTEpLHU9KHArbykvMiksaS5mb3JFYWNoKChlPT57Y29uc3QgdD1bLi4uW1wiXCIsXCItbmV4dFwiLFwiLW5leHQtbmV4dFwiLFwiLXByZXZcIixcIi1wcmV2LXByZXZcIixcIi1tYWluXCJdLm1hcCgoZT0+YCR7cy5idWxsZXRBY3RpdmVDbGFzc30ke2V9YCkpXS5tYXAoKGU9Plwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluY2x1ZGVzKFwiIFwiKT9lLnNwbGl0KFwiIFwiKTplKSkuZmxhdCgpO2UuY2xhc3NMaXN0LnJlbW92ZSguLi50KX0pKSxjLmxlbmd0aD4xKWkuZm9yRWFjaCgoZT0+e2NvbnN0IGk9eShlKTtpPT09YT9lLmNsYXNzTGlzdC5hZGQoLi4ucy5idWxsZXRBY3RpdmVDbGFzcy5zcGxpdChcIiBcIikpOnQuaXNFbGVtZW50JiZlLnNldEF0dHJpYnV0ZShcInBhcnRcIixcImJ1bGxldFwiKSxzLmR5bmFtaWNCdWxsZXRzJiYoaT49byYmaTw9cCYmZS5jbGFzc0xpc3QuYWRkKC4uLmAke3MuYnVsbGV0QWN0aXZlQ2xhc3N9LW1haW5gLnNwbGl0KFwiIFwiKSksaT09PW8mJmQoZSxcInByZXZcIiksaT09PXAmJmQoZSxcIm5leHRcIikpfSkpO2Vsc2V7Y29uc3QgZT1pW2FdO2lmKGUmJmUuY2xhc3NMaXN0LmFkZCguLi5zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KFwiIFwiKSksdC5pc0VsZW1lbnQmJmkuZm9yRWFjaCgoKGUsdCk9PntlLnNldEF0dHJpYnV0ZShcInBhcnRcIix0PT09YT9cImJ1bGxldC1hY3RpdmVcIjpcImJ1bGxldFwiKX0pKSxzLmR5bmFtaWNCdWxsZXRzKXtjb25zdCBlPWlbb10sdD1pW3BdO2ZvcihsZXQgZT1vO2U8PXA7ZSs9MSlpW2VdJiZpW2VdLmNsYXNzTGlzdC5hZGQoLi4uYCR7cy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoXCIgXCIpKTtkKGUsXCJwcmV2XCIpLGQodCxcIm5leHRcIil9fWlmKHMuZHluYW1pY0J1bGxldHMpe2NvbnN0IGE9TWF0aC5taW4oaS5sZW5ndGgscy5keW5hbWljTWFpbkJ1bGxldHMrNCkscj0obiphLW4pLzItdSpuLGw9ZT9cInJpZ2h0XCI6XCJsZWZ0XCI7aS5mb3JFYWNoKChlPT57ZS5zdHlsZVt0LmlzSG9yaXpvbnRhbCgpP2w6XCJ0b3BcIl09YCR7cn1weGB9KSl9fWMuZm9yRWFjaCgoKGUscik9PntpZihcImZyYWN0aW9uXCI9PT1zLnR5cGUmJihlLnF1ZXJ5U2VsZWN0b3JBbGwobmUocy5jdXJyZW50Q2xhc3MpKS5mb3JFYWNoKChlPT57ZS50ZXh0Q29udGVudD1zLmZvcm1hdEZyYWN0aW9uQ3VycmVudChhKzEpfSkpLGUucXVlcnlTZWxlY3RvckFsbChuZShzLnRvdGFsQ2xhc3MpKS5mb3JFYWNoKChlPT57ZS50ZXh0Q29udGVudD1zLmZvcm1hdEZyYWN0aW9uVG90YWwodSl9KSkpLFwicHJvZ3Jlc3NiYXJcIj09PXMudHlwZSl7bGV0IGk7aT1zLnByb2dyZXNzYmFyT3Bwb3NpdGU/dC5pc0hvcml6b250YWwoKT9cInZlcnRpY2FsXCI6XCJob3Jpem9udGFsXCI6dC5pc0hvcml6b250YWwoKT9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCI7Y29uc3Qgcj0oYSsxKS91O2xldCBuPTEsbD0xO1wiaG9yaXpvbnRhbFwiPT09aT9uPXI6bD1yLGUucXVlcnlTZWxlY3RvckFsbChuZShzLnByb2dyZXNzYmFyRmlsbENsYXNzKSkuZm9yRWFjaCgoZT0+e2Uuc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKCR7bn0pIHNjYWxlWSgke2x9KWAsZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7dC5wYXJhbXMuc3BlZWR9bXNgfSkpfVwiY3VzdG9tXCI9PT1zLnR5cGUmJnMucmVuZGVyQ3VzdG9tPyhlLmlubmVySFRNTD1zLnJlbmRlckN1c3RvbSh0LGErMSx1KSwwPT09ciYmaShcInBhZ2luYXRpb25SZW5kZXJcIixlKSk6KDA9PT1yJiZpKFwicGFnaW5hdGlvblJlbmRlclwiLGUpLGkoXCJwYWdpbmF0aW9uVXBkYXRlXCIsZSkpLHQucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnQuZW5hYmxlZCYmZS5jbGFzc0xpc3RbdC5pc0xvY2tlZD9cImFkZFwiOlwicmVtb3ZlXCJdKHMubG9ja0NsYXNzKX0pKX1mdW5jdGlvbiB1KCl7Y29uc3QgZT10LnBhcmFtcy5wYWdpbmF0aW9uO2lmKG8oKSlyZXR1cm47Y29uc3Qgcz10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD90LnZpcnR1YWwuc2xpZGVzLmxlbmd0aDp0LmdyaWQmJnQucGFyYW1zLmdyaWQucm93cz4xP3Quc2xpZGVzLmxlbmd0aC9NYXRoLmNlaWwodC5wYXJhbXMuZ3JpZC5yb3dzKTp0LnNsaWRlcy5sZW5ndGg7bGV0IGE9dC5wYWdpbmF0aW9uLmVsO2E9VChhKTtsZXQgcj1cIlwiO2lmKFwiYnVsbGV0c1wiPT09ZS50eXBlKXtsZXQgYT10LnBhcmFtcy5sb29wP01hdGguY2VpbChzL3QucGFyYW1zLnNsaWRlc1Blckdyb3VwKTp0LnNuYXBHcmlkLmxlbmd0aDt0LnBhcmFtcy5mcmVlTW9kZSYmdC5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCYmYT5zJiYoYT1zKTtmb3IobGV0IHM9MDtzPGE7cys9MSllLnJlbmRlckJ1bGxldD9yKz1lLnJlbmRlckJ1bGxldC5jYWxsKHQscyxlLmJ1bGxldENsYXNzKTpyKz1gPCR7ZS5idWxsZXRFbGVtZW50fSAke3QuaXNFbGVtZW50PydwYXJ0PVwiYnVsbGV0XCInOlwiXCJ9IGNsYXNzPVwiJHtlLmJ1bGxldENsYXNzfVwiPjwvJHtlLmJ1bGxldEVsZW1lbnR9PmB9XCJmcmFjdGlvblwiPT09ZS50eXBlJiYocj1lLnJlbmRlckZyYWN0aW9uP2UucmVuZGVyRnJhY3Rpb24uY2FsbCh0LGUuY3VycmVudENsYXNzLGUudG90YWxDbGFzcyk6YDxzcGFuIGNsYXNzPVwiJHtlLmN1cnJlbnRDbGFzc31cIj48L3NwYW4+IC8gPHNwYW4gY2xhc3M9XCIke2UudG90YWxDbGFzc31cIj48L3NwYW4+YCksXCJwcm9ncmVzc2JhclwiPT09ZS50eXBlJiYocj1lLnJlbmRlclByb2dyZXNzYmFyP2UucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbCh0LGUucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpOmA8c3BhbiBjbGFzcz1cIiR7ZS5wcm9ncmVzc2JhckZpbGxDbGFzc31cIj48L3NwYW4+YCksdC5wYWdpbmF0aW9uLmJ1bGxldHM9W10sYS5mb3JFYWNoKChzPT57XCJjdXN0b21cIiE9PWUudHlwZSYmKHMuaW5uZXJIVE1MPXJ8fFwiXCIpLFwiYnVsbGV0c1wiPT09ZS50eXBlJiZ0LnBhZ2luYXRpb24uYnVsbGV0cy5wdXNoKC4uLnMucXVlcnlTZWxlY3RvckFsbChuZShlLmJ1bGxldENsYXNzKSkpfSkpLFwiY3VzdG9tXCIhPT1lLnR5cGUmJmkoXCJwYWdpbmF0aW9uUmVuZGVyXCIsYVswXSl9ZnVuY3Rpb24gbSgpe3QucGFyYW1zLnBhZ2luYXRpb249cmUodCx0Lm9yaWdpbmFsUGFyYW1zLnBhZ2luYXRpb24sdC5wYXJhbXMucGFnaW5hdGlvbix7ZWw6XCJzd2lwZXItcGFnaW5hdGlvblwifSk7Y29uc3QgZT10LnBhcmFtcy5wYWdpbmF0aW9uO2lmKCFlLmVsKXJldHVybjtsZXQgcztcInN0cmluZ1wiPT10eXBlb2YgZS5lbCYmdC5pc0VsZW1lbnQmJihzPXQuZWwucXVlcnlTZWxlY3RvcihlLmVsKSksc3x8XCJzdHJpbmdcIiE9dHlwZW9mIGUuZWx8fChzPVsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUuZWwpXSksc3x8KHM9ZS5lbCkscyYmMCE9PXMubGVuZ3RoJiYodC5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmVsJiZBcnJheS5pc0FycmF5KHMpJiZzLmxlbmd0aD4xJiYocz1bLi4udC5lbC5xdWVyeVNlbGVjdG9yQWxsKGUuZWwpXSxzLmxlbmd0aD4xJiYocz1zLmZpbHRlcigoZT0+RShlLFwiLnN3aXBlclwiKVswXT09PXQuZWwpKVswXSkpLEFycmF5LmlzQXJyYXkocykmJjE9PT1zLmxlbmd0aCYmKHM9c1swXSksT2JqZWN0LmFzc2lnbih0LnBhZ2luYXRpb24se2VsOnN9KSxzPVQocykscy5mb3JFYWNoKChzPT57XCJidWxsZXRzXCI9PT1lLnR5cGUmJmUuY2xpY2thYmxlJiZzLmNsYXNzTGlzdC5hZGQoLi4uKGUuY2xpY2thYmxlQ2xhc3N8fFwiXCIpLnNwbGl0KFwiIFwiKSkscy5jbGFzc0xpc3QuYWRkKGUubW9kaWZpZXJDbGFzcytlLnR5cGUpLHMuY2xhc3NMaXN0LmFkZCh0LmlzSG9yaXpvbnRhbCgpP2UuaG9yaXpvbnRhbENsYXNzOmUudmVydGljYWxDbGFzcyksXCJidWxsZXRzXCI9PT1lLnR5cGUmJmUuZHluYW1pY0J1bGxldHMmJihzLmNsYXNzTGlzdC5hZGQoYCR7ZS5tb2RpZmllckNsYXNzfSR7ZS50eXBlfS1keW5hbWljYCksbD0wLGUuZHluYW1pY01haW5CdWxsZXRzPDEmJihlLmR5bmFtaWNNYWluQnVsbGV0cz0xKSksXCJwcm9ncmVzc2JhclwiPT09ZS50eXBlJiZlLnByb2dyZXNzYmFyT3Bwb3NpdGUmJnMuY2xhc3NMaXN0LmFkZChlLnByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzcyksZS5jbGlja2FibGUmJnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYyksdC5lbmFibGVkfHxzLmNsYXNzTGlzdC5hZGQoZS5sb2NrQ2xhc3MpfSkpKX1mdW5jdGlvbiBoKCl7Y29uc3QgZT10LnBhcmFtcy5wYWdpbmF0aW9uO2lmKG8oKSlyZXR1cm47bGV0IHM9dC5wYWdpbmF0aW9uLmVsO3MmJihzPVQocykscy5mb3JFYWNoKChzPT57cy5jbGFzc0xpc3QucmVtb3ZlKGUuaGlkZGVuQ2xhc3MpLHMuY2xhc3NMaXN0LnJlbW92ZShlLm1vZGlmaWVyQ2xhc3MrZS50eXBlKSxzLmNsYXNzTGlzdC5yZW1vdmUodC5pc0hvcml6b250YWwoKT9lLmhvcml6b250YWxDbGFzczplLnZlcnRpY2FsQ2xhc3MpLGUuY2xpY2thYmxlJiYocy5jbGFzc0xpc3QucmVtb3ZlKC4uLihlLmNsaWNrYWJsZUNsYXNzfHxcIlwiKS5zcGxpdChcIiBcIikpLHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYykpfSkpKSx0LnBhZ2luYXRpb24uYnVsbGV0cyYmdC5wYWdpbmF0aW9uLmJ1bGxldHMuZm9yRWFjaCgodD0+dC5jbGFzc0xpc3QucmVtb3ZlKC4uLmUuYnVsbGV0QWN0aXZlQ2xhc3Muc3BsaXQoXCIgXCIpKSkpfWEoXCJjaGFuZ2VEaXJlY3Rpb25cIiwoKCk9PntpZighdC5wYWdpbmF0aW9ufHwhdC5wYWdpbmF0aW9uLmVsKXJldHVybjtjb25zdCBlPXQucGFyYW1zLnBhZ2luYXRpb247bGV0e2VsOnN9PXQucGFnaW5hdGlvbjtzPVQocykscy5mb3JFYWNoKChzPT57cy5jbGFzc0xpc3QucmVtb3ZlKGUuaG9yaXpvbnRhbENsYXNzLGUudmVydGljYWxDbGFzcykscy5jbGFzc0xpc3QuYWRkKHQuaXNIb3Jpem9udGFsKCk/ZS5ob3Jpem9udGFsQ2xhc3M6ZS52ZXJ0aWNhbENsYXNzKX0pKX0pKSxhKFwiaW5pdFwiLCgoKT0+eyExPT09dC5wYXJhbXMucGFnaW5hdGlvbi5lbmFibGVkP2YoKToobSgpLHUoKSxwKCkpfSkpLGEoXCJhY3RpdmVJbmRleENoYW5nZVwiLCgoKT0+e3ZvaWQgMD09PXQuc25hcEluZGV4JiZwKCl9KSksYShcInNuYXBJbmRleENoYW5nZVwiLCgoKT0+e3AoKX0pKSxhKFwic25hcEdyaWRMZW5ndGhDaGFuZ2VcIiwoKCk9Pnt1KCkscCgpfSkpLGEoXCJkZXN0cm95XCIsKCgpPT57aCgpfSkpLGEoXCJlbmFibGUgZGlzYWJsZVwiLCgoKT0+e2xldHtlbDplfT10LnBhZ2luYXRpb247ZSYmKGU9VChlKSxlLmZvckVhY2goKGU9PmUuY2xhc3NMaXN0W3QuZW5hYmxlZD9cInJlbW92ZVwiOlwiYWRkXCJdKHQucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKSkpKX0pKSxhKFwibG9jayB1bmxvY2tcIiwoKCk9PntwKCl9KSksYShcImNsaWNrXCIsKChlLHMpPT57Y29uc3QgYT1zLnRhcmdldCxyPVQodC5wYWdpbmF0aW9uLmVsKTtpZih0LnBhcmFtcy5wYWdpbmF0aW9uLmVsJiZ0LnBhcmFtcy5wYWdpbmF0aW9uLmhpZGVPbkNsaWNrJiZyJiZyLmxlbmd0aD4wJiYhYS5jbGFzc0xpc3QuY29udGFpbnModC5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpe2lmKHQubmF2aWdhdGlvbiYmKHQubmF2aWdhdGlvbi5uZXh0RWwmJmE9PT10Lm5hdmlnYXRpb24ubmV4dEVsfHx0Lm5hdmlnYXRpb24ucHJldkVsJiZhPT09dC5uYXZpZ2F0aW9uLnByZXZFbCkpcmV0dXJuO2NvbnN0IGU9clswXS5jbGFzc0xpc3QuY29udGFpbnModC5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7aSghMD09PWU/XCJwYWdpbmF0aW9uU2hvd1wiOlwicGFnaW5hdGlvbkhpZGVcIiksci5mb3JFYWNoKChlPT5lLmNsYXNzTGlzdC50b2dnbGUodC5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcykpKX19KSk7Y29uc3QgZj0oKT0+e3QuZWwuY2xhc3NMaXN0LmFkZCh0LnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKTtsZXR7ZWw6ZX09dC5wYWdpbmF0aW9uO2UmJihlPVQoZSksZS5mb3JFYWNoKChlPT5lLmNsYXNzTGlzdC5hZGQodC5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcykpKSksaCgpfTtPYmplY3QuYXNzaWduKHQucGFnaW5hdGlvbix7ZW5hYmxlOigpPT57dC5lbC5jbGFzc0xpc3QucmVtb3ZlKHQucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO2xldHtlbDplfT10LnBhZ2luYXRpb247ZSYmKGU9VChlKSxlLmZvckVhY2goKGU9PmUuY2xhc3NMaXN0LnJlbW92ZSh0LnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKSkpKSxtKCksdSgpLHAoKX0sZGlzYWJsZTpmLHJlbmRlcjp1LHVwZGF0ZTpwLGluaXQ6bSxkZXN0cm95Omh9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmksZW1pdDpyfT1lO2NvbnN0IG89YSgpO2xldCBkLGMscCx1LG09ITEsaD1udWxsLGY9bnVsbDtmdW5jdGlvbiBnKCl7aWYoIXQucGFyYW1zLnNjcm9sbGJhci5lbHx8IXQuc2Nyb2xsYmFyLmVsKXJldHVybjtjb25zdHtzY3JvbGxiYXI6ZSxydGxUcmFuc2xhdGU6c309dCx7ZHJhZ0VsOmEsZWw6aX09ZSxyPXQucGFyYW1zLnNjcm9sbGJhcixuPXQucGFyYW1zLmxvb3A/dC5wcm9ncmVzc0xvb3A6dC5wcm9ncmVzcztsZXQgbD1jLG89KHAtYykqbjtzPyhvPS1vLG8+MD8obD1jLW8sbz0wKTotbytjPnAmJihsPXArbykpOm88MD8obD1jK28sbz0wKTpvK2M+cCYmKGw9cC1vKSx0LmlzSG9yaXpvbnRhbCgpPyhhLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoJHtvfXB4LCAwLCAwKWAsYS5zdHlsZS53aWR0aD1gJHtsfXB4YCk6KGEuc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgwcHgsICR7b31weCwgMClgLGEuc3R5bGUuaGVpZ2h0PWAke2x9cHhgKSxyLmhpZGUmJihjbGVhclRpbWVvdXQoaCksaS5zdHlsZS5vcGFjaXR5PTEsaD1zZXRUaW1lb3V0KCgoKT0+e2kuc3R5bGUub3BhY2l0eT0wLGkuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiNDAwbXNcIn0pLDFlMykpfWZ1bmN0aW9uIGIoKXtpZighdC5wYXJhbXMuc2Nyb2xsYmFyLmVsfHwhdC5zY3JvbGxiYXIuZWwpcmV0dXJuO2NvbnN0e3Njcm9sbGJhcjplfT10LHtkcmFnRWw6cyxlbDphfT1lO3Muc3R5bGUud2lkdGg9XCJcIixzLnN0eWxlLmhlaWdodD1cIlwiLHA9dC5pc0hvcml6b250YWwoKT9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LHU9dC5zaXplLyh0LnZpcnR1YWxTaXplK3QucGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS0odC5wYXJhbXMuY2VudGVyZWRTbGlkZXM/dC5zbmFwR3JpZFswXTowKSksYz1cImF1dG9cIj09PXQucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZT9wKnU6cGFyc2VJbnQodC5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplLDEwKSx0LmlzSG9yaXpvbnRhbCgpP3Muc3R5bGUud2lkdGg9YCR7Y31weGA6cy5zdHlsZS5oZWlnaHQ9YCR7Y31weGAsYS5zdHlsZS5kaXNwbGF5PXU+PTE/XCJub25lXCI6XCJcIix0LnBhcmFtcy5zY3JvbGxiYXIuaGlkZSYmKGEuc3R5bGUub3BhY2l0eT0wKSx0LnBhcmFtcy53YXRjaE92ZXJmbG93JiZ0LmVuYWJsZWQmJmUuZWwuY2xhc3NMaXN0W3QuaXNMb2NrZWQ/XCJhZGRcIjpcInJlbW92ZVwiXSh0LnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKX1mdW5jdGlvbiB5KGUpe3JldHVybiB0LmlzSG9yaXpvbnRhbCgpP2UuY2xpZW50WDplLmNsaWVudFl9ZnVuY3Rpb24gRShlKXtjb25zdHtzY3JvbGxiYXI6cyxydGxUcmFuc2xhdGU6YX09dCx7ZWw6aX09cztsZXQgcjtyPSh5KGUpLXcoaSlbdC5pc0hvcml6b250YWwoKT9cImxlZnRcIjpcInRvcFwiXS0obnVsbCE9PWQ/ZDpjLzIpKS8ocC1jKSxyPU1hdGgubWF4KE1hdGgubWluKHIsMSksMCksYSYmKHI9MS1yKTtjb25zdCBuPXQubWluVHJhbnNsYXRlKCkrKHQubWF4VHJhbnNsYXRlKCktdC5taW5UcmFuc2xhdGUoKSkqcjt0LnVwZGF0ZVByb2dyZXNzKG4pLHQuc2V0VHJhbnNsYXRlKG4pLHQudXBkYXRlQWN0aXZlSW5kZXgoKSx0LnVwZGF0ZVNsaWRlc0NsYXNzZXMoKX1mdW5jdGlvbiB4KGUpe2NvbnN0IHM9dC5wYXJhbXMuc2Nyb2xsYmFyLHtzY3JvbGxiYXI6YSx3cmFwcGVyRWw6aX09dCx7ZWw6bixkcmFnRWw6bH09YTttPSEwLGQ9ZS50YXJnZXQ9PT1sP3koZSktZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdC5pc0hvcml6b250YWwoKT9cImxlZnRcIjpcInRvcFwiXTpudWxsLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGkuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiMTAwbXNcIixsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIjEwMG1zXCIsRShlKSxjbGVhclRpbWVvdXQoZiksbi5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCIwbXNcIixzLmhpZGUmJihuLnN0eWxlLm9wYWNpdHk9MSksdC5wYXJhbXMuY3NzTW9kZSYmKHQud3JhcHBlckVsLnN0eWxlW1wic2Nyb2xsLXNuYXAtdHlwZVwiXT1cIm5vbmVcIikscihcInNjcm9sbGJhckRyYWdTdGFydFwiLGUpfWZ1bmN0aW9uIFMoZSl7Y29uc3R7c2Nyb2xsYmFyOnMsd3JhcHBlckVsOmF9PXQse2VsOmksZHJhZ0VsOm59PXM7bSYmKGUucHJldmVudERlZmF1bHQmJmUuY2FuY2VsYWJsZT9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMSxFKGUpLGEuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiMG1zXCIsaS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCIwbXNcIixuLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIjBtc1wiLHIoXCJzY3JvbGxiYXJEcmFnTW92ZVwiLGUpKX1mdW5jdGlvbiBNKGUpe2NvbnN0IHM9dC5wYXJhbXMuc2Nyb2xsYmFyLHtzY3JvbGxiYXI6YSx3cmFwcGVyRWw6aX09dCx7ZWw6bn09YTttJiYobT0hMSx0LnBhcmFtcy5jc3NNb2RlJiYodC53cmFwcGVyRWwuc3R5bGVbXCJzY3JvbGwtc25hcC10eXBlXCJdPVwiXCIsaS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCJcIikscy5oaWRlJiYoY2xlYXJUaW1lb3V0KGYpLGY9bCgoKCk9PntuLnN0eWxlLm9wYWNpdHk9MCxuLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIjQwMG1zXCJ9KSwxZTMpKSxyKFwic2Nyb2xsYmFyRHJhZ0VuZFwiLGUpLHMuc25hcE9uUmVsZWFzZSYmdC5zbGlkZVRvQ2xvc2VzdCgpKX1mdW5jdGlvbiBDKGUpe2NvbnN0e3Njcm9sbGJhcjpzLHBhcmFtczphfT10LGk9cy5lbDtpZighaSlyZXR1cm47Y29uc3Qgcj1pLG49ISFhLnBhc3NpdmVMaXN0ZW5lcnMmJntwYXNzaXZlOiExLGNhcHR1cmU6ITF9LGw9ISFhLnBhc3NpdmVMaXN0ZW5lcnMmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9O2lmKCFyKXJldHVybjtjb25zdCBkPVwib25cIj09PWU/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCI7cltkXShcInBvaW50ZXJkb3duXCIseCxuKSxvW2RdKFwicG9pbnRlcm1vdmVcIixTLG4pLG9bZF0oXCJwb2ludGVydXBcIixNLGwpfWZ1bmN0aW9uIFAoKXtjb25zdHtzY3JvbGxiYXI6ZSxlbDpzfT10O3QucGFyYW1zLnNjcm9sbGJhcj1yZSh0LHQub3JpZ2luYWxQYXJhbXMuc2Nyb2xsYmFyLHQucGFyYW1zLnNjcm9sbGJhcix7ZWw6XCJzd2lwZXItc2Nyb2xsYmFyXCJ9KTtjb25zdCBhPXQucGFyYW1zLnNjcm9sbGJhcjtpZighYS5lbClyZXR1cm47bGV0IGkscjtpZihcInN0cmluZ1wiPT10eXBlb2YgYS5lbCYmdC5pc0VsZW1lbnQmJihpPXQuZWwucXVlcnlTZWxlY3RvcihhLmVsKSksaXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEuZWwpaXx8KGk9YS5lbCk7ZWxzZSBpZihpPW8ucXVlcnlTZWxlY3RvckFsbChhLmVsKSwhaS5sZW5ndGgpcmV0dXJuO3QucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzJiZcInN0cmluZ1wiPT10eXBlb2YgYS5lbCYmaS5sZW5ndGg+MSYmMT09PXMucXVlcnlTZWxlY3RvckFsbChhLmVsKS5sZW5ndGgmJihpPXMucXVlcnlTZWxlY3RvcihhLmVsKSksaS5sZW5ndGg+MCYmKGk9aVswXSksaS5jbGFzc0xpc3QuYWRkKHQuaXNIb3Jpem9udGFsKCk/YS5ob3Jpem9udGFsQ2xhc3M6YS52ZXJ0aWNhbENsYXNzKSxpJiYocj1pLnF1ZXJ5U2VsZWN0b3IobmUodC5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdDbGFzcykpLHJ8fChyPXYoXCJkaXZcIix0LnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzKSxpLmFwcGVuZChyKSkpLE9iamVjdC5hc3NpZ24oZSx7ZWw6aSxkcmFnRWw6cn0pLGEuZHJhZ2dhYmxlJiZ0LnBhcmFtcy5zY3JvbGxiYXIuZWwmJnQuc2Nyb2xsYmFyLmVsJiZDKFwib25cIiksaSYmaS5jbGFzc0xpc3RbdC5lbmFibGVkP1wicmVtb3ZlXCI6XCJhZGRcIl0oLi4ubih0LnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKSl9ZnVuY3Rpb24gTCgpe2NvbnN0IGU9dC5wYXJhbXMuc2Nyb2xsYmFyLHM9dC5zY3JvbGxiYXIuZWw7cyYmcy5jbGFzc0xpc3QucmVtb3ZlKC4uLm4odC5pc0hvcml6b250YWwoKT9lLmhvcml6b250YWxDbGFzczplLnZlcnRpY2FsQ2xhc3MpKSx0LnBhcmFtcy5zY3JvbGxiYXIuZWwmJnQuc2Nyb2xsYmFyLmVsJiZDKFwib2ZmXCIpfXMoe3Njcm9sbGJhcjp7ZWw6bnVsbCxkcmFnU2l6ZTpcImF1dG9cIixoaWRlOiExLGRyYWdnYWJsZTohMSxzbmFwT25SZWxlYXNlOiEwLGxvY2tDbGFzczpcInN3aXBlci1zY3JvbGxiYXItbG9ja1wiLGRyYWdDbGFzczpcInN3aXBlci1zY3JvbGxiYXItZHJhZ1wiLHNjcm9sbGJhckRpc2FibGVkQ2xhc3M6XCJzd2lwZXItc2Nyb2xsYmFyLWRpc2FibGVkXCIsaG9yaXpvbnRhbENsYXNzOlwic3dpcGVyLXNjcm9sbGJhci1ob3Jpem9udGFsXCIsdmVydGljYWxDbGFzczpcInN3aXBlci1zY3JvbGxiYXItdmVydGljYWxcIn19KSx0LnNjcm9sbGJhcj17ZWw6bnVsbCxkcmFnRWw6bnVsbH0saShcImNoYW5nZURpcmVjdGlvblwiLCgoKT0+e2lmKCF0LnNjcm9sbGJhcnx8IXQuc2Nyb2xsYmFyLmVsKXJldHVybjtjb25zdCBlPXQucGFyYW1zLnNjcm9sbGJhcjtsZXR7ZWw6c309dC5zY3JvbGxiYXI7cz1UKHMpLHMuZm9yRWFjaCgocz0+e3MuY2xhc3NMaXN0LnJlbW92ZShlLmhvcml6b250YWxDbGFzcyxlLnZlcnRpY2FsQ2xhc3MpLHMuY2xhc3NMaXN0LmFkZCh0LmlzSG9yaXpvbnRhbCgpP2UuaG9yaXpvbnRhbENsYXNzOmUudmVydGljYWxDbGFzcyl9KSl9KSksaShcImluaXRcIiwoKCk9PnshMT09PXQucGFyYW1zLnNjcm9sbGJhci5lbmFibGVkP0koKTooUCgpLGIoKSxnKCkpfSkpLGkoXCJ1cGRhdGUgcmVzaXplIG9ic2VydmVyVXBkYXRlIGxvY2sgdW5sb2NrIGNoYW5nZURpcmVjdGlvblwiLCgoKT0+e2IoKX0pKSxpKFwic2V0VHJhbnNsYXRlXCIsKCgpPT57ZygpfSkpLGkoXCJzZXRUcmFuc2l0aW9uXCIsKChlLHMpPT57IWZ1bmN0aW9uKGUpe3QucGFyYW1zLnNjcm9sbGJhci5lbCYmdC5zY3JvbGxiYXIuZWwmJih0LnNjcm9sbGJhci5kcmFnRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWAke2V9bXNgKX0ocyl9KSksaShcImVuYWJsZSBkaXNhYmxlXCIsKCgpPT57Y29uc3R7ZWw6ZX09dC5zY3JvbGxiYXI7ZSYmZS5jbGFzc0xpc3RbdC5lbmFibGVkP1wicmVtb3ZlXCI6XCJhZGRcIl0oLi4ubih0LnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKSl9KSksaShcImRlc3Ryb3lcIiwoKCk9PntMKCl9KSk7Y29uc3QgST0oKT0+e3QuZWwuY2xhc3NMaXN0LmFkZCguLi5uKHQucGFyYW1zLnNjcm9sbGJhci5zY3JvbGxiYXJEaXNhYmxlZENsYXNzKSksdC5zY3JvbGxiYXIuZWwmJnQuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5hZGQoLi4ubih0LnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcykpLEwoKX07T2JqZWN0LmFzc2lnbih0LnNjcm9sbGJhcix7ZW5hYmxlOigpPT57dC5lbC5jbGFzc0xpc3QucmVtb3ZlKC4uLm4odC5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpKSx0LnNjcm9sbGJhci5lbCYmdC5zY3JvbGxiYXIuZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5uKHQucGFyYW1zLnNjcm9sbGJhci5zY3JvbGxiYXJEaXNhYmxlZENsYXNzKSksUCgpLGIoKSxnKCl9LGRpc2FibGU6SSx1cGRhdGVTaXplOmIsc2V0VHJhbnNsYXRlOmcsaW5pdDpQLGRlc3Ryb3k6TH0pfSxmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsZXh0ZW5kUGFyYW1zOnMsb246YX09ZTtzKHtwYXJhbGxheDp7ZW5hYmxlZDohMX19KTtjb25zdCBpPVwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXVwiLHI9KGUscyk9Pntjb25zdHtydGw6YX09dCxpPWE/LTE6MSxyPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItcGFyYWxsYXhcIil8fFwiMFwiO2xldCBuPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgteFwiKSxsPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgteVwiKTtjb25zdCBvPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVcIiksZD1lLmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHlcIiksYz1lLmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXBhcmFsbGF4LXJvdGF0ZVwiKTtpZihufHxsPyhuPW58fFwiMFwiLGw9bHx8XCIwXCIpOnQuaXNIb3Jpem9udGFsKCk/KG49cixsPVwiMFwiKToobD1yLG49XCIwXCIpLG49bi5pbmRleE9mKFwiJVwiKT49MD9wYXJzZUludChuLDEwKSpzKmkrXCIlXCI6bipzKmkrXCJweFwiLGw9bC5pbmRleE9mKFwiJVwiKT49MD9wYXJzZUludChsLDEwKSpzK1wiJVwiOmwqcytcInB4XCIsbnVsbCE9ZCl7Y29uc3QgdD1kLShkLTEpKigxLU1hdGguYWJzKHMpKTtlLnN0eWxlLm9wYWNpdHk9dH1sZXQgcD1gdHJhbnNsYXRlM2QoJHtufSwgJHtsfSwgMHB4KWA7aWYobnVsbCE9byl7cCs9YCBzY2FsZSgke28tKG8tMSkqKDEtTWF0aC5hYnMocykpfSlgfWlmKGMmJm51bGwhPWMpe3ArPWAgcm90YXRlKCR7YypzKi0xfWRlZylgfWUuc3R5bGUudHJhbnNmb3JtPXB9LG49KCk9Pntjb25zdHtlbDplLHNsaWRlczpzLHByb2dyZXNzOmEsc25hcEdyaWQ6bixpc0VsZW1lbnQ6bH09dCxvPWYoZSxpKTt0LmlzRWxlbWVudCYmby5wdXNoKC4uLmYodC5ob3N0RWwsaSkpLG8uZm9yRWFjaCgoZT0+e3IoZSxhKX0pKSxzLmZvckVhY2goKChlLHMpPT57bGV0IGw9ZS5wcm9ncmVzczt0LnBhcmFtcy5zbGlkZXNQZXJHcm91cD4xJiZcImF1dG9cIiE9PXQucGFyYW1zLnNsaWRlc1BlclZpZXcmJihsKz1NYXRoLmNlaWwocy8yKS1hKihuLmxlbmd0aC0xKSksbD1NYXRoLm1pbihNYXRoLm1heChsLC0xKSwxKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoYCR7aX0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1yb3RhdGVdYCkuZm9yRWFjaCgoZT0+e3IoZSxsKX0pKX0pKX07YShcImJlZm9yZUluaXRcIiwoKCk9Pnt0LnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiYodC5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcz0hMCx0Lm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3M9ITApfSkpLGEoXCJpbml0XCIsKCgpPT57dC5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCYmbigpfSkpLGEoXCJzZXRUcmFuc2xhdGVcIiwoKCk9Pnt0LnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiZuKCl9KSksYShcInNldFRyYW5zaXRpb25cIiwoKGUscyk9Pnt0LnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiZmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10LnBhcmFtcy5zcGVlZCk7Y29uc3R7ZWw6cyxob3N0RWw6YX09dCxyPVsuLi5zLnF1ZXJ5U2VsZWN0b3JBbGwoaSldO3QuaXNFbGVtZW50JiZyLnB1c2goLi4uYS5xdWVyeVNlbGVjdG9yQWxsKGkpKSxyLmZvckVhY2goKHQ9PntsZXQgcz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uXCIpLDEwKXx8ZTswPT09ZSYmKHM9MCksdC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7c31tc2B9KSl9KHMpfSkpfSxmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsZXh0ZW5kUGFyYW1zOnMsb246YSxlbWl0Oml9PWU7Y29uc3Qgbj1yKCk7cyh7em9vbTp7ZW5hYmxlZDohMSxsaW1pdFRvT3JpZ2luYWxTaXplOiExLG1heFJhdGlvOjMsbWluUmF0aW86MSx0b2dnbGU6ITAsY29udGFpbmVyQ2xhc3M6XCJzd2lwZXItem9vbS1jb250YWluZXJcIix6b29tZWRTbGlkZUNsYXNzOlwic3dpcGVyLXNsaWRlLXpvb21lZFwifX0pLHQuem9vbT17ZW5hYmxlZDohMX07bGV0IGwsbyxjPTEscD0hMTtjb25zdCB1PVtdLG09e29yaWdpblg6MCxvcmlnaW5ZOjAsc2xpZGVFbDp2b2lkIDAsc2xpZGVXaWR0aDp2b2lkIDAsc2xpZGVIZWlnaHQ6dm9pZCAwLGltYWdlRWw6dm9pZCAwLGltYWdlV3JhcEVsOnZvaWQgMCxtYXhSYXRpbzozfSxoPXtpc1RvdWNoZWQ6dm9pZCAwLGlzTW92ZWQ6dm9pZCAwLGN1cnJlbnRYOnZvaWQgMCxjdXJyZW50WTp2b2lkIDAsbWluWDp2b2lkIDAsbWluWTp2b2lkIDAsbWF4WDp2b2lkIDAsbWF4WTp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsc3RhcnRYOnZvaWQgMCxzdGFydFk6dm9pZCAwLHRvdWNoZXNTdGFydDp7fSx0b3VjaGVzQ3VycmVudDp7fX0sZz17eDp2b2lkIDAseTp2b2lkIDAscHJldlBvc2l0aW9uWDp2b2lkIDAscHJldlBvc2l0aW9uWTp2b2lkIDAscHJldlRpbWU6dm9pZCAwfTtsZXQgdixiPTE7ZnVuY3Rpb24geSgpe2lmKHUubGVuZ3RoPDIpcmV0dXJuIDE7Y29uc3QgZT11WzBdLnBhZ2VYLHQ9dVswXS5wYWdlWSxzPXVbMV0ucGFnZVgsYT11WzFdLnBhZ2VZO3JldHVybiBNYXRoLnNxcnQoKHMtZSkqKjIrKGEtdCkqKjIpfWZ1bmN0aW9uIHgoKXtjb25zdCBlPXQucGFyYW1zLnpvb20scz1tLmltYWdlV3JhcEVsLmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXpvb21cIil8fGUubWF4UmF0aW87aWYoZS5saW1pdFRvT3JpZ2luYWxTaXplJiZtLmltYWdlRWwmJm0uaW1hZ2VFbC5uYXR1cmFsV2lkdGgpe2NvbnN0IGU9bS5pbWFnZUVsLm5hdHVyYWxXaWR0aC9tLmltYWdlRWwub2Zmc2V0V2lkdGg7cmV0dXJuIE1hdGgubWluKGUscyl9cmV0dXJuIHN9ZnVuY3Rpb24gUyhlKXtjb25zdCBzPXQuaXNFbGVtZW50P1wic3dpcGVyLXNsaWRlXCI6YC4ke3QucGFyYW1zLnNsaWRlQ2xhc3N9YDtyZXR1cm4hIWUudGFyZ2V0Lm1hdGNoZXMocyl8fHQuc2xpZGVzLmZpbHRlcigodD0+dC5jb250YWlucyhlLnRhcmdldCkpKS5sZW5ndGg+MH1mdW5jdGlvbiBUKGUpe2lmKFwibW91c2VcIj09PWUucG9pbnRlclR5cGUmJnUuc3BsaWNlKDAsdS5sZW5ndGgpLCFTKGUpKXJldHVybjtjb25zdCBzPXQucGFyYW1zLnpvb207aWYobD0hMSxvPSExLHUucHVzaChlKSwhKHUubGVuZ3RoPDIpKXtpZihsPSEwLG0uc2NhbGVTdGFydD15KCksIW0uc2xpZGVFbCl7bS5zbGlkZUVsPWUudGFyZ2V0LmNsb3Nlc3QoYC4ke3QucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSxtLnNsaWRlRWx8fChtLnNsaWRlRWw9dC5zbGlkZXNbdC5hY3RpdmVJbmRleF0pO2xldCBhPW0uc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtzLmNvbnRhaW5lckNsYXNzfWApO2lmKGEmJihhPWEucXVlcnlTZWxlY3RvckFsbChcInBpY3R1cmUsIGltZywgc3ZnLCBjYW52YXMsIC5zd2lwZXItem9vbS10YXJnZXRcIilbMF0pLG0uaW1hZ2VFbD1hLG0uaW1hZ2VXcmFwRWw9YT9FKG0uaW1hZ2VFbCxgLiR7cy5jb250YWluZXJDbGFzc31gKVswXTp2b2lkIDAsIW0uaW1hZ2VXcmFwRWwpcmV0dXJuIHZvaWQobS5pbWFnZUVsPXZvaWQgMCk7bS5tYXhSYXRpbz14KCl9aWYobS5pbWFnZUVsKXtjb25zdFtlLHRdPWZ1bmN0aW9uKCl7aWYodS5sZW5ndGg8MilyZXR1cm57eDpudWxsLHk6bnVsbH07Y29uc3QgZT1tLmltYWdlRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuWyh1WzBdLnBhZ2VYKyh1WzFdLnBhZ2VYLXVbMF0ucGFnZVgpLzItZS54LW4uc2Nyb2xsWCkvYywodVswXS5wYWdlWSsodVsxXS5wYWdlWS11WzBdLnBhZ2VZKS8yLWUueS1uLnNjcm9sbFkpL2NdfSgpO20ub3JpZ2luWD1lLG0ub3JpZ2luWT10LG0uaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCIwbXNcIn1wPSEwfX1mdW5jdGlvbiBNKGUpe2lmKCFTKGUpKXJldHVybjtjb25zdCBzPXQucGFyYW1zLnpvb20sYT10Lnpvb20saT11LmZpbmRJbmRleCgodD0+dC5wb2ludGVySWQ9PT1lLnBvaW50ZXJJZCkpO2k+PTAmJih1W2ldPWUpLHUubGVuZ3RoPDJ8fChvPSEwLG0uc2NhbGVNb3ZlPXkoKSxtLmltYWdlRWwmJihhLnNjYWxlPW0uc2NhbGVNb3ZlL20uc2NhbGVTdGFydCpjLGEuc2NhbGU+bS5tYXhSYXRpbyYmKGEuc2NhbGU9bS5tYXhSYXRpby0xKyhhLnNjYWxlLW0ubWF4UmF0aW8rMSkqKi41KSxhLnNjYWxlPHMubWluUmF0aW8mJihhLnNjYWxlPXMubWluUmF0aW8rMS0ocy5taW5SYXRpby1hLnNjYWxlKzEpKiouNSksbS5pbWFnZUVsLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7YS5zY2FsZX0pYCkpfWZ1bmN0aW9uIEMoZSl7aWYoIVMoZSkpcmV0dXJuO2lmKFwibW91c2VcIj09PWUucG9pbnRlclR5cGUmJlwicG9pbnRlcm91dFwiPT09ZS50eXBlKXJldHVybjtjb25zdCBzPXQucGFyYW1zLnpvb20sYT10Lnpvb20saT11LmZpbmRJbmRleCgodD0+dC5wb2ludGVySWQ9PT1lLnBvaW50ZXJJZCkpO2k+PTAmJnUuc3BsaWNlKGksMSksbCYmbyYmKGw9ITEsbz0hMSxtLmltYWdlRWwmJihhLnNjYWxlPU1hdGgubWF4KE1hdGgubWluKGEuc2NhbGUsbS5tYXhSYXRpbykscy5taW5SYXRpbyksbS5pbWFnZUVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHt0LnBhcmFtcy5zcGVlZH1tc2AsbS5pbWFnZUVsLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7YS5zY2FsZX0pYCxjPWEuc2NhbGUscD0hMSxhLnNjYWxlPjEmJm0uc2xpZGVFbD9tLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHtzLnpvb21lZFNsaWRlQ2xhc3N9YCk6YS5zY2FsZTw9MSYmbS5zbGlkZUVsJiZtLnNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzLnpvb21lZFNsaWRlQ2xhc3N9YCksMT09PWEuc2NhbGUmJihtLm9yaWdpblg9MCxtLm9yaWdpblk9MCxtLnNsaWRlRWw9dm9pZCAwKSkpfWZ1bmN0aW9uIFAoKXt0LnRvdWNoRXZlbnRzRGF0YS5wcmV2ZW50VG91Y2hNb3ZlRnJvbVBvaW50ZXJNb3ZlPSExfWZ1bmN0aW9uIEwoZSl7aWYoIVMoZSl8fCFmdW5jdGlvbihlKXtjb25zdCBzPWAuJHt0LnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzfWA7cmV0dXJuISFlLnRhcmdldC5tYXRjaGVzKHMpfHxbLi4udC5ob3N0RWwucXVlcnlTZWxlY3RvckFsbChzKV0uZmlsdGVyKCh0PT50LmNvbnRhaW5zKGUudGFyZ2V0KSkpLmxlbmd0aD4wfShlKSlyZXR1cm47Y29uc3Qgcz10Lnpvb207aWYoIW0uaW1hZ2VFbClyZXR1cm47aWYoIWguaXNUb3VjaGVkfHwhbS5zbGlkZUVsKXJldHVybjtoLmlzTW92ZWR8fChoLndpZHRoPW0uaW1hZ2VFbC5vZmZzZXRXaWR0aHx8bS5pbWFnZUVsLmNsaWVudFdpZHRoLGguaGVpZ2h0PW0uaW1hZ2VFbC5vZmZzZXRIZWlnaHR8fG0uaW1hZ2VFbC5jbGllbnRIZWlnaHQsaC5zdGFydFg9ZChtLmltYWdlV3JhcEVsLFwieFwiKXx8MCxoLnN0YXJ0WT1kKG0uaW1hZ2VXcmFwRWwsXCJ5XCIpfHwwLG0uc2xpZGVXaWR0aD1tLnNsaWRlRWwub2Zmc2V0V2lkdGgsbS5zbGlkZUhlaWdodD1tLnNsaWRlRWwub2Zmc2V0SGVpZ2h0LG0uaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiMG1zXCIpO2NvbnN0IGE9aC53aWR0aCpzLnNjYWxlLGk9aC5oZWlnaHQqcy5zY2FsZTtoLm1pblg9TWF0aC5taW4obS5zbGlkZVdpZHRoLzItYS8yLDApLGgubWF4WD0taC5taW5YLGgubWluWT1NYXRoLm1pbihtLnNsaWRlSGVpZ2h0LzItaS8yLDApLGgubWF4WT0taC5taW5ZLGgudG91Y2hlc0N1cnJlbnQueD11Lmxlbmd0aD4wP3VbMF0ucGFnZVg6ZS5wYWdlWCxoLnRvdWNoZXNDdXJyZW50Lnk9dS5sZW5ndGg+MD91WzBdLnBhZ2VZOmUucGFnZVk7aWYoTWF0aC5tYXgoTWF0aC5hYnMoaC50b3VjaGVzQ3VycmVudC54LWgudG91Y2hlc1N0YXJ0LngpLE1hdGguYWJzKGgudG91Y2hlc0N1cnJlbnQueS1oLnRvdWNoZXNTdGFydC55KSk+NSYmKHQuYWxsb3dDbGljaz0hMSksIWguaXNNb3ZlZCYmIXApe2lmKHQuaXNIb3Jpem9udGFsKCkmJihNYXRoLmZsb29yKGgubWluWCk9PT1NYXRoLmZsb29yKGguc3RhcnRYKSYmaC50b3VjaGVzQ3VycmVudC54PGgudG91Y2hlc1N0YXJ0Lnh8fE1hdGguZmxvb3IoaC5tYXhYKT09PU1hdGguZmxvb3IoaC5zdGFydFgpJiZoLnRvdWNoZXNDdXJyZW50Lng+aC50b3VjaGVzU3RhcnQueCkpcmV0dXJuIGguaXNUb3VjaGVkPSExLHZvaWQgUCgpO2lmKCF0LmlzSG9yaXpvbnRhbCgpJiYoTWF0aC5mbG9vcihoLm1pblkpPT09TWF0aC5mbG9vcihoLnN0YXJ0WSkmJmgudG91Y2hlc0N1cnJlbnQueTxoLnRvdWNoZXNTdGFydC55fHxNYXRoLmZsb29yKGgubWF4WSk9PT1NYXRoLmZsb29yKGguc3RhcnRZKSYmaC50b3VjaGVzQ3VycmVudC55PmgudG91Y2hlc1N0YXJ0LnkpKXJldHVybiBoLmlzVG91Y2hlZD0hMSx2b2lkIFAoKX1lLmNhbmNlbGFibGUmJmUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGNsZWFyVGltZW91dCh2KSx0LnRvdWNoRXZlbnRzRGF0YS5wcmV2ZW50VG91Y2hNb3ZlRnJvbVBvaW50ZXJNb3ZlPSEwLHY9c2V0VGltZW91dCgoKCk9PntQKCl9KSksaC5pc01vdmVkPSEwO2NvbnN0IHI9KHMuc2NhbGUtYykvKG0ubWF4UmF0aW8tdC5wYXJhbXMuem9vbS5taW5SYXRpbykse29yaWdpblg6bixvcmlnaW5ZOmx9PW07aC5jdXJyZW50WD1oLnRvdWNoZXNDdXJyZW50LngtaC50b3VjaGVzU3RhcnQueCtoLnN0YXJ0WCtyKihoLndpZHRoLTIqbiksaC5jdXJyZW50WT1oLnRvdWNoZXNDdXJyZW50LnktaC50b3VjaGVzU3RhcnQueStoLnN0YXJ0WStyKihoLmhlaWdodC0yKmwpLGguY3VycmVudFg8aC5taW5YJiYoaC5jdXJyZW50WD1oLm1pblgrMS0oaC5taW5YLWguY3VycmVudFgrMSkqKi44KSxoLmN1cnJlbnRYPmgubWF4WCYmKGguY3VycmVudFg9aC5tYXhYLTErKGguY3VycmVudFgtaC5tYXhYKzEpKiouOCksaC5jdXJyZW50WTxoLm1pblkmJihoLmN1cnJlbnRZPWgubWluWSsxLShoLm1pblktaC5jdXJyZW50WSsxKSoqLjgpLGguY3VycmVudFk+aC5tYXhZJiYoaC5jdXJyZW50WT1oLm1heFktMSsoaC5jdXJyZW50WS1oLm1heFkrMSkqKi44KSxnLnByZXZQb3NpdGlvblh8fChnLnByZXZQb3NpdGlvblg9aC50b3VjaGVzQ3VycmVudC54KSxnLnByZXZQb3NpdGlvbll8fChnLnByZXZQb3NpdGlvblk9aC50b3VjaGVzQ3VycmVudC55KSxnLnByZXZUaW1lfHwoZy5wcmV2VGltZT1EYXRlLm5vdygpKSxnLng9KGgudG91Y2hlc0N1cnJlbnQueC1nLnByZXZQb3NpdGlvblgpLyhEYXRlLm5vdygpLWcucHJldlRpbWUpLzIsZy55PShoLnRvdWNoZXNDdXJyZW50LnktZy5wcmV2UG9zaXRpb25ZKS8oRGF0ZS5ub3coKS1nLnByZXZUaW1lKS8yLE1hdGguYWJzKGgudG91Y2hlc0N1cnJlbnQueC1nLnByZXZQb3NpdGlvblgpPDImJihnLng9MCksTWF0aC5hYnMoaC50b3VjaGVzQ3VycmVudC55LWcucHJldlBvc2l0aW9uWSk8MiYmKGcueT0wKSxnLnByZXZQb3NpdGlvblg9aC50b3VjaGVzQ3VycmVudC54LGcucHJldlBvc2l0aW9uWT1oLnRvdWNoZXNDdXJyZW50LnksZy5wcmV2VGltZT1EYXRlLm5vdygpLG0uaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgke2guY3VycmVudFh9cHgsICR7aC5jdXJyZW50WX1weCwwKWB9ZnVuY3Rpb24gSSgpe2NvbnN0IGU9dC56b29tO20uc2xpZGVFbCYmdC5hY3RpdmVJbmRleCE9PXQuc2xpZGVzLmluZGV4T2YobS5zbGlkZUVsKSYmKG0uaW1hZ2VFbCYmKG0uaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoMSlcIiksbS5pbWFnZVdyYXBFbCYmKG0uaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlM2QoMCwwLDApXCIpLG0uc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKGAke3QucGFyYW1zLnpvb20uem9vbWVkU2xpZGVDbGFzc31gKSxlLnNjYWxlPTEsYz0xLG0uc2xpZGVFbD12b2lkIDAsbS5pbWFnZUVsPXZvaWQgMCxtLmltYWdlV3JhcEVsPXZvaWQgMCxtLm9yaWdpblg9MCxtLm9yaWdpblk9MCl9ZnVuY3Rpb24geihlKXtjb25zdCBzPXQuem9vbSxhPXQucGFyYW1zLnpvb207aWYoIW0uc2xpZGVFbCl7ZSYmZS50YXJnZXQmJihtLnNsaWRlRWw9ZS50YXJnZXQuY2xvc2VzdChgLiR7dC5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApKSxtLnNsaWRlRWx8fCh0LnBhcmFtcy52aXJ0dWFsJiZ0LnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJnQudmlydHVhbD9tLnNsaWRlRWw9Zih0LnNsaWRlc0VsLGAuJHt0LnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfWApWzBdOm0uc2xpZGVFbD10LnNsaWRlc1t0LmFjdGl2ZUluZGV4XSk7bGV0IHM9bS5zbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke2EuY29udGFpbmVyQ2xhc3N9YCk7cyYmKHM9cy5xdWVyeVNlbGVjdG9yQWxsKFwicGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldFwiKVswXSksbS5pbWFnZUVsPXMsbS5pbWFnZVdyYXBFbD1zP0UobS5pbWFnZUVsLGAuJHthLmNvbnRhaW5lckNsYXNzfWApWzBdOnZvaWQgMH1pZighbS5pbWFnZUVsfHwhbS5pbWFnZVdyYXBFbClyZXR1cm47bGV0IGkscixsLG8sZCxwLHUsZyx2LGIseSxTLFQsTSxDLFAsTCxJO3QucGFyYW1zLmNzc01vZGUmJih0LndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHQud3JhcHBlckVsLnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiKSxtLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHthLnpvb21lZFNsaWRlQ2xhc3N9YCksdm9pZCAwPT09aC50b3VjaGVzU3RhcnQueCYmZT8oaT1lLnBhZ2VYLHI9ZS5wYWdlWSk6KGk9aC50b3VjaGVzU3RhcnQueCxyPWgudG91Y2hlc1N0YXJ0LnkpO2NvbnN0IHo9XCJudW1iZXJcIj09dHlwZW9mIGU/ZTpudWxsOzE9PT1jJiZ6JiYoaT12b2lkIDAscj12b2lkIDAsaC50b3VjaGVzU3RhcnQueD12b2lkIDAsaC50b3VjaGVzU3RhcnQueT12b2lkIDApO2NvbnN0IEE9eCgpO3Muc2NhbGU9enx8QSxjPXp8fEEsIWV8fDE9PT1jJiZ6Pyh1PTAsZz0wKTooTD1tLnNsaWRlRWwub2Zmc2V0V2lkdGgsST1tLnNsaWRlRWwub2Zmc2V0SGVpZ2h0LGw9dyhtLnNsaWRlRWwpLmxlZnQrbi5zY3JvbGxYLG89dyhtLnNsaWRlRWwpLnRvcCtuLnNjcm9sbFksZD1sK0wvMi1pLHA9bytJLzItcix2PW0uaW1hZ2VFbC5vZmZzZXRXaWR0aHx8bS5pbWFnZUVsLmNsaWVudFdpZHRoLGI9bS5pbWFnZUVsLm9mZnNldEhlaWdodHx8bS5pbWFnZUVsLmNsaWVudEhlaWdodCx5PXYqcy5zY2FsZSxTPWIqcy5zY2FsZSxUPU1hdGgubWluKEwvMi15LzIsMCksTT1NYXRoLm1pbihJLzItUy8yLDApLEM9LVQsUD0tTSx1PWQqcy5zY2FsZSxnPXAqcy5zY2FsZSx1PFQmJih1PVQpLHU+QyYmKHU9QyksZzxNJiYoZz1NKSxnPlAmJihnPVApKSx6JiYxPT09cy5zY2FsZSYmKG0ub3JpZ2luWD0wLG0ub3JpZ2luWT0wKSxtLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIjMwMG1zXCIsbS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZTNkKCR7dX1weCwgJHtnfXB4LDApYCxtLmltYWdlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiMzAwbXNcIixtLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoJHtzLnNjYWxlfSlgfWZ1bmN0aW9uIEEoKXtjb25zdCBlPXQuem9vbSxzPXQucGFyYW1zLnpvb207aWYoIW0uc2xpZGVFbCl7dC5wYXJhbXMudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkJiZ0LnZpcnR1YWw/bS5zbGlkZUVsPWYodC5zbGlkZXNFbCxgLiR7dC5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKVswXTptLnNsaWRlRWw9dC5zbGlkZXNbdC5hY3RpdmVJbmRleF07bGV0IGU9bS5zbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3MuY29udGFpbmVyQ2xhc3N9YCk7ZSYmKGU9ZS5xdWVyeVNlbGVjdG9yQWxsKFwicGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldFwiKVswXSksbS5pbWFnZUVsPWUsbS5pbWFnZVdyYXBFbD1lP0UobS5pbWFnZUVsLGAuJHtzLmNvbnRhaW5lckNsYXNzfWApWzBdOnZvaWQgMH1tLmltYWdlRWwmJm0uaW1hZ2VXcmFwRWwmJih0LnBhcmFtcy5jc3NNb2RlJiYodC53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3c9XCJcIix0LndyYXBwZXJFbC5zdHlsZS50b3VjaEFjdGlvbj1cIlwiKSxlLnNjYWxlPTEsYz0xLGgudG91Y2hlc1N0YXJ0Lng9dm9pZCAwLGgudG91Y2hlc1N0YXJ0Lnk9dm9pZCAwLG0uaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPVwiMzAwbXNcIixtLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZTNkKDAsMCwwKVwiLG0uaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCIzMDBtc1wiLG0uaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoMSlcIixtLnNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzLnpvb21lZFNsaWRlQ2xhc3N9YCksbS5zbGlkZUVsPXZvaWQgMCxtLm9yaWdpblg9MCxtLm9yaWdpblk9MCl9ZnVuY3Rpb24gJChlKXtjb25zdCBzPXQuem9vbTtzLnNjYWxlJiYxIT09cy5zY2FsZT9BKCk6eihlKX1mdW5jdGlvbiBrKCl7cmV0dXJue3Bhc3NpdmVMaXN0ZW5lcjohIXQucGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9LGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmU6IXQucGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnN8fHtwYXNzaXZlOiExLGNhcHR1cmU6ITB9fX1mdW5jdGlvbiBPKCl7Y29uc3QgZT10Lnpvb207aWYoZS5lbmFibGVkKXJldHVybjtlLmVuYWJsZWQ9ITA7Y29uc3R7cGFzc2l2ZUxpc3RlbmVyOnMsYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZTphfT1rKCk7dC53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsVCxzKSx0LndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixNLGEpLFtcInBvaW50ZXJ1cFwiLFwicG9pbnRlcmNhbmNlbFwiLFwicG9pbnRlcm91dFwiXS5mb3JFYWNoKChlPT57dC53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihlLEMscyl9KSksdC53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsTCxhKX1mdW5jdGlvbiBEKCl7Y29uc3QgZT10Lnpvb207aWYoIWUuZW5hYmxlZClyZXR1cm47ZS5lbmFibGVkPSExO2NvbnN0e3Bhc3NpdmVMaXN0ZW5lcjpzLGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmU6YX09aygpO3Qud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLFQscyksdC53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsTSxhKSxbXCJwb2ludGVydXBcIixcInBvaW50ZXJjYW5jZWxcIixcInBvaW50ZXJvdXRcIl0uZm9yRWFjaCgoZT0+e3Qud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxDLHMpfSkpLHQud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLEwsYSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuem9vbSxcInNjYWxlXCIse2dldDooKT0+YixzZXQoZSl7aWYoYiE9PWUpe2NvbnN0IHQ9bS5pbWFnZUVsLHM9bS5zbGlkZUVsO2koXCJ6b29tQ2hhbmdlXCIsZSx0LHMpfWI9ZX19KSxhKFwiaW5pdFwiLCgoKT0+e3QucGFyYW1zLnpvb20uZW5hYmxlZCYmTygpfSkpLGEoXCJkZXN0cm95XCIsKCgpPT57RCgpfSkpLGEoXCJ0b3VjaFN0YXJ0XCIsKChlLHMpPT57dC56b29tLmVuYWJsZWQmJmZ1bmN0aW9uKGUpe2NvbnN0IHM9dC5kZXZpY2U7aWYoIW0uaW1hZ2VFbClyZXR1cm47aWYoaC5pc1RvdWNoZWQpcmV0dXJuO3MuYW5kcm9pZCYmZS5jYW5jZWxhYmxlJiZlLnByZXZlbnREZWZhdWx0KCksaC5pc1RvdWNoZWQ9ITA7Y29uc3QgYT11Lmxlbmd0aD4wP3VbMF06ZTtoLnRvdWNoZXNTdGFydC54PWEucGFnZVgsaC50b3VjaGVzU3RhcnQueT1hLnBhZ2VZfShzKX0pKSxhKFwidG91Y2hFbmRcIiwoKGUscyk9Pnt0Lnpvb20uZW5hYmxlZCYmZnVuY3Rpb24oKXtjb25zdCBlPXQuem9vbTtpZighbS5pbWFnZUVsKXJldHVybjtpZighaC5pc1RvdWNoZWR8fCFoLmlzTW92ZWQpcmV0dXJuIGguaXNUb3VjaGVkPSExLHZvaWQoaC5pc01vdmVkPSExKTtoLmlzVG91Y2hlZD0hMSxoLmlzTW92ZWQ9ITE7bGV0IHM9MzAwLGE9MzAwO2NvbnN0IGk9Zy54KnMscj1oLmN1cnJlbnRYK2ksbj1nLnkqYSxsPWguY3VycmVudFkrbjswIT09Zy54JiYocz1NYXRoLmFicygoci1oLmN1cnJlbnRYKS9nLngpKSwwIT09Zy55JiYoYT1NYXRoLmFicygobC1oLmN1cnJlbnRZKS9nLnkpKTtjb25zdCBvPU1hdGgubWF4KHMsYSk7aC5jdXJyZW50WD1yLGguY3VycmVudFk9bDtjb25zdCBkPWgud2lkdGgqZS5zY2FsZSxjPWguaGVpZ2h0KmUuc2NhbGU7aC5taW5YPU1hdGgubWluKG0uc2xpZGVXaWR0aC8yLWQvMiwwKSxoLm1heFg9LWgubWluWCxoLm1pblk9TWF0aC5taW4obS5zbGlkZUhlaWdodC8yLWMvMiwwKSxoLm1heFk9LWgubWluWSxoLmN1cnJlbnRYPU1hdGgubWF4KE1hdGgubWluKGguY3VycmVudFgsaC5tYXhYKSxoLm1pblgpLGguY3VycmVudFk9TWF0aC5tYXgoTWF0aC5taW4oaC5jdXJyZW50WSxoLm1heFkpLGgubWluWSksbS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7b31tc2AsbS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZTNkKCR7aC5jdXJyZW50WH1weCwgJHtoLmN1cnJlbnRZfXB4LDApYH0oKX0pKSxhKFwiZG91YmxlVGFwXCIsKChlLHMpPT57IXQuYW5pbWF0aW5nJiZ0LnBhcmFtcy56b29tLmVuYWJsZWQmJnQuem9vbS5lbmFibGVkJiZ0LnBhcmFtcy56b29tLnRvZ2dsZSYmJChzKX0pKSxhKFwidHJhbnNpdGlvbkVuZFwiLCgoKT0+e3Quem9vbS5lbmFibGVkJiZ0LnBhcmFtcy56b29tLmVuYWJsZWQmJkkoKX0pKSxhKFwic2xpZGVDaGFuZ2VcIiwoKCk9Pnt0Lnpvb20uZW5hYmxlZCYmdC5wYXJhbXMuem9vbS5lbmFibGVkJiZ0LnBhcmFtcy5jc3NNb2RlJiZJKCl9KSksT2JqZWN0LmFzc2lnbih0Lnpvb20se2VuYWJsZTpPLGRpc2FibGU6RCxpbjp6LG91dDpBLHRvZ2dsZTokfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjphfT1lO2Z1bmN0aW9uIGkoZSx0KXtjb25zdCBzPWZ1bmN0aW9uKCl7bGV0IGUsdCxzO3JldHVybihhLGkpPT57Zm9yKHQ9LTEsZT1hLmxlbmd0aDtlLXQ+MTspcz1lK3Q+PjEsYVtzXTw9aT90PXM6ZT1zO3JldHVybiBlfX0oKTtsZXQgYSxpO3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLmxhc3RJbmRleD1lLmxlbmd0aC0xLHRoaXMuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGk9cyh0aGlzLngsZSksYT1pLTEsKGUtdGhpcy54W2FdKSoodGhpcy55W2ldLXRoaXMueVthXSkvKHRoaXMueFtpXS10aGlzLnhbYV0pK3RoaXMueVthXSk6MH0sdGhpc31mdW5jdGlvbiByKCl7dC5jb250cm9sbGVyLmNvbnRyb2wmJnQuY29udHJvbGxlci5zcGxpbmUmJih0LmNvbnRyb2xsZXIuc3BsaW5lPXZvaWQgMCxkZWxldGUgdC5jb250cm9sbGVyLnNwbGluZSl9cyh7Y29udHJvbGxlcjp7Y29udHJvbDp2b2lkIDAsaW52ZXJzZTohMSxieTpcInNsaWRlXCJ9fSksdC5jb250cm9sbGVyPXtjb250cm9sOnZvaWQgMH0sYShcImJlZm9yZUluaXRcIiwoKCk9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbHx8dC5wYXJhbXMuY29udHJvbGxlci5jb250cm9sIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXsoXCJzdHJpbmdcIj09dHlwZW9mIHQucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbD9bLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0LnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2wpXTpbdC5wYXJhbXMuY29udHJvbGxlci5jb250cm9sXSkuZm9yRWFjaCgoZT0+e2lmKHQuY29udHJvbGxlci5jb250cm9sfHwodC5jb250cm9sbGVyLmNvbnRyb2w9W10pLGUmJmUuc3dpcGVyKXQuY29udHJvbGxlci5jb250cm9sLnB1c2goZS5zd2lwZXIpO2Vsc2UgaWYoZSl7Y29uc3Qgcz1gJHt0LnBhcmFtcy5ldmVudHNQcmVmaXh9aW5pdGAsYT1pPT57dC5jb250cm9sbGVyLmNvbnRyb2wucHVzaChpLmRldGFpbFswXSksdC51cGRhdGUoKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIocyxhKX07ZS5hZGRFdmVudExpc3RlbmVyKHMsYSl9fSkpfWVsc2UgdC5jb250cm9sbGVyLmNvbnRyb2w9dC5wYXJhbXMuY29udHJvbGxlci5jb250cm9sfSkpLGEoXCJ1cGRhdGVcIiwoKCk9PntyKCl9KSksYShcInJlc2l6ZVwiLCgoKT0+e3IoKX0pKSxhKFwib2JzZXJ2ZXJVcGRhdGVcIiwoKCk9PntyKCl9KSksYShcInNldFRyYW5zbGF0ZVwiLCgoZSxzLGEpPT57dC5jb250cm9sbGVyLmNvbnRyb2wmJiF0LmNvbnRyb2xsZXIuY29udHJvbC5kZXN0cm95ZWQmJnQuY29udHJvbGxlci5zZXRUcmFuc2xhdGUocyxhKX0pKSxhKFwic2V0VHJhbnNpdGlvblwiLCgoZSxzLGEpPT57dC5jb250cm9sbGVyLmNvbnRyb2wmJiF0LmNvbnRyb2xsZXIuY29udHJvbC5kZXN0cm95ZWQmJnQuY29udHJvbGxlci5zZXRUcmFuc2l0aW9uKHMsYSl9KSksT2JqZWN0LmFzc2lnbih0LmNvbnRyb2xsZXIse3NldFRyYW5zbGF0ZTpmdW5jdGlvbihlLHMpe2NvbnN0IGE9dC5jb250cm9sbGVyLmNvbnRyb2w7bGV0IHIsbjtjb25zdCBsPXQuY29uc3RydWN0b3I7ZnVuY3Rpb24gbyhlKXtpZihlLmRlc3Ryb3llZClyZXR1cm47Y29uc3Qgcz10LnJ0bFRyYW5zbGF0ZT8tdC50cmFuc2xhdGU6dC50cmFuc2xhdGU7XCJzbGlkZVwiPT09dC5wYXJhbXMuY29udHJvbGxlci5ieSYmKCFmdW5jdGlvbihlKXt0LmNvbnRyb2xsZXIuc3BsaW5lPXQucGFyYW1zLmxvb3A/bmV3IGkodC5zbGlkZXNHcmlkLGUuc2xpZGVzR3JpZCk6bmV3IGkodC5zbmFwR3JpZCxlLnNuYXBHcmlkKX0oZSksbj0tdC5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtcykpLG4mJlwiY29udGFpbmVyXCIhPT10LnBhcmFtcy5jb250cm9sbGVyLmJ5fHwocj0oZS5tYXhUcmFuc2xhdGUoKS1lLm1pblRyYW5zbGF0ZSgpKS8odC5tYXhUcmFuc2xhdGUoKS10Lm1pblRyYW5zbGF0ZSgpKSwhTnVtYmVyLmlzTmFOKHIpJiZOdW1iZXIuaXNGaW5pdGUocil8fChyPTEpLG49KHMtdC5taW5UcmFuc2xhdGUoKSkqcitlLm1pblRyYW5zbGF0ZSgpKSx0LnBhcmFtcy5jb250cm9sbGVyLmludmVyc2UmJihuPWUubWF4VHJhbnNsYXRlKCktbiksZS51cGRhdGVQcm9ncmVzcyhuKSxlLnNldFRyYW5zbGF0ZShuLHQpLGUudXBkYXRlQWN0aXZlSW5kZXgoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKX1pZihBcnJheS5pc0FycmF5KGEpKWZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9MSlhW2VdIT09cyYmYVtlXWluc3RhbmNlb2YgbCYmbyhhW2VdKTtlbHNlIGEgaW5zdGFuY2VvZiBsJiZzIT09YSYmbyhhKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLHMpe2NvbnN0IGE9dC5jb25zdHJ1Y3RvcixpPXQuY29udHJvbGxlci5jb250cm9sO2xldCByO2Z1bmN0aW9uIG4ocyl7cy5kZXN0cm95ZWR8fChzLnNldFRyYW5zaXRpb24oZSx0KSwwIT09ZSYmKHMudHJhbnNpdGlvblN0YXJ0KCkscy5wYXJhbXMuYXV0b0hlaWdodCYmbCgoKCk9PntzLnVwZGF0ZUF1dG9IZWlnaHQoKX0pKSx4KHMud3JhcHBlckVsLCgoKT0+e2kmJnMudHJhbnNpdGlvbkVuZCgpfSkpKSl9aWYoQXJyYXkuaXNBcnJheShpKSlmb3Iocj0wO3I8aS5sZW5ndGg7cis9MSlpW3JdIT09cyYmaVtyXWluc3RhbmNlb2YgYSYmbihpW3JdKTtlbHNlIGkgaW5zdGFuY2VvZiBhJiZzIT09aSYmbihpKX19KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOml9PWU7cyh7YTExeTp7ZW5hYmxlZDohMCxub3RpZmljYXRpb25DbGFzczpcInN3aXBlci1ub3RpZmljYXRpb25cIixwcmV2U2xpZGVNZXNzYWdlOlwiUHJldmlvdXMgc2xpZGVcIixuZXh0U2xpZGVNZXNzYWdlOlwiTmV4dCBzbGlkZVwiLGZpcnN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGVcIixsYXN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgbGFzdCBzbGlkZVwiLHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOlwiR28gdG8gc2xpZGUge3tpbmRleH19XCIsc2xpZGVMYWJlbE1lc3NhZ2U6XCJ7e2luZGV4fX0gLyB7e3NsaWRlc0xlbmd0aH19XCIsY29udGFpbmVyTWVzc2FnZTpudWxsLGNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6bnVsbCxpdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZTpudWxsLHNsaWRlUm9sZTpcImdyb3VwXCIsaWQ6bnVsbCxzY3JvbGxPbkZvY3VzOiEwfX0pLHQuYTExeT17Y2xpY2tlZDohMX07bGV0IHIsbixsPW51bGwsbz0obmV3IERhdGUpLmdldFRpbWUoKTtmdW5jdGlvbiBkKGUpe2NvbnN0IHQ9bDswIT09dC5sZW5ndGgmJih0LmlubmVySFRNTD1cIlwiLHQuaW5uZXJIVE1MPWUpfWZ1bmN0aW9uIGMoZSl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIixcIjBcIil9KSl9ZnVuY3Rpb24gcChlKXsoZT1UKGUpKS5mb3JFYWNoKChlPT57ZS5zZXRBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiLFwiLTFcIil9KSl9ZnVuY3Rpb24gdShlLHQpeyhlPVQoZSkpLmZvckVhY2goKGU9PntlLnNldEF0dHJpYnV0ZShcInJvbGVcIix0KX0pKX1mdW5jdGlvbiBtKGUsdCl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIix0KX0pKX1mdW5jdGlvbiBoKGUsdCl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHQpfSkpfWZ1bmN0aW9uIGYoZSl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKX0pKX1mdW5jdGlvbiBnKGUpeyhlPVQoZSkpLmZvckVhY2goKGU9PntlLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMSl9KSl9ZnVuY3Rpb24gdyhlKXtpZigxMyE9PWUua2V5Q29kZSYmMzIhPT1lLmtleUNvZGUpcmV0dXJuO2NvbnN0IHM9dC5wYXJhbXMuYTExeSxhPWUudGFyZ2V0O2lmKCF0LnBhZ2luYXRpb258fCF0LnBhZ2luYXRpb24uZWx8fGEhPT10LnBhZ2luYXRpb24uZWwmJiF0LnBhZ2luYXRpb24uZWwuY29udGFpbnMoZS50YXJnZXQpfHxlLnRhcmdldC5tYXRjaGVzKG5lKHQucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKSl7aWYodC5uYXZpZ2F0aW9uJiZ0Lm5hdmlnYXRpb24ucHJldkVsJiZ0Lm5hdmlnYXRpb24ubmV4dEVsKXtjb25zdCBlPVQodC5uYXZpZ2F0aW9uLnByZXZFbCk7VCh0Lm5hdmlnYXRpb24ubmV4dEVsKS5pbmNsdWRlcyhhKSYmKHQuaXNFbmQmJiF0LnBhcmFtcy5sb29wfHx0LnNsaWRlTmV4dCgpLHQuaXNFbmQ/ZChzLmxhc3RTbGlkZU1lc3NhZ2UpOmQocy5uZXh0U2xpZGVNZXNzYWdlKSksZS5pbmNsdWRlcyhhKSYmKHQuaXNCZWdpbm5pbmcmJiF0LnBhcmFtcy5sb29wfHx0LnNsaWRlUHJldigpLHQuaXNCZWdpbm5pbmc/ZChzLmZpcnN0U2xpZGVNZXNzYWdlKTpkKHMucHJldlNsaWRlTWVzc2FnZSkpfXQucGFnaW5hdGlvbiYmYS5tYXRjaGVzKG5lKHQucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKSYmYS5jbGljaygpfX1mdW5jdGlvbiBiKCl7cmV0dXJuIHQucGFnaW5hdGlvbiYmdC5wYWdpbmF0aW9uLmJ1bGxldHMmJnQucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aH1mdW5jdGlvbiBFKCl7cmV0dXJuIGIoKSYmdC5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGV9Y29uc3QgeD0oZSx0LHMpPT57YyhlKSxcIkJVVFRPTlwiIT09ZS50YWdOYW1lJiYodShlLFwiYnV0dG9uXCIpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix3KSksaChlLHMpLGZ1bmN0aW9uKGUsdCl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiLHQpfSkpfShlLHQpfSxTPWU9PntuJiZuIT09ZS50YXJnZXQmJiFuLmNvbnRhaW5zKGUudGFyZ2V0KSYmKHI9ITApLHQuYTExeS5jbGlja2VkPSEwfSxNPSgpPT57cj0hMSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3QuZGVzdHJveWVkfHwodC5hMTF5LmNsaWNrZWQ9ITEpfSkpfSkpfSxDPWU9PntvPShuZXcgRGF0ZSkuZ2V0VGltZSgpfSxQPWU9PntpZih0LmExMXkuY2xpY2tlZHx8IXQucGFyYW1zLmExMXkuc2Nyb2xsT25Gb2N1cylyZXR1cm47aWYoKG5ldyBEYXRlKS5nZXRUaW1lKCktbzwxMDApcmV0dXJuO2NvbnN0IHM9ZS50YXJnZXQuY2xvc2VzdChgLiR7dC5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO2lmKCFzfHwhdC5zbGlkZXMuaW5jbHVkZXMocykpcmV0dXJuO249cztjb25zdCBhPXQuc2xpZGVzLmluZGV4T2Yocyk9PT10LmFjdGl2ZUluZGV4LGk9dC5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyYmdC52aXNpYmxlU2xpZGVzJiZ0LnZpc2libGVTbGlkZXMuaW5jbHVkZXMocyk7YXx8aXx8ZS5zb3VyY2VDYXBhYmlsaXRpZXMmJmUuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHN8fCh0LmlzSG9yaXpvbnRhbCgpP3QuZWwuc2Nyb2xsTGVmdD0wOnQuZWwuc2Nyb2xsVG9wPTAscmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3J8fCh0LnBhcmFtcy5sb29wP3Quc2xpZGVUb0xvb3AocGFyc2VJbnQocy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSksMCk6dC5zbGlkZVRvKHQuc2xpZGVzLmluZGV4T2YocyksMCkscj0hMSl9KSkpfSxMPSgpPT57Y29uc3QgZT10LnBhcmFtcy5hMTF5O2UuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UmJm0odC5zbGlkZXMsZS5pdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZSksZS5zbGlkZVJvbGUmJnUodC5zbGlkZXMsZS5zbGlkZVJvbGUpO2NvbnN0IHM9dC5zbGlkZXMubGVuZ3RoO2Uuc2xpZGVMYWJlbE1lc3NhZ2UmJnQuc2xpZGVzLmZvckVhY2goKChhLGkpPT57Y29uc3Qgcj10LnBhcmFtcy5sb29wP3BhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApOmk7aChhLGUuc2xpZGVMYWJlbE1lc3NhZ2UucmVwbGFjZSgvXFx7XFx7aW5kZXhcXH1cXH0vLHIrMSkucmVwbGFjZSgvXFx7XFx7c2xpZGVzTGVuZ3RoXFx9XFx9LyxzKSl9KSl9LEk9KCk9Pntjb25zdCBlPXQucGFyYW1zLmExMXk7dC5lbC5hcHBlbmQobCk7Y29uc3Qgcz10LmVsO2UuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSYmbShzLGUuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSksZS5jb250YWluZXJNZXNzYWdlJiZoKHMsZS5jb250YWluZXJNZXNzYWdlKTtjb25zdCBpPXQud3JhcHBlckVsLHI9ZS5pZHx8aS5nZXRBdHRyaWJ1dGUoXCJpZFwiKXx8YHN3aXBlci13cmFwcGVyLSR7bj0xNix2b2lkIDA9PT1uJiYobj0xNiksXCJ4XCIucmVwZWF0KG4pLnJlcGxhY2UoL3gvZywoKCk9Pk1hdGgucm91bmQoMTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpKSl9YDt2YXIgbjtjb25zdCBvPXQucGFyYW1zLmF1dG9wbGF5JiZ0LnBhcmFtcy5hdXRvcGxheS5lbmFibGVkP1wib2ZmXCI6XCJwb2xpdGVcIjt2YXIgZDtkPXIsVChpKS5mb3JFYWNoKChlPT57ZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLGQpfSkpLGZ1bmN0aW9uKGUsdCl7KGU9VChlKSkuZm9yRWFjaCgoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsdCl9KSl9KGksbyksTCgpO2xldHtuZXh0RWw6YyxwcmV2RWw6cH09dC5uYXZpZ2F0aW9uP3QubmF2aWdhdGlvbjp7fTtpZihjPVQoYykscD1UKHApLGMmJmMuZm9yRWFjaCgodD0+eCh0LHIsZS5uZXh0U2xpZGVNZXNzYWdlKSkpLHAmJnAuZm9yRWFjaCgodD0+eCh0LHIsZS5wcmV2U2xpZGVNZXNzYWdlKSkpLEUoKSl7VCh0LnBhZ2luYXRpb24uZWwpLmZvckVhY2goKGU9PntlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdyl9KSl9YSgpLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsQyksdC5lbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixQLCEwKSx0LmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLFAsITApLHQuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsUywhMCksdC5lbC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsTSwhMCl9O2koXCJiZWZvcmVJbml0XCIsKCgpPT57bD12KFwic3BhblwiLHQucGFyYW1zLmExMXkubm90aWZpY2F0aW9uQ2xhc3MpLGwuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsXCJhc3NlcnRpdmVcIiksbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWF0b21pY1wiLFwidHJ1ZVwiKX0pKSxpKFwiYWZ0ZXJJbml0XCIsKCgpPT57dC5wYXJhbXMuYTExeS5lbmFibGVkJiZJKCl9KSksaShcInNsaWRlc0xlbmd0aENoYW5nZSBzbmFwR3JpZExlbmd0aENoYW5nZSBzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlXCIsKCgpPT57dC5wYXJhbXMuYTExeS5lbmFibGVkJiZMKCl9KSksaShcImZyb21FZGdlIHRvRWRnZSBhZnRlckluaXQgbG9jayB1bmxvY2tcIiwoKCk9Pnt0LnBhcmFtcy5hMTF5LmVuYWJsZWQmJmZ1bmN0aW9uKCl7aWYodC5wYXJhbXMubG9vcHx8dC5wYXJhbXMucmV3aW5kfHwhdC5uYXZpZ2F0aW9uKXJldHVybjtjb25zdHtuZXh0RWw6ZSxwcmV2RWw6c309dC5uYXZpZ2F0aW9uO3MmJih0LmlzQmVnaW5uaW5nPyhmKHMpLHAocykpOihnKHMpLGMocykpKSxlJiYodC5pc0VuZD8oZihlKSxwKGUpKTooZyhlKSxjKGUpKSl9KCl9KSksaShcInBhZ2luYXRpb25VcGRhdGVcIiwoKCk9Pnt0LnBhcmFtcy5hMTF5LmVuYWJsZWQmJmZ1bmN0aW9uKCl7Y29uc3QgZT10LnBhcmFtcy5hMTF5O2IoKSYmdC5wYWdpbmF0aW9uLmJ1bGxldHMuZm9yRWFjaCgocz0+e3QucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlJiYoYyhzKSx0LnBhcmFtcy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldHx8KHUocyxcImJ1dHRvblwiKSxoKHMsZS5wYWdpbmF0aW9uQnVsbGV0TWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8seShzKSsxKSkpKSxzLm1hdGNoZXMobmUodC5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRBY3RpdmVDbGFzcykpP3Muc2V0QXR0cmlidXRlKFwiYXJpYS1jdXJyZW50XCIsXCJ0cnVlXCIpOnMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jdXJyZW50XCIpfSkpfSgpfSkpLGkoXCJkZXN0cm95XCIsKCgpPT57dC5wYXJhbXMuYTExeS5lbmFibGVkJiZmdW5jdGlvbigpe2wmJmwucmVtb3ZlKCk7bGV0e25leHRFbDplLHByZXZFbDpzfT10Lm5hdmlnYXRpb24/dC5uYXZpZ2F0aW9uOnt9O2U9VChlKSxzPVQocyksZSYmZS5mb3JFYWNoKChlPT5lLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdykpKSxzJiZzLmZvckVhY2goKGU9PmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix3KSkpLEUoKSYmVCh0LnBhZ2luYXRpb24uZWwpLmZvckVhY2goKGU9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdyl9KSk7YSgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsQyksdC5lbCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuZWwmJih0LmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLFAsITApLHQuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsUywhMCksdC5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsTSwhMCkpfSgpfSkpfSxmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsZXh0ZW5kUGFyYW1zOnMsb246YX09ZTtzKHtoaXN0b3J5OntlbmFibGVkOiExLHJvb3Q6XCJcIixyZXBsYWNlU3RhdGU6ITEsa2V5Olwic2xpZGVzXCIsa2VlcFF1ZXJ5OiExfX0pO2xldCBpPSExLG49e307Y29uc3QgbD1lPT5lLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLFwiLVwiKS5yZXBsYWNlKC9bXlxcdy1dKy9nLFwiXCIpLnJlcGxhY2UoLy0tKy9nLFwiLVwiKS5yZXBsYWNlKC9eLSsvLFwiXCIpLnJlcGxhY2UoLy0rJC8sXCJcIiksbz1lPT57Y29uc3QgdD1yKCk7bGV0IHM7cz1lP25ldyBVUkwoZSk6dC5sb2NhdGlvbjtjb25zdCBhPXMucGF0aG5hbWUuc2xpY2UoMSkuc3BsaXQoXCIvXCIpLmZpbHRlcigoZT0+XCJcIiE9PWUpKSxpPWEubGVuZ3RoO3JldHVybntrZXk6YVtpLTJdLHZhbHVlOmFbaS0xXX19LGQ9KGUscyk9Pntjb25zdCBhPXIoKTtpZighaXx8IXQucGFyYW1zLmhpc3RvcnkuZW5hYmxlZClyZXR1cm47bGV0IG47bj10LnBhcmFtcy51cmw/bmV3IFVSTCh0LnBhcmFtcy51cmwpOmEubG9jYXRpb247Y29uc3Qgbz10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD90LnNsaWRlc0VsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c31cIl1gKTp0LnNsaWRlc1tzXTtsZXQgZD1sKG8uZ2V0QXR0cmlidXRlKFwiZGF0YS1oaXN0b3J5XCIpKTtpZih0LnBhcmFtcy5oaXN0b3J5LnJvb3QubGVuZ3RoPjApe2xldCBzPXQucGFyYW1zLmhpc3Rvcnkucm9vdDtcIi9cIj09PXNbcy5sZW5ndGgtMV0mJihzPXMuc2xpY2UoMCxzLmxlbmd0aC0xKSksZD1gJHtzfS8ke2U/YCR7ZX0vYDpcIlwifSR7ZH1gfWVsc2Ugbi5wYXRobmFtZS5pbmNsdWRlcyhlKXx8KGQ9YCR7ZT9gJHtlfS9gOlwiXCJ9JHtkfWApO3QucGFyYW1zLmhpc3Rvcnkua2VlcFF1ZXJ5JiYoZCs9bi5zZWFyY2gpO2NvbnN0IGM9YS5oaXN0b3J5LnN0YXRlO2MmJmMudmFsdWU9PT1kfHwodC5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGU/YS5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7dmFsdWU6ZH0sbnVsbCxkKTphLmhpc3RvcnkucHVzaFN0YXRlKHt2YWx1ZTpkfSxudWxsLGQpKX0sYz0oZSxzLGEpPT57aWYocylmb3IobGV0IGk9MCxyPXQuc2xpZGVzLmxlbmd0aDtpPHI7aSs9MSl7Y29uc3Qgcj10LnNsaWRlc1tpXTtpZihsKHIuZ2V0QXR0cmlidXRlKFwiZGF0YS1oaXN0b3J5XCIpKT09PXMpe2NvbnN0IHM9dC5nZXRTbGlkZUluZGV4KHIpO3Quc2xpZGVUbyhzLGUsYSl9fWVsc2UgdC5zbGlkZVRvKDAsZSxhKX0scD0oKT0+e249byh0LnBhcmFtcy51cmwpLGModC5wYXJhbXMuc3BlZWQsbi52YWx1ZSwhMSl9O2EoXCJpbml0XCIsKCgpPT57dC5wYXJhbXMuaGlzdG9yeS5lbmFibGVkJiYoKCk9Pntjb25zdCBlPXIoKTtpZih0LnBhcmFtcy5oaXN0b3J5KXtpZighZS5oaXN0b3J5fHwhZS5oaXN0b3J5LnB1c2hTdGF0ZSlyZXR1cm4gdC5wYXJhbXMuaGlzdG9yeS5lbmFibGVkPSExLHZvaWQodC5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZD0hMCk7aT0hMCxuPW8odC5wYXJhbXMudXJsKSxuLmtleXx8bi52YWx1ZT8oYygwLG4udmFsdWUsdC5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSx0LnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZXx8ZS5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIixwKSk6dC5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGV8fGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIscCl9fSkoKX0pKSxhKFwiZGVzdHJveVwiLCgoKT0+e3QucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCYmKCgpPT57Y29uc3QgZT1yKCk7dC5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGV8fGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIscCl9KSgpfSkpLGEoXCJ0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlXCIsKCgpPT57aSYmZCh0LnBhcmFtcy5oaXN0b3J5LmtleSx0LmFjdGl2ZUluZGV4KX0pKSxhKFwic2xpZGVDaGFuZ2VcIiwoKCk9PntpJiZ0LnBhcmFtcy5jc3NNb2RlJiZkKHQucGFyYW1zLmhpc3Rvcnkua2V5LHQuYWN0aXZlSW5kZXgpfSkpfSxmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsZXh0ZW5kUGFyYW1zOnMsZW1pdDppLG9uOm59PWUsbD0hMTtjb25zdCBvPWEoKSxkPXIoKTtzKHtoYXNoTmF2aWdhdGlvbjp7ZW5hYmxlZDohMSxyZXBsYWNlU3RhdGU6ITEsd2F0Y2hTdGF0ZTohMSxnZXRTbGlkZUluZGV4KGUscyl7aWYodC52aXJ0dWFsJiZ0LnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpe2NvbnN0IGU9dC5zbGlkZXMuZmlsdGVyKChlPT5lLmdldEF0dHJpYnV0ZShcImRhdGEtaGFzaFwiKT09PXMpKVswXTtpZighZSlyZXR1cm4gMDtyZXR1cm4gcGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCl9cmV0dXJuIHQuZ2V0U2xpZGVJbmRleChmKHQuc2xpZGVzRWwsYC4ke3QucGFyYW1zLnNsaWRlQ2xhc3N9W2RhdGEtaGFzaD1cIiR7c31cIl0sIHN3aXBlci1zbGlkZVtkYXRhLWhhc2g9XCIke3N9XCJdYClbMF0pfX19KTtjb25zdCBjPSgpPT57aShcImhhc2hDaGFuZ2VcIik7Y29uc3QgZT1vLmxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIixcIlwiKSxzPXQudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkP3Quc2xpZGVzRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0LmFjdGl2ZUluZGV4fVwiXWApOnQuc2xpZGVzW3QuYWN0aXZlSW5kZXhdO2lmKGUhPT0ocz9zLmdldEF0dHJpYnV0ZShcImRhdGEtaGFzaFwiKTpcIlwiKSl7Y29uc3Qgcz10LnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5nZXRTbGlkZUluZGV4KHQsZSk7aWYodm9pZCAwPT09c3x8TnVtYmVyLmlzTmFOKHMpKXJldHVybjt0LnNsaWRlVG8ocyl9fSxwPSgpPT57aWYoIWx8fCF0LnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKXJldHVybjtjb25zdCBlPXQudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkP3Quc2xpZGVzRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0LmFjdGl2ZUluZGV4fVwiXWApOnQuc2xpZGVzW3QuYWN0aXZlSW5kZXhdLHM9ZT9lLmdldEF0dHJpYnV0ZShcImRhdGEtaGFzaFwiKXx8ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhpc3RvcnlcIik6XCJcIjt0LnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5yZXBsYWNlU3RhdGUmJmQuaGlzdG9yeSYmZC5oaXN0b3J5LnJlcGxhY2VTdGF0ZT8oZC5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLG51bGwsYCMke3N9YHx8XCJcIiksaShcImhhc2hTZXRcIikpOihvLmxvY2F0aW9uLmhhc2g9c3x8XCJcIixpKFwiaGFzaFNldFwiKSl9O24oXCJpbml0XCIsKCgpPT57dC5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCYmKCgpPT57aWYoIXQucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWR8fHQucGFyYW1zLmhpc3RvcnkmJnQucGFyYW1zLmhpc3RvcnkuZW5hYmxlZClyZXR1cm47bD0hMDtjb25zdCBlPW8ubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKGUpe2NvbnN0IHM9MCxhPXQucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmdldFNsaWRlSW5kZXgodCxlKTt0LnNsaWRlVG8oYXx8MCxzLHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwhMCl9dC5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSYmZC5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLGMpfSkoKX0pKSxuKFwiZGVzdHJveVwiLCgoKT0+e3QucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQmJnQucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIixjKX0pKSxuKFwidHJhbnNpdGlvbkVuZCBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZVwiLCgoKT0+e2wmJnAoKX0pKSxuKFwic2xpZGVDaGFuZ2VcIiwoKCk9PntsJiZ0LnBhcmFtcy5jc3NNb2RlJiZwKCl9KSl9LGZ1bmN0aW9uKGUpe2xldCB0LHMse3N3aXBlcjppLGV4dGVuZFBhcmFtczpyLG9uOm4sZW1pdDpsLHBhcmFtczpvfT1lO2kuYXV0b3BsYXk9e3J1bm5pbmc6ITEscGF1c2VkOiExLHRpbWVMZWZ0OjB9LHIoe2F1dG9wbGF5OntlbmFibGVkOiExLGRlbGF5OjNlMyx3YWl0Rm9yVHJhbnNpdGlvbjohMCxkaXNhYmxlT25JbnRlcmFjdGlvbjohMSxzdG9wT25MYXN0U2xpZGU6ITEscmV2ZXJzZURpcmVjdGlvbjohMSxwYXVzZU9uTW91c2VFbnRlcjohMX19KTtsZXQgZCxjLHAsdSxtLGgsZixnLHY9byYmby5hdXRvcGxheT9vLmF1dG9wbGF5LmRlbGF5OjNlMyx3PW8mJm8uYXV0b3BsYXk/by5hdXRvcGxheS5kZWxheTozZTMsYj0obmV3IERhdGUpLmdldFRpbWUoKTtmdW5jdGlvbiB5KGUpe2kmJiFpLmRlc3Ryb3llZCYmaS53cmFwcGVyRWwmJmUudGFyZ2V0PT09aS53cmFwcGVyRWwmJihpLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHkpLGd8fGUuZGV0YWlsJiZlLmRldGFpbC5ieVN3aXBlclRvdWNoTW92ZXx8QygpKX1jb25zdCBFPSgpPT57aWYoaS5kZXN0cm95ZWR8fCFpLmF1dG9wbGF5LnJ1bm5pbmcpcmV0dXJuO2kuYXV0b3BsYXkucGF1c2VkP2M9ITA6YyYmKHc9ZCxjPSExKTtjb25zdCBlPWkuYXV0b3BsYXkucGF1c2VkP2Q6Yit3LShuZXcgRGF0ZSkuZ2V0VGltZSgpO2kuYXV0b3BsYXkudGltZUxlZnQ9ZSxsKFwiYXV0b3BsYXlUaW1lTGVmdFwiLGUsZS92KSxzPXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntFKCl9KSl9LHg9ZT0+e2lmKGkuZGVzdHJveWVkfHwhaS5hdXRvcGxheS5ydW5uaW5nKXJldHVybjtjYW5jZWxBbmltYXRpb25GcmFtZShzKSxFKCk7bGV0IGE9dm9pZCAwPT09ZT9pLnBhcmFtcy5hdXRvcGxheS5kZWxheTplO3Y9aS5wYXJhbXMuYXV0b3BsYXkuZGVsYXksdz1pLnBhcmFtcy5hdXRvcGxheS5kZWxheTtjb25zdCByPSgoKT0+e2xldCBlO2lmKGU9aS52aXJ0dWFsJiZpLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ/aS5zbGlkZXMuZmlsdGVyKChlPT5lLmNsYXNzTGlzdC5jb250YWlucyhcInN3aXBlci1zbGlkZS1hY3RpdmVcIikpKVswXTppLnNsaWRlc1tpLmFjdGl2ZUluZGV4XSwhZSlyZXR1cm47cmV0dXJuIHBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItYXV0b3BsYXlcIiksMTApfSkoKTshTnVtYmVyLmlzTmFOKHIpJiZyPjAmJnZvaWQgMD09PWUmJihhPXIsdj1yLHc9ciksZD1hO2NvbnN0IG49aS5wYXJhbXMuc3BlZWQsbz0oKT0+e2kmJiFpLmRlc3Ryb3llZCYmKGkucGFyYW1zLmF1dG9wbGF5LnJldmVyc2VEaXJlY3Rpb24/IWkuaXNCZWdpbm5pbmd8fGkucGFyYW1zLmxvb3B8fGkucGFyYW1zLnJld2luZD8oaS5zbGlkZVByZXYobiwhMCwhMCksbChcImF1dG9wbGF5XCIpKTppLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGV8fChpLnNsaWRlVG8oaS5zbGlkZXMubGVuZ3RoLTEsbiwhMCwhMCksbChcImF1dG9wbGF5XCIpKTohaS5pc0VuZHx8aS5wYXJhbXMubG9vcHx8aS5wYXJhbXMucmV3aW5kPyhpLnNsaWRlTmV4dChuLCEwLCEwKSxsKFwiYXV0b3BsYXlcIikpOmkucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZXx8KGkuc2xpZGVUbygwLG4sITAsITApLGwoXCJhdXRvcGxheVwiKSksaS5wYXJhbXMuY3NzTW9kZSYmKGI9KG5ldyBEYXRlKS5nZXRUaW1lKCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3goKX0pKSkpfTtyZXR1cm4gYT4wPyhjbGVhclRpbWVvdXQodCksdD1zZXRUaW1lb3V0KCgoKT0+e28oKX0pLGEpKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57bygpfSkpLGF9LFM9KCk9PntiPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGkuYXV0b3BsYXkucnVubmluZz0hMCx4KCksbChcImF1dG9wbGF5U3RhcnRcIil9LFQ9KCk9PntpLmF1dG9wbGF5LnJ1bm5pbmc9ITEsY2xlYXJUaW1lb3V0KHQpLGNhbmNlbEFuaW1hdGlvbkZyYW1lKHMpLGwoXCJhdXRvcGxheVN0b3BcIil9LE09KGUscyk9PntpZihpLmRlc3Ryb3llZHx8IWkuYXV0b3BsYXkucnVubmluZylyZXR1cm47Y2xlYXJUaW1lb3V0KHQpLGV8fChmPSEwKTtjb25zdCBhPSgpPT57bChcImF1dG9wbGF5UGF1c2VcIiksaS5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24/aS53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIix5KTpDKCl9O2lmKGkuYXV0b3BsYXkucGF1c2VkPSEwLHMpcmV0dXJuIGgmJihkPWkucGFyYW1zLmF1dG9wbGF5LmRlbGF5KSxoPSExLHZvaWQgYSgpO2NvbnN0IHI9ZHx8aS5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7ZD1yLSgobmV3IERhdGUpLmdldFRpbWUoKS1iKSxpLmlzRW5kJiZkPDAmJiFpLnBhcmFtcy5sb29wfHwoZDwwJiYoZD0wKSxhKCkpfSxDPSgpPT57aS5pc0VuZCYmZDwwJiYhaS5wYXJhbXMubG9vcHx8aS5kZXN0cm95ZWR8fCFpLmF1dG9wbGF5LnJ1bm5pbmd8fChiPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGY/KGY9ITEseChkKSk6eCgpLGkuYXV0b3BsYXkucGF1c2VkPSExLGwoXCJhdXRvcGxheVJlc3VtZVwiKSl9LFA9KCk9PntpZihpLmRlc3Ryb3llZHx8IWkuYXV0b3BsYXkucnVubmluZylyZXR1cm47Y29uc3QgZT1hKCk7XCJoaWRkZW5cIj09PWUudmlzaWJpbGl0eVN0YXRlJiYoZj0hMCxNKCEwKSksXCJ2aXNpYmxlXCI9PT1lLnZpc2liaWxpdHlTdGF0ZSYmQygpfSxMPWU9PntcIm1vdXNlXCI9PT1lLnBvaW50ZXJUeXBlJiYoZj0hMCxnPSEwLGkuYW5pbWF0aW5nfHxpLmF1dG9wbGF5LnBhdXNlZHx8TSghMCkpfSxJPWU9PntcIm1vdXNlXCI9PT1lLnBvaW50ZXJUeXBlJiYoZz0hMSxpLmF1dG9wbGF5LnBhdXNlZCYmQygpKX07bihcImluaXRcIiwoKCk9PntpLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkJiYoaS5wYXJhbXMuYXV0b3BsYXkucGF1c2VPbk1vdXNlRW50ZXImJihpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZW50ZXJcIixMKSxpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIixJKSksYSgpLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsUCksUygpKX0pKSxuKFwiZGVzdHJveVwiLCgoKT0+e2kuZWwmJlwic3RyaW5nXCIhPXR5cGVvZiBpLmVsJiYoaS5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmVudGVyXCIsTCksaS5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsSSkpLGEoKS5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLFApLGkuYXV0b3BsYXkucnVubmluZyYmVCgpfSkpLG4oXCJfZnJlZU1vZGVTdGF0aWNSZWxlYXNlXCIsKCgpPT57KHV8fGYpJiZDKCl9KSksbihcIl9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlXCIsKCgpPT57aS5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24/VCgpOk0oITAsITApfSkpLG4oXCJiZWZvcmVUcmFuc2l0aW9uU3RhcnRcIiwoKGUsdCxzKT0+eyFpLmRlc3Ryb3llZCYmaS5hdXRvcGxheS5ydW5uaW5nJiYoc3x8IWkucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uP00oITAsITApOlQoKSl9KSksbihcInNsaWRlckZpcnN0TW92ZVwiLCgoKT0+eyFpLmRlc3Ryb3llZCYmaS5hdXRvcGxheS5ydW5uaW5nJiYoaS5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24/VCgpOihwPSEwLHU9ITEsZj0hMSxtPXNldFRpbWVvdXQoKCgpPT57Zj0hMCx1PSEwLE0oITApfSksMjAwKSkpfSkpLG4oXCJ0b3VjaEVuZFwiLCgoKT0+e2lmKCFpLmRlc3Ryb3llZCYmaS5hdXRvcGxheS5ydW5uaW5nJiZwKXtpZihjbGVhclRpbWVvdXQobSksY2xlYXJUaW1lb3V0KHQpLGkucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKXJldHVybiB1PSExLHZvaWQocD0hMSk7dSYmaS5wYXJhbXMuY3NzTW9kZSYmQygpLHU9ITEscD0hMX19KSksbihcInNsaWRlQ2hhbmdlXCIsKCgpPT57IWkuZGVzdHJveWVkJiZpLmF1dG9wbGF5LnJ1bm5pbmcmJihoPSEwKX0pKSxPYmplY3QuYXNzaWduKGkuYXV0b3BsYXkse3N0YXJ0OlMsc3RvcDpULHBhdXNlOk0scmVzdW1lOkN9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOml9PWU7cyh7dGh1bWJzOntzd2lwZXI6bnVsbCxtdWx0aXBsZUFjdGl2ZVRodW1iczohMCxhdXRvU2Nyb2xsT2Zmc2V0OjAsc2xpZGVUaHVtYkFjdGl2ZUNsYXNzOlwic3dpcGVyLXNsaWRlLXRodW1iLWFjdGl2ZVwiLHRodW1ic0NvbnRhaW5lckNsYXNzOlwic3dpcGVyLXRodW1ic1wifX0pO2xldCByPSExLG49ITE7ZnVuY3Rpb24gbCgpe2NvbnN0IGU9dC50aHVtYnMuc3dpcGVyO2lmKCFlfHxlLmRlc3Ryb3llZClyZXR1cm47Y29uc3Qgcz1lLmNsaWNrZWRJbmRleCxhPWUuY2xpY2tlZFNsaWRlO2lmKGEmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKHQucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3MpKXJldHVybjtpZihudWxsPT1zKXJldHVybjtsZXQgaTtpPWUucGFyYW1zLmxvb3A/cGFyc2VJbnQoZS5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApOnMsdC5wYXJhbXMubG9vcD90LnNsaWRlVG9Mb29wKGkpOnQuc2xpZGVUbyhpKX1mdW5jdGlvbiBvKCl7Y29uc3R7dGh1bWJzOmV9PXQucGFyYW1zO2lmKHIpcmV0dXJuITE7cj0hMDtjb25zdCBzPXQuY29uc3RydWN0b3I7aWYoZS5zd2lwZXIgaW5zdGFuY2VvZiBzKXQudGh1bWJzLnN3aXBlcj1lLnN3aXBlcixPYmplY3QuYXNzaWduKHQudGh1bWJzLnN3aXBlci5vcmlnaW5hbFBhcmFtcyx7d2F0Y2hTbGlkZXNQcm9ncmVzczohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExfSksT2JqZWN0LmFzc2lnbih0LnRodW1icy5zd2lwZXIucGFyYW1zLHt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNsaWRlVG9DbGlja2VkU2xpZGU6ITF9KSx0LnRodW1icy5zd2lwZXIudXBkYXRlKCk7ZWxzZSBpZihjKGUuc3dpcGVyKSl7Y29uc3QgYT1PYmplY3QuYXNzaWduKHt9LGUuc3dpcGVyKTtPYmplY3QuYXNzaWduKGEse3dhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsc2xpZGVUb0NsaWNrZWRTbGlkZTohMX0pLHQudGh1bWJzLnN3aXBlcj1uZXcgcyhhKSxuPSEwfXJldHVybiB0LnRodW1icy5zd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCh0LnBhcmFtcy50aHVtYnMudGh1bWJzQ29udGFpbmVyQ2xhc3MpLHQudGh1bWJzLnN3aXBlci5vbihcInRhcFwiLGwpLCEwfWZ1bmN0aW9uIGQoZSl7Y29uc3Qgcz10LnRodW1icy5zd2lwZXI7aWYoIXN8fHMuZGVzdHJveWVkKXJldHVybjtjb25zdCBhPVwiYXV0b1wiPT09cy5wYXJhbXMuc2xpZGVzUGVyVmlldz9zLnNsaWRlc1BlclZpZXdEeW5hbWljKCk6cy5wYXJhbXMuc2xpZGVzUGVyVmlldztsZXQgaT0xO2NvbnN0IHI9dC5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcztpZih0LnBhcmFtcy5zbGlkZXNQZXJWaWV3PjEmJiF0LnBhcmFtcy5jZW50ZXJlZFNsaWRlcyYmKGk9dC5wYXJhbXMuc2xpZGVzUGVyVmlldyksdC5wYXJhbXMudGh1bWJzLm11bHRpcGxlQWN0aXZlVGh1bWJzfHwoaT0xKSxpPU1hdGguZmxvb3IoaSkscy5zbGlkZXMuZm9yRWFjaCgoZT0+ZS5jbGFzc0xpc3QucmVtb3ZlKHIpKSkscy5wYXJhbXMubG9vcHx8cy5wYXJhbXMudmlydHVhbCYmcy5wYXJhbXMudmlydHVhbC5lbmFibGVkKWZvcihsZXQgZT0wO2U8aTtlKz0xKWYocy5zbGlkZXNFbCxgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0LnJlYWxJbmRleCtlfVwiXWApLmZvckVhY2goKGU9PntlLmNsYXNzTGlzdC5hZGQocil9KSk7ZWxzZSBmb3IobGV0IGU9MDtlPGk7ZSs9MSlzLnNsaWRlc1t0LnJlYWxJbmRleCtlXSYmcy5zbGlkZXNbdC5yZWFsSW5kZXgrZV0uY2xhc3NMaXN0LmFkZChyKTtjb25zdCBuPXQucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0LGw9biYmIXMucGFyYW1zLmxvb3A7aWYodC5yZWFsSW5kZXghPT1zLnJlYWxJbmRleHx8bCl7Y29uc3QgaT1zLmFjdGl2ZUluZGV4O2xldCByLG87aWYocy5wYXJhbXMubG9vcCl7Y29uc3QgZT1zLnNsaWRlcy5maWx0ZXIoKGU9PmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik9PT1gJHt0LnJlYWxJbmRleH1gKSlbMF07cj1zLnNsaWRlcy5pbmRleE9mKGUpLG89dC5hY3RpdmVJbmRleD50LnByZXZpb3VzSW5kZXg/XCJuZXh0XCI6XCJwcmV2XCJ9ZWxzZSByPXQucmVhbEluZGV4LG89cj50LnByZXZpb3VzSW5kZXg/XCJuZXh0XCI6XCJwcmV2XCI7bCYmKHIrPVwibmV4dFwiPT09bz9uOi0xKm4pLHMudmlzaWJsZVNsaWRlc0luZGV4ZXMmJnMudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihyKTwwJiYocy5wYXJhbXMuY2VudGVyZWRTbGlkZXM/cj1yPmk/ci1NYXRoLmZsb29yKGEvMikrMTpyK01hdGguZmxvb3IoYS8yKS0xOnI+aSYmcy5wYXJhbXMuc2xpZGVzUGVyR3JvdXAscy5zbGlkZVRvKHIsZT8wOnZvaWQgMCkpfX10LnRodW1icz17c3dpcGVyOm51bGx9LGkoXCJiZWZvcmVJbml0XCIsKCgpPT57Y29uc3R7dGh1bWJzOmV9PXQucGFyYW1zO2lmKGUmJmUuc3dpcGVyKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnN3aXBlcnx8ZS5zd2lwZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3Qgcz1hKCksaT0oKT0+e2NvbnN0IGE9XCJzdHJpbmdcIj09dHlwZW9mIGUuc3dpcGVyP3MucXVlcnlTZWxlY3RvcihlLnN3aXBlcik6ZS5zd2lwZXI7aWYoYSYmYS5zd2lwZXIpZS5zd2lwZXI9YS5zd2lwZXIsbygpLGQoITApO2Vsc2UgaWYoYSl7Y29uc3Qgcz1gJHt0LnBhcmFtcy5ldmVudHNQcmVmaXh9aW5pdGAsaT1yPT57ZS5zd2lwZXI9ci5kZXRhaWxbMF0sYS5yZW1vdmVFdmVudExpc3RlbmVyKHMsaSksbygpLGQoITApLGUuc3dpcGVyLnVwZGF0ZSgpLHQudXBkYXRlKCl9O2EuYWRkRXZlbnRMaXN0ZW5lcihzLGkpfXJldHVybiBhfSxyPSgpPT57aWYodC5kZXN0cm95ZWQpcmV0dXJuO2koKXx8cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpfTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocil9ZWxzZSBvKCksZCghMCl9KSksaShcInNsaWRlQ2hhbmdlIHVwZGF0ZSByZXNpemUgb2JzZXJ2ZXJVcGRhdGVcIiwoKCk9PntkKCl9KSksaShcInNldFRyYW5zaXRpb25cIiwoKGUscyk9Pntjb25zdCBhPXQudGh1bWJzLnN3aXBlcjthJiYhYS5kZXN0cm95ZWQmJmEuc2V0VHJhbnNpdGlvbihzKX0pKSxpKFwiYmVmb3JlRGVzdHJveVwiLCgoKT0+e2NvbnN0IGU9dC50aHVtYnMuc3dpcGVyO2UmJiFlLmRlc3Ryb3llZCYmbiYmZS5kZXN0cm95KCl9KSksT2JqZWN0LmFzc2lnbih0LnRodW1icyx7aW5pdDpvLHVwZGF0ZTpkfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxlbWl0OmEsb25jZTppfT1lO3Moe2ZyZWVNb2RlOntlbmFibGVkOiExLG1vbWVudHVtOiEwLG1vbWVudHVtUmF0aW86MSxtb21lbnR1bUJvdW5jZTohMCxtb21lbnR1bUJvdW5jZVJhdGlvOjEsbW9tZW50dW1WZWxvY2l0eVJhdGlvOjEsc3RpY2t5OiExLG1pbmltdW1WZWxvY2l0eTouMDJ9fSksT2JqZWN0LmFzc2lnbih0LHtmcmVlTW9kZTp7b25Ub3VjaFN0YXJ0OmZ1bmN0aW9uKCl7aWYodC5wYXJhbXMuY3NzTW9kZSlyZXR1cm47Y29uc3QgZT10LmdldFRyYW5zbGF0ZSgpO3Quc2V0VHJhbnNsYXRlKGUpLHQuc2V0VHJhbnNpdGlvbigwKSx0LnRvdWNoRXZlbnRzRGF0YS52ZWxvY2l0aWVzLmxlbmd0aD0wLHQuZnJlZU1vZGUub25Ub3VjaEVuZCh7Y3VycmVudFBvczp0LnJ0bD90LnRyYW5zbGF0ZTotdC50cmFuc2xhdGV9KX0sb25Ub3VjaE1vdmU6ZnVuY3Rpb24oKXtpZih0LnBhcmFtcy5jc3NNb2RlKXJldHVybjtjb25zdHt0b3VjaEV2ZW50c0RhdGE6ZSx0b3VjaGVzOnN9PXQ7MD09PWUudmVsb2NpdGllcy5sZW5ndGgmJmUudmVsb2NpdGllcy5wdXNoKHtwb3NpdGlvbjpzW3QuaXNIb3Jpem9udGFsKCk/XCJzdGFydFhcIjpcInN0YXJ0WVwiXSx0aW1lOmUudG91Y2hTdGFydFRpbWV9KSxlLnZlbG9jaXRpZXMucHVzaCh7cG9zaXRpb246c1t0LmlzSG9yaXpvbnRhbCgpP1wiY3VycmVudFhcIjpcImN1cnJlbnRZXCJdLHRpbWU6bygpfSl9LG9uVG91Y2hFbmQ6ZnVuY3Rpb24oZSl7bGV0e2N1cnJlbnRQb3M6c309ZTtpZih0LnBhcmFtcy5jc3NNb2RlKXJldHVybjtjb25zdHtwYXJhbXM6cix3cmFwcGVyRWw6bixydGxUcmFuc2xhdGU6bCxzbmFwR3JpZDpkLHRvdWNoRXZlbnRzRGF0YTpjfT10LHA9bygpLWMudG91Y2hTdGFydFRpbWU7aWYoczwtdC5taW5UcmFuc2xhdGUoKSl0LnNsaWRlVG8odC5hY3RpdmVJbmRleCk7ZWxzZSBpZihzPi10Lm1heFRyYW5zbGF0ZSgpKXQuc2xpZGVzLmxlbmd0aDxkLmxlbmd0aD90LnNsaWRlVG8oZC5sZW5ndGgtMSk6dC5zbGlkZVRvKHQuc2xpZGVzLmxlbmd0aC0xKTtlbHNle2lmKHIuZnJlZU1vZGUubW9tZW50dW0pe2lmKGMudmVsb2NpdGllcy5sZW5ndGg+MSl7Y29uc3QgZT1jLnZlbG9jaXRpZXMucG9wKCkscz1jLnZlbG9jaXRpZXMucG9wKCksYT1lLnBvc2l0aW9uLXMucG9zaXRpb24saT1lLnRpbWUtcy50aW1lO3QudmVsb2NpdHk9YS9pLHQudmVsb2NpdHkvPTIsTWF0aC5hYnModC52ZWxvY2l0eSk8ci5mcmVlTW9kZS5taW5pbXVtVmVsb2NpdHkmJih0LnZlbG9jaXR5PTApLChpPjE1MHx8bygpLWUudGltZT4zMDApJiYodC52ZWxvY2l0eT0wKX1lbHNlIHQudmVsb2NpdHk9MDt0LnZlbG9jaXR5Kj1yLmZyZWVNb2RlLm1vbWVudHVtVmVsb2NpdHlSYXRpbyxjLnZlbG9jaXRpZXMubGVuZ3RoPTA7bGV0IGU9MWUzKnIuZnJlZU1vZGUubW9tZW50dW1SYXRpbztjb25zdCBzPXQudmVsb2NpdHkqZTtsZXQgcD10LnRyYW5zbGF0ZStzO2wmJihwPS1wKTtsZXQgdSxtPSExO2NvbnN0IGg9MjAqTWF0aC5hYnModC52ZWxvY2l0eSkqci5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZVJhdGlvO2xldCBmO2lmKHA8dC5tYXhUcmFuc2xhdGUoKSlyLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlPyhwK3QubWF4VHJhbnNsYXRlKCk8LWgmJihwPXQubWF4VHJhbnNsYXRlKCktaCksdT10Lm1heFRyYW5zbGF0ZSgpLG09ITAsYy5hbGxvd01vbWVudHVtQm91bmNlPSEwKTpwPXQubWF4VHJhbnNsYXRlKCksci5sb29wJiZyLmNlbnRlcmVkU2xpZGVzJiYoZj0hMCk7ZWxzZSBpZihwPnQubWluVHJhbnNsYXRlKCkpci5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZT8ocC10Lm1pblRyYW5zbGF0ZSgpPmgmJihwPXQubWluVHJhbnNsYXRlKCkraCksdT10Lm1pblRyYW5zbGF0ZSgpLG09ITAsYy5hbGxvd01vbWVudHVtQm91bmNlPSEwKTpwPXQubWluVHJhbnNsYXRlKCksci5sb29wJiZyLmNlbnRlcmVkU2xpZGVzJiYoZj0hMCk7ZWxzZSBpZihyLmZyZWVNb2RlLnN0aWNreSl7bGV0IGU7Zm9yKGxldCB0PTA7dDxkLmxlbmd0aDt0Kz0xKWlmKGRbdF0+LXApe2U9dDticmVha31wPU1hdGguYWJzKGRbZV0tcCk8TWF0aC5hYnMoZFtlLTFdLXApfHxcIm5leHRcIj09PXQuc3dpcGVEaXJlY3Rpb24/ZFtlXTpkW2UtMV0scD0tcH1pZihmJiZpKFwidHJhbnNpdGlvbkVuZFwiLCgoKT0+e3QubG9vcEZpeCgpfSkpLDAhPT10LnZlbG9jaXR5KXtpZihlPWw/TWF0aC5hYnMoKC1wLXQudHJhbnNsYXRlKS90LnZlbG9jaXR5KTpNYXRoLmFicygocC10LnRyYW5zbGF0ZSkvdC52ZWxvY2l0eSksci5mcmVlTW9kZS5zdGlja3kpe2NvbnN0IHM9TWF0aC5hYnMoKGw/LXA6cCktdC50cmFuc2xhdGUpLGE9dC5zbGlkZXNTaXplc0dyaWRbdC5hY3RpdmVJbmRleF07ZT1zPGE/ci5zcGVlZDpzPDIqYT8xLjUqci5zcGVlZDoyLjUqci5zcGVlZH19ZWxzZSBpZihyLmZyZWVNb2RlLnN0aWNreSlyZXR1cm4gdm9pZCB0LnNsaWRlVG9DbG9zZXN0KCk7ci5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZSYmbT8odC51cGRhdGVQcm9ncmVzcyh1KSx0LnNldFRyYW5zaXRpb24oZSksdC5zZXRUcmFuc2xhdGUocCksdC50cmFuc2l0aW9uU3RhcnQoITAsdC5zd2lwZURpcmVjdGlvbiksdC5hbmltYXRpbmc9ITAseChuLCgoKT0+e3QmJiF0LmRlc3Ryb3llZCYmYy5hbGxvd01vbWVudHVtQm91bmNlJiYoYShcIm1vbWVudHVtQm91bmNlXCIpLHQuc2V0VHJhbnNpdGlvbihyLnNwZWVkKSxzZXRUaW1lb3V0KCgoKT0+e3Quc2V0VHJhbnNsYXRlKHUpLHgobiwoKCk9Pnt0JiYhdC5kZXN0cm95ZWQmJnQudHJhbnNpdGlvbkVuZCgpfSkpfSksMCkpfSkpKTp0LnZlbG9jaXR5PyhhKFwiX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2VcIiksdC51cGRhdGVQcm9ncmVzcyhwKSx0LnNldFRyYW5zaXRpb24oZSksdC5zZXRUcmFuc2xhdGUocCksdC50cmFuc2l0aW9uU3RhcnQoITAsdC5zd2lwZURpcmVjdGlvbiksdC5hbmltYXRpbmd8fCh0LmFuaW1hdGluZz0hMCx4KG4sKCgpPT57dCYmIXQuZGVzdHJveWVkJiZ0LnRyYW5zaXRpb25FbmQoKX0pKSkpOnQudXBkYXRlUHJvZ3Jlc3MocCksdC51cGRhdGVBY3RpdmVJbmRleCgpLHQudXBkYXRlU2xpZGVzQ2xhc3NlcygpfWVsc2V7aWYoci5mcmVlTW9kZS5zdGlja3kpcmV0dXJuIHZvaWQgdC5zbGlkZVRvQ2xvc2VzdCgpO3IuZnJlZU1vZGUmJmEoXCJfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZVwiKX0oIXIuZnJlZU1vZGUubW9tZW50dW18fHA+PXIubG9uZ1N3aXBlc01zKSYmKGEoXCJfZnJlZU1vZGVTdGF0aWNSZWxlYXNlXCIpLHQudXBkYXRlUHJvZ3Jlc3MoKSx0LnVwZGF0ZUFjdGl2ZUluZGV4KCksdC51cGRhdGVTbGlkZXNDbGFzc2VzKCkpfX19fSl9LGZ1bmN0aW9uKGUpe2xldCB0LHMsYSxpLHtzd2lwZXI6cixleHRlbmRQYXJhbXM6bixvbjpsfT1lO24oe2dyaWQ6e3Jvd3M6MSxmaWxsOlwiY29sdW1uXCJ9fSk7Y29uc3Qgbz0oKT0+e2xldCBlPXIucGFyYW1zLnNwYWNlQmV0d2VlbjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5pbmRleE9mKFwiJVwiKT49MD9lPXBhcnNlRmxvYXQoZS5yZXBsYWNlKFwiJVwiLFwiXCIpKS8xMDAqci5zaXplOlwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1wYXJzZUZsb2F0KGUpKSxlfTtsKFwiaW5pdFwiLCgoKT0+e2k9ci5wYXJhbXMuZ3JpZCYmci5wYXJhbXMuZ3JpZC5yb3dzPjF9KSksbChcInVwZGF0ZVwiLCgoKT0+e2NvbnN0e3BhcmFtczplLGVsOnR9PXIscz1lLmdyaWQmJmUuZ3JpZC5yb3dzPjE7aSYmIXM/KHQuY2xhc3NMaXN0LnJlbW92ZShgJHtlLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGAsYCR7ZS5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCksYT0xLHIuZW1pdENvbnRhaW5lckNsYXNzZXMoKSk6IWkmJnMmJih0LmNsYXNzTGlzdC5hZGQoYCR7ZS5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgKSxcImNvbHVtblwiPT09ZS5ncmlkLmZpbGwmJnQuY2xhc3NMaXN0LmFkZChgJHtlLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKSxyLmVtaXRDb250YWluZXJDbGFzc2VzKCkpLGk9c30pKSxyLmdyaWQ9e2luaXRTbGlkZXM6ZT0+e2NvbnN0e3NsaWRlc1BlclZpZXc6aX09ci5wYXJhbXMse3Jvd3M6bixmaWxsOmx9PXIucGFyYW1zLmdyaWQsbz1yLnZpcnR1YWwmJnIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD9yLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDplLmxlbmd0aDthPU1hdGguZmxvb3Ioby9uKSx0PU1hdGguZmxvb3Ioby9uKT09PW8vbj9vOk1hdGguY2VpbChvL24pKm4sXCJhdXRvXCIhPT1pJiZcInJvd1wiPT09bCYmKHQ9TWF0aC5tYXgodCxpKm4pKSxzPXQvbn0sdW5zZXRTbGlkZXM6KCk9PntyLnNsaWRlcyYmci5zbGlkZXMuZm9yRWFjaCgoZT0+e2Uuc3dpcGVyU2xpZGVHcmlkU2V0JiYoZS5zdHlsZS5oZWlnaHQ9XCJcIixlLnN0eWxlW3IuZ2V0RGlyZWN0aW9uTGFiZWwoXCJtYXJnaW4tdG9wXCIpXT1cIlwiKX0pKX0sdXBkYXRlU2xpZGU6KGUsaSxuKT0+e2NvbnN0e3NsaWRlc1Blckdyb3VwOmx9PXIucGFyYW1zLGQ9bygpLHtyb3dzOmMsZmlsbDpwfT1yLnBhcmFtcy5ncmlkLHU9ci52aXJ0dWFsJiZyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ/ci52aXJ0dWFsLnNsaWRlcy5sZW5ndGg6bi5sZW5ndGg7bGV0IG0saCxmO2lmKFwicm93XCI9PT1wJiZsPjEpe2NvbnN0IHM9TWF0aC5mbG9vcihlLyhsKmMpKSxhPWUtYypsKnMscj0wPT09cz9sOk1hdGgubWluKE1hdGguY2VpbCgodS1zKmMqbCkvYyksbCk7Zj1NYXRoLmZsb29yKGEvciksaD1hLWYqcitzKmwsbT1oK2YqdC9jLGkuc3R5bGUub3JkZXI9bX1lbHNlXCJjb2x1bW5cIj09PXA/KGg9TWF0aC5mbG9vcihlL2MpLGY9ZS1oKmMsKGg+YXx8aD09PWEmJmY9PT1jLTEpJiYoZis9MSxmPj1jJiYoZj0wLGgrPTEpKSk6KGY9TWF0aC5mbG9vcihlL3MpLGg9ZS1mKnMpO2kucm93PWYsaS5jb2x1bW49aCxpLnN0eWxlLmhlaWdodD1gY2FsYygoMTAwJSAtICR7KGMtMSkqZH1weCkgLyAke2N9KWAsaS5zdHlsZVtyLmdldERpcmVjdGlvbkxhYmVsKFwibWFyZ2luLXRvcFwiKV09MCE9PWY/ZCYmYCR7ZH1weGA6XCJcIixpLnN3aXBlclNsaWRlR3JpZFNldD0hMH0sdXBkYXRlV3JhcHBlclNpemU6KGUscyk9Pntjb25zdHtjZW50ZXJlZFNsaWRlczphLHJvdW5kTGVuZ3RoczppfT1yLnBhcmFtcyxuPW8oKSx7cm93czpsfT1yLnBhcmFtcy5ncmlkO2lmKHIudmlydHVhbFNpemU9KGUrbikqdCxyLnZpcnR1YWxTaXplPU1hdGguY2VpbChyLnZpcnR1YWxTaXplL2wpLW4sci5wYXJhbXMuY3NzTW9kZXx8KHIud3JhcHBlckVsLnN0eWxlW3IuZ2V0RGlyZWN0aW9uTGFiZWwoXCJ3aWR0aFwiKV09YCR7ci52aXJ0dWFsU2l6ZStufXB4YCksYSl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrPTEpe2xldCBhPXNbdF07aSYmKGE9TWF0aC5mbG9vcihhKSksc1t0XTxyLnZpcnR1YWxTaXplK3NbMF0mJmUucHVzaChhKX1zLnNwbGljZSgwLHMubGVuZ3RoKSxzLnB1c2goLi4uZSl9fX19LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dH09ZTtPYmplY3QuYXNzaWduKHQse2FwcGVuZFNsaWRlOmxlLmJpbmQodCkscHJlcGVuZFNsaWRlOm9lLmJpbmQodCksYWRkU2xpZGU6ZGUuYmluZCh0KSxyZW1vdmVTbGlkZTpjZS5iaW5kKHQpLHJlbW92ZUFsbFNsaWRlczpwZS5iaW5kKHQpfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjphfT1lO3Moe2ZhZGVFZmZlY3Q6e2Nyb3NzRmFkZTohMX19KSx1ZSh7ZWZmZWN0OlwiZmFkZVwiLHN3aXBlcjp0LG9uOmEsc2V0VHJhbnNsYXRlOigpPT57Y29uc3R7c2xpZGVzOmV9PXQ7dC5wYXJhbXMuZmFkZUVmZmVjdDtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTEpe2NvbnN0IGU9dC5zbGlkZXNbc107bGV0IGE9LWUuc3dpcGVyU2xpZGVPZmZzZXQ7dC5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZXx8KGEtPXQudHJhbnNsYXRlKTtsZXQgaT0wO3QuaXNIb3Jpem9udGFsKCl8fChpPWEsYT0wKTtjb25zdCByPXQucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlP01hdGgubWF4KDEtTWF0aC5hYnMoZS5wcm9ncmVzcyksMCk6MStNYXRoLm1pbihNYXRoLm1heChlLnByb2dyZXNzLC0xKSwwKSxuPW1lKDAsZSk7bi5zdHlsZS5vcGFjaXR5PXIsbi5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZTNkKCR7YX1weCwgJHtpfXB4LCAwcHgpYH19LHNldFRyYW5zaXRpb246ZT0+e2NvbnN0IHM9dC5zbGlkZXMubWFwKChlPT5oKGUpKSk7cy5mb3JFYWNoKCh0PT57dC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7ZX1tc2B9KSksaGUoe3N3aXBlcjp0LGR1cmF0aW9uOmUsdHJhbnNmb3JtRWxlbWVudHM6cyxhbGxTbGlkZXM6ITB9KX0sb3ZlcndyaXRlUGFyYW1zOigpPT4oe3NsaWRlc1BlclZpZXc6MSxzbGlkZXNQZXJHcm91cDoxLHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsc3BhY2VCZXR3ZWVuOjAsdmlydHVhbFRyYW5zbGF0ZTohdC5wYXJhbXMuY3NzTW9kZX0pfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjphfT1lO3Moe2N1YmVFZmZlY3Q6e3NsaWRlU2hhZG93czohMCxzaGFkb3c6ITAsc2hhZG93T2Zmc2V0OjIwLHNoYWRvd1NjYWxlOi45NH19KTtjb25zdCBpPShlLHQscyk9PntsZXQgYT1zP2UucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIik6ZS5xdWVyeVNlbGVjdG9yKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLGk9cz9lLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKTplLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7YXx8KGE9dihcImRpdlwiLChcInN3aXBlci1zbGlkZS1zaGFkb3ctY3ViZSBzd2lwZXItc2xpZGUtc2hhZG93LVwiKyhzP1wibGVmdFwiOlwidG9wXCIpKS5zcGxpdChcIiBcIikpLGUuYXBwZW5kKGEpKSxpfHwoaT12KFwiZGl2XCIsKFwic3dpcGVyLXNsaWRlLXNoYWRvdy1jdWJlIHN3aXBlci1zbGlkZS1zaGFkb3ctXCIrKHM/XCJyaWdodFwiOlwiYm90dG9tXCIpKS5zcGxpdChcIiBcIikpLGUuYXBwZW5kKGkpKSxhJiYoYS5zdHlsZS5vcGFjaXR5PU1hdGgubWF4KC10LDApKSxpJiYoaS5zdHlsZS5vcGFjaXR5PU1hdGgubWF4KHQsMCkpfTt1ZSh7ZWZmZWN0OlwiY3ViZVwiLHN3aXBlcjp0LG9uOmEsc2V0VHJhbnNsYXRlOigpPT57Y29uc3R7ZWw6ZSx3cmFwcGVyRWw6cyxzbGlkZXM6YSx3aWR0aDpyLGhlaWdodDpuLHJ0bFRyYW5zbGF0ZTpsLHNpemU6byxicm93c2VyOmR9PXQsYz1NKHQpLHA9dC5wYXJhbXMuY3ViZUVmZmVjdCx1PXQuaXNIb3Jpem9udGFsKCksbT10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtsZXQgaCxmPTA7cC5zaGFkb3cmJih1PyhoPXQud3JhcHBlckVsLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLWN1YmUtc2hhZG93XCIpLGh8fChoPXYoXCJkaXZcIixcInN3aXBlci1jdWJlLXNoYWRvd1wiKSx0LndyYXBwZXJFbC5hcHBlbmQoaCkpLGguc3R5bGUuaGVpZ2h0PWAke3J9cHhgKTooaD1lLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLWN1YmUtc2hhZG93XCIpLGh8fChoPXYoXCJkaXZcIixcInN3aXBlci1jdWJlLXNoYWRvd1wiKSxlLmFwcGVuZChoKSkpKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrPTEpe2NvbnN0IHQ9YVtlXTtsZXQgcz1lO20mJihzPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApKTtsZXQgcj05MCpzLG49TWF0aC5mbG9vcihyLzM2MCk7bCYmKHI9LXIsbj1NYXRoLmZsb29yKC1yLzM2MCkpO2NvbnN0IGQ9TWF0aC5tYXgoTWF0aC5taW4odC5wcm9ncmVzcywxKSwtMSk7bGV0IGg9MCxnPTAsdj0wO3MlND09MD8oaD00Ki1uKm8sdj0wKToocy0xKSU0PT0wPyhoPTAsdj00Ki1uKm8pOihzLTIpJTQ9PTA/KGg9bys0Km4qbyx2PW8pOihzLTMpJTQ9PTAmJihoPS1vLHY9MypvKzQqbypuKSxsJiYoaD0taCksdXx8KGc9aCxoPTApO2NvbnN0IHc9YHJvdGF0ZVgoJHtjKHU/MDotcil9ZGVnKSByb3RhdGVZKCR7Yyh1P3I6MCl9ZGVnKSB0cmFuc2xhdGUzZCgke2h9cHgsICR7Z31weCwgJHt2fXB4KWA7ZDw9MSYmZD4tMSYmKGY9OTAqcys5MCpkLGwmJihmPTkwKi1zLTkwKmQpKSx0LnN0eWxlLnRyYW5zZm9ybT13LHAuc2xpZGVTaGFkb3dzJiZpKHQsZCx1KX1pZihzLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1gNTAlIDUwJSAtJHtvLzJ9cHhgLHMuc3R5bGVbXCItd2Via2l0LXRyYW5zZm9ybS1vcmlnaW5cIl09YDUwJSA1MCUgLSR7by8yfXB4YCxwLnNoYWRvdylpZih1KWguc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUzZCgwcHgsICR7ci8yK3Auc2hhZG93T2Zmc2V0fXB4LCAkey1yLzJ9cHgpIHJvdGF0ZVgoODkuOTlkZWcpIHJvdGF0ZVooMGRlZykgc2NhbGUoJHtwLnNoYWRvd1NjYWxlfSlgO2Vsc2V7Y29uc3QgZT1NYXRoLmFicyhmKS05MCpNYXRoLmZsb29yKE1hdGguYWJzKGYpLzkwKSx0PTEuNS0oTWF0aC5zaW4oMiplKk1hdGguUEkvMzYwKS8yK01hdGguY29zKDIqZSpNYXRoLlBJLzM2MCkvMikscz1wLnNoYWRvd1NjYWxlLGE9cC5zaGFkb3dTY2FsZS90LGk9cC5zaGFkb3dPZmZzZXQ7aC5zdHlsZS50cmFuc2Zvcm09YHNjYWxlM2QoJHtzfSwgMSwgJHthfSkgdHJhbnNsYXRlM2QoMHB4LCAke24vMitpfXB4LCAkey1uLzIvYX1weCkgcm90YXRlWCgtODkuOTlkZWcpYH1jb25zdCBnPShkLmlzU2FmYXJpfHxkLmlzV2ViVmlldykmJmQubmVlZFBlcnNwZWN0aXZlRml4Py1vLzI6MDtzLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoMHB4LDAsJHtnfXB4KSByb3RhdGVYKCR7Yyh0LmlzSG9yaXpvbnRhbCgpPzA6Zil9ZGVnKSByb3RhdGVZKCR7Yyh0LmlzSG9yaXpvbnRhbCgpPy1mOjApfWRlZylgLHMuc3R5bGUuc2V0UHJvcGVydHkoXCItLXN3aXBlci1jdWJlLXRyYW5zbGF0ZS16XCIsYCR7Z31weGApfSxzZXRUcmFuc2l0aW9uOmU9Pntjb25zdHtlbDpzLHNsaWRlczphfT10O2lmKGEuZm9yRWFjaCgodD0+e3Quc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWAke2V9bXNgLHQucXVlcnlTZWxlY3RvckFsbChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKS5mb3JFYWNoKCh0PT57dC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7ZX1tc2B9KSl9KSksdC5wYXJhbXMuY3ViZUVmZmVjdC5zaGFkb3cmJiF0LmlzSG9yaXpvbnRhbCgpKXtjb25zdCB0PXMucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItY3ViZS1zaGFkb3dcIik7dCYmKHQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWAke2V9bXNgKX19LHJlY3JlYXRlU2hhZG93czooKT0+e2NvbnN0IGU9dC5pc0hvcml6b250YWwoKTt0LnNsaWRlcy5mb3JFYWNoKCh0PT57Y29uc3Qgcz1NYXRoLm1heChNYXRoLm1pbih0LnByb2dyZXNzLDEpLC0xKTtpKHQscyxlKX0pKX0sZ2V0RWZmZWN0UGFyYW1zOigpPT50LnBhcmFtcy5jdWJlRWZmZWN0LHBlcnNwZWN0aXZlOigpPT4hMCxvdmVyd3JpdGVQYXJhbXM6KCk9Pih7c2xpZGVzUGVyVmlldzoxLHNsaWRlc1Blckdyb3VwOjEsd2F0Y2hTbGlkZXNQcm9ncmVzczohMCxyZXNpc3RhbmNlUmF0aW86MCxzcGFjZUJldHdlZW46MCxjZW50ZXJlZFNsaWRlczohMSx2aXJ0dWFsVHJhbnNsYXRlOiEwfSl9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmF9PWU7cyh7ZmxpcEVmZmVjdDp7c2xpZGVTaGFkb3dzOiEwLGxpbWl0Um90YXRpb246ITB9fSk7Y29uc3QgaT0oZSxzKT0+e2xldCBhPXQuaXNIb3Jpem9udGFsKCk/ZS5xdWVyeVNlbGVjdG9yKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKTplLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3BcIiksaT10LmlzSG9yaXpvbnRhbCgpP2UucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpOmUucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbVwiKTthfHwoYT1mZShcImZsaXBcIixlLHQuaXNIb3Jpem9udGFsKCk/XCJsZWZ0XCI6XCJ0b3BcIikpLGl8fChpPWZlKFwiZmxpcFwiLGUsdC5pc0hvcml6b250YWwoKT9cInJpZ2h0XCI6XCJib3R0b21cIikpLGEmJihhLnN0eWxlLm9wYWNpdHk9TWF0aC5tYXgoLXMsMCkpLGkmJihpLnN0eWxlLm9wYWNpdHk9TWF0aC5tYXgocywwKSl9O3VlKHtlZmZlY3Q6XCJmbGlwXCIsc3dpcGVyOnQsb246YSxzZXRUcmFuc2xhdGU6KCk9Pntjb25zdHtzbGlkZXM6ZSxydGxUcmFuc2xhdGU6c309dCxhPXQucGFyYW1zLmZsaXBFZmZlY3Qscj1NKHQpO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bis9MSl7Y29uc3QgbD1lW25dO2xldCBvPWwucHJvZ3Jlc3M7dC5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uJiYobz1NYXRoLm1heChNYXRoLm1pbihsLnByb2dyZXNzLDEpLC0xKSk7Y29uc3QgZD1sLnN3aXBlclNsaWRlT2Zmc2V0O2xldCBjPS0xODAqbyxwPTAsdT10LnBhcmFtcy5jc3NNb2RlPy1kLXQudHJhbnNsYXRlOi1kLG09MDt0LmlzSG9yaXpvbnRhbCgpP3MmJihjPS1jKToobT11LHU9MCxwPS1jLGM9MCksbC5zdHlsZS56SW5kZXg9LU1hdGguYWJzKE1hdGgucm91bmQobykpK2UubGVuZ3RoLGEuc2xpZGVTaGFkb3dzJiZpKGwsbyk7Y29uc3QgaD1gdHJhbnNsYXRlM2QoJHt1fXB4LCAke219cHgsIDBweCkgcm90YXRlWCgke3IocCl9ZGVnKSByb3RhdGVZKCR7cihjKX1kZWcpYDttZSgwLGwpLnN0eWxlLnRyYW5zZm9ybT1ofX0sc2V0VHJhbnNpdGlvbjplPT57Y29uc3Qgcz10LnNsaWRlcy5tYXAoKGU9PmgoZSkpKTtzLmZvckVhY2goKHQ9Pnt0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHtlfW1zYCx0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikuZm9yRWFjaCgodD0+e3Quc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWAke2V9bXNgfSkpfSkpLGhlKHtzd2lwZXI6dCxkdXJhdGlvbjplLHRyYW5zZm9ybUVsZW1lbnRzOnN9KX0scmVjcmVhdGVTaGFkb3dzOigpPT57dC5wYXJhbXMuZmxpcEVmZmVjdCx0LnNsaWRlcy5mb3JFYWNoKChlPT57bGV0IHM9ZS5wcm9ncmVzczt0LnBhcmFtcy5mbGlwRWZmZWN0LmxpbWl0Um90YXRpb24mJihzPU1hdGgubWF4KE1hdGgubWluKGUucHJvZ3Jlc3MsMSksLTEpKSxpKGUscyl9KSl9LGdldEVmZmVjdFBhcmFtczooKT0+dC5wYXJhbXMuZmxpcEVmZmVjdCxwZXJzcGVjdGl2ZTooKT0+ITAsb3ZlcndyaXRlUGFyYW1zOigpPT4oe3NsaWRlc1BlclZpZXc6MSxzbGlkZXNQZXJHcm91cDoxLHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsc3BhY2VCZXR3ZWVuOjAsdmlydHVhbFRyYW5zbGF0ZTohdC5wYXJhbXMuY3NzTW9kZX0pfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjphfT1lO3Moe2NvdmVyZmxvd0VmZmVjdDp7cm90YXRlOjUwLHN0cmV0Y2g6MCxkZXB0aDoxMDAsc2NhbGU6MSxtb2RpZmllcjoxLHNsaWRlU2hhZG93czohMH19KSx1ZSh7ZWZmZWN0OlwiY292ZXJmbG93XCIsc3dpcGVyOnQsb246YSxzZXRUcmFuc2xhdGU6KCk9Pntjb25zdHt3aWR0aDplLGhlaWdodDpzLHNsaWRlczphLHNsaWRlc1NpemVzR3JpZDppfT10LHI9dC5wYXJhbXMuY292ZXJmbG93RWZmZWN0LG49dC5pc0hvcml6b250YWwoKSxsPXQudHJhbnNsYXRlLG89bj9lLzItbDpzLzItbCxkPW4/ci5yb3RhdGU6LXIucm90YXRlLGM9ci5kZXB0aCxwPU0odCk7Zm9yKGxldCBlPTAsdD1hLmxlbmd0aDtlPHQ7ZSs9MSl7Y29uc3QgdD1hW2VdLHM9aVtlXSxsPShvLXQuc3dpcGVyU2xpZGVPZmZzZXQtcy8yKS9zLHU9XCJmdW5jdGlvblwiPT10eXBlb2Ygci5tb2RpZmllcj9yLm1vZGlmaWVyKGwpOmwqci5tb2RpZmllcjtsZXQgbT1uP2QqdTowLGg9bj8wOmQqdSxmPS1jKk1hdGguYWJzKHUpLGc9ci5zdHJldGNoO1wic3RyaW5nXCI9PXR5cGVvZiBnJiYtMSE9PWcuaW5kZXhPZihcIiVcIikmJihnPXBhcnNlRmxvYXQoci5zdHJldGNoKS8xMDAqcyk7bGV0IHY9bj8wOmcqdSx3PW4/Zyp1OjAsYj0xLSgxLXIuc2NhbGUpKk1hdGguYWJzKHUpO01hdGguYWJzKHcpPC4wMDEmJih3PTApLE1hdGguYWJzKHYpPC4wMDEmJih2PTApLE1hdGguYWJzKGYpPC4wMDEmJihmPTApLE1hdGguYWJzKG0pPC4wMDEmJihtPTApLE1hdGguYWJzKGgpPC4wMDEmJihoPTApLE1hdGguYWJzKGIpPC4wMDEmJihiPTApO2NvbnN0IHk9YHRyYW5zbGF0ZTNkKCR7d31weCwke3Z9cHgsJHtmfXB4KSAgcm90YXRlWCgke3AoaCl9ZGVnKSByb3RhdGVZKCR7cChtKX1kZWcpIHNjYWxlKCR7Yn0pYDtpZihtZSgwLHQpLnN0eWxlLnRyYW5zZm9ybT15LHQuc3R5bGUuekluZGV4PTEtTWF0aC5hYnMoTWF0aC5yb3VuZCh1KSksci5zbGlkZVNoYWRvd3Mpe2xldCBlPW4/dC5xdWVyeVNlbGVjdG9yKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKTp0LnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3BcIikscz1uP3QucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpOnQucXVlcnlTZWxlY3RvcihcIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbVwiKTtlfHwoZT1mZShcImNvdmVyZmxvd1wiLHQsbj9cImxlZnRcIjpcInRvcFwiKSksc3x8KHM9ZmUoXCJjb3ZlcmZsb3dcIix0LG4/XCJyaWdodFwiOlwiYm90dG9tXCIpKSxlJiYoZS5zdHlsZS5vcGFjaXR5PXU+MD91OjApLHMmJihzLnN0eWxlLm9wYWNpdHk9LXU+MD8tdTowKX19fSxzZXRUcmFuc2l0aW9uOmU9Pnt0LnNsaWRlcy5tYXAoKGU9PmgoZSkpKS5mb3JFYWNoKCh0PT57dC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7ZX1tc2AsdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpLmZvckVhY2goKHQ9Pnt0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHtlfW1zYH0pKX0pKX0scGVyc3BlY3RpdmU6KCk9PiEwLG92ZXJ3cml0ZVBhcmFtczooKT0+KHt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwfSl9KX0sZnVuY3Rpb24oZSl7bGV0e3N3aXBlcjp0LGV4dGVuZFBhcmFtczpzLG9uOmF9PWU7cyh7Y3JlYXRpdmVFZmZlY3Q6e2xpbWl0UHJvZ3Jlc3M6MSxzaGFkb3dQZXJQcm9ncmVzczohMSxwcm9ncmVzc011bHRpcGxpZXI6MSxwZXJzcGVjdGl2ZTohMCxwcmV2Ont0cmFuc2xhdGU6WzAsMCwwXSxyb3RhdGU6WzAsMCwwXSxvcGFjaXR5OjEsc2NhbGU6MX0sbmV4dDp7dHJhbnNsYXRlOlswLDAsMF0scm90YXRlOlswLDAsMF0sb3BhY2l0eToxLHNjYWxlOjF9fX0pO2NvbnN0IGk9ZT0+XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpgJHtlfXB4YDt1ZSh7ZWZmZWN0OlwiY3JlYXRpdmVcIixzd2lwZXI6dCxvbjphLHNldFRyYW5zbGF0ZTooKT0+e2NvbnN0e3NsaWRlczplLHdyYXBwZXJFbDpzLHNsaWRlc1NpemVzR3JpZDphfT10LHI9dC5wYXJhbXMuY3JlYXRpdmVFZmZlY3Qse3Byb2dyZXNzTXVsdGlwbGllcjpufT1yLGw9dC5wYXJhbXMuY2VudGVyZWRTbGlkZXMsbz1NKHQpO2lmKGwpe2NvbnN0IGU9YVswXS8yLXQucGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZXx8MDtzLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlWChjYWxjKDUwJSAtICR7ZX1weCkpYH1mb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTEpe2NvbnN0IGE9ZVtzXSxkPWEucHJvZ3Jlc3MsYz1NYXRoLm1pbihNYXRoLm1heChhLnByb2dyZXNzLC1yLmxpbWl0UHJvZ3Jlc3MpLHIubGltaXRQcm9ncmVzcyk7bGV0IHA9YztsfHwocD1NYXRoLm1pbihNYXRoLm1heChhLm9yaWdpbmFsUHJvZ3Jlc3MsLXIubGltaXRQcm9ncmVzcyksci5saW1pdFByb2dyZXNzKSk7Y29uc3QgdT1hLnN3aXBlclNsaWRlT2Zmc2V0LG09W3QucGFyYW1zLmNzc01vZGU/LXUtdC50cmFuc2xhdGU6LXUsMCwwXSxoPVswLDAsMF07bGV0IGY9ITE7dC5pc0hvcml6b250YWwoKXx8KG1bMV09bVswXSxtWzBdPTApO2xldCBnPXt0cmFuc2xhdGU6WzAsMCwwXSxyb3RhdGU6WzAsMCwwXSxzY2FsZToxLG9wYWNpdHk6MX07YzwwPyhnPXIubmV4dCxmPSEwKTpjPjAmJihnPXIucHJldixmPSEwKSxtLmZvckVhY2goKChlLHQpPT57bVt0XT1gY2FsYygke2V9cHggKyAoJHtpKGcudHJhbnNsYXRlW3RdKX0gKiAke01hdGguYWJzKGMqbil9KSlgfSkpLGguZm9yRWFjaCgoKGUsdCk9PntsZXQgcz1nLnJvdGF0ZVt0XSpNYXRoLmFicyhjKm4pO2hbdF09c30pKSxhLnN0eWxlLnpJbmRleD0tTWF0aC5hYnMoTWF0aC5yb3VuZChkKSkrZS5sZW5ndGg7Y29uc3Qgdj1tLmpvaW4oXCIsIFwiKSx3PWByb3RhdGVYKCR7byhoWzBdKX1kZWcpIHJvdGF0ZVkoJHtvKGhbMV0pfWRlZykgcm90YXRlWigke28oaFsyXSl9ZGVnKWAsYj1wPDA/YHNjYWxlKCR7MSsoMS1nLnNjYWxlKSpwKm59KWA6YHNjYWxlKCR7MS0oMS1nLnNjYWxlKSpwKm59KWAseT1wPDA/MSsoMS1nLm9wYWNpdHkpKnAqbjoxLSgxLWcub3BhY2l0eSkqcCpuLEU9YHRyYW5zbGF0ZTNkKCR7dn0pICR7d30gJHtifWA7aWYoZiYmZy5zaGFkb3d8fCFmKXtsZXQgZT1hLnF1ZXJ5U2VsZWN0b3IoXCIuc3dpcGVyLXNsaWRlLXNoYWRvd1wiKTtpZighZSYmZy5zaGFkb3cmJihlPWZlKFwiY3JlYXRpdmVcIixhKSksZSl7Y29uc3QgdD1yLnNoYWRvd1BlclByb2dyZXNzP2MqKDEvci5saW1pdFByb2dyZXNzKTpjO2Uuc3R5bGUub3BhY2l0eT1NYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyh0KSwwKSwxKX19Y29uc3QgeD1tZSgwLGEpO3guc3R5bGUudHJhbnNmb3JtPUUseC5zdHlsZS5vcGFjaXR5PXksZy5vcmlnaW4mJih4LnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1nLm9yaWdpbil9fSxzZXRUcmFuc2l0aW9uOmU9Pntjb25zdCBzPXQuc2xpZGVzLm1hcCgoZT0+aChlKSkpO3MuZm9yRWFjaCgodD0+e3Quc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uPWAke2V9bXNgLHQucXVlcnlTZWxlY3RvckFsbChcIi5zd2lwZXItc2xpZGUtc2hhZG93XCIpLmZvckVhY2goKHQ9Pnt0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHtlfW1zYH0pKX0pKSxoZSh7c3dpcGVyOnQsZHVyYXRpb246ZSx0cmFuc2Zvcm1FbGVtZW50czpzLGFsbFNsaWRlczohMH0pfSxwZXJzcGVjdGl2ZTooKT0+dC5wYXJhbXMuY3JlYXRpdmVFZmZlY3QucGVyc3BlY3RpdmUsb3ZlcndyaXRlUGFyYW1zOigpPT4oe3dhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsdmlydHVhbFRyYW5zbGF0ZTohdC5wYXJhbXMuY3NzTW9kZX0pfSl9LGZ1bmN0aW9uKGUpe2xldHtzd2lwZXI6dCxleHRlbmRQYXJhbXM6cyxvbjphfT1lO3Moe2NhcmRzRWZmZWN0OntzbGlkZVNoYWRvd3M6ITAscm90YXRlOiEwLHBlclNsaWRlUm90YXRlOjIscGVyU2xpZGVPZmZzZXQ6OH19KSx1ZSh7ZWZmZWN0OlwiY2FyZHNcIixzd2lwZXI6dCxvbjphLHNldFRyYW5zbGF0ZTooKT0+e2NvbnN0e3NsaWRlczplLGFjdGl2ZUluZGV4OnMscnRsVHJhbnNsYXRlOmF9PXQsaT10LnBhcmFtcy5jYXJkc0VmZmVjdCx7c3RhcnRUcmFuc2xhdGU6cixpc1RvdWNoZWQ6bn09dC50b3VjaEV2ZW50c0RhdGEsbD1hPy10LnRyYW5zbGF0ZTp0LnRyYW5zbGF0ZTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rPTEpe2NvbnN0IGQ9ZVtvXSxjPWQucHJvZ3Jlc3MscD1NYXRoLm1pbihNYXRoLm1heChjLC00KSw0KTtsZXQgdT1kLnN3aXBlclNsaWRlT2Zmc2V0O3QucGFyYW1zLmNlbnRlcmVkU2xpZGVzJiYhdC5wYXJhbXMuY3NzTW9kZSYmKHQud3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlWCgke3QubWluVHJhbnNsYXRlKCl9cHgpYCksdC5wYXJhbXMuY2VudGVyZWRTbGlkZXMmJnQucGFyYW1zLmNzc01vZGUmJih1LT1lWzBdLnN3aXBlclNsaWRlT2Zmc2V0KTtsZXQgbT10LnBhcmFtcy5jc3NNb2RlPy11LXQudHJhbnNsYXRlOi11LGg9MDtjb25zdCBmPS0xMDAqTWF0aC5hYnMocCk7bGV0IGc9MSx2PS1pLnBlclNsaWRlUm90YXRlKnAsdz1pLnBlclNsaWRlT2Zmc2V0LS43NSpNYXRoLmFicyhwKTtjb25zdCBiPXQudmlydHVhbCYmdC5wYXJhbXMudmlydHVhbC5lbmFibGVkP3QudmlydHVhbC5mcm9tK286byx5PShiPT09c3x8Yj09PXMtMSkmJnA+MCYmcDwxJiYobnx8dC5wYXJhbXMuY3NzTW9kZSkmJmw8cixFPShiPT09c3x8Yj09PXMrMSkmJnA8MCYmcD4tMSYmKG58fHQucGFyYW1zLmNzc01vZGUpJiZsPnI7aWYoeXx8RSl7Y29uc3QgZT0oMS1NYXRoLmFicygoTWF0aC5hYnMocCktLjUpLy41KSkqKi41O3YrPS0yOCpwKmUsZys9LS41KmUsdys9OTYqZSxoPS0yNSplKk1hdGguYWJzKHApK1wiJVwifWlmKG09cDwwP2BjYWxjKCR7bX1weCAke2E/XCItXCI6XCIrXCJ9ICgke3cqTWF0aC5hYnMocCl9JSkpYDpwPjA/YGNhbGMoJHttfXB4ICR7YT9cIi1cIjpcIitcIn0gKC0ke3cqTWF0aC5hYnMocCl9JSkpYDpgJHttfXB4YCwhdC5pc0hvcml6b250YWwoKSl7Y29uc3QgZT1oO2g9bSxtPWV9Y29uc3QgeD1wPDA/XCJcIisoMSsoMS1nKSpwKTpcIlwiKygxLSgxLWcpKnApLFM9YFxcbiAgICAgICAgdHJhbnNsYXRlM2QoJHttfSwgJHtofSwgJHtmfXB4KVxcbiAgICAgICAgcm90YXRlWigke2kucm90YXRlP2E/LXY6djowfWRlZylcXG4gICAgICAgIHNjYWxlKCR7eH0pXFxuICAgICAgYDtpZihpLnNsaWRlU2hhZG93cyl7bGV0IGU9ZC5xdWVyeVNlbGVjdG9yKFwiLnN3aXBlci1zbGlkZS1zaGFkb3dcIik7ZXx8KGU9ZmUoXCJjYXJkc1wiLGQpKSxlJiYoZS5zdHlsZS5vcGFjaXR5PU1hdGgubWluKE1hdGgubWF4KChNYXRoLmFicyhwKS0uNSkvLjUsMCksMSkpfWQuc3R5bGUuekluZGV4PS1NYXRoLmFicyhNYXRoLnJvdW5kKGMpKStlLmxlbmd0aDttZSgwLGQpLnN0eWxlLnRyYW5zZm9ybT1TfX0sc2V0VHJhbnNpdGlvbjplPT57Y29uc3Qgcz10LnNsaWRlcy5tYXAoKGU9PmgoZSkpKTtzLmZvckVhY2goKHQ9Pnt0LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1gJHtlfW1zYCx0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpcGVyLXNsaWRlLXNoYWRvd1wiKS5mb3JFYWNoKCh0PT57dC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249YCR7ZX1tc2B9KSl9KSksaGUoe3N3aXBlcjp0LGR1cmF0aW9uOmUsdHJhbnNmb3JtRWxlbWVudHM6c30pfSxwZXJzcGVjdGl2ZTooKT0+ITAsb3ZlcndyaXRlUGFyYW1zOigpPT4oe3dhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsdmlydHVhbFRyYW5zbGF0ZTohdC5wYXJhbXMuY3NzTW9kZX0pfSl9XTtyZXR1cm4gaWUudXNlKGdlKSxpZX0oKTsiXX0=
